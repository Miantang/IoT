var mqtt=function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){(function(t){"use strict";function n(e){var t;e.auth&&(t=e.auth.match(/^(.+):(.+)$/),t?(e.username=t[1],e.password=t[2]):e.username=e.auth)}function r(e,t){function a(e){return t.servers&&(e._reconnectCount&&e._reconnectCount!==t.servers.length||(e._reconnectCount=0),t.host=t.servers[e._reconnectCount].host,t.port=t.servers[e._reconnectCount].port,e._reconnectCount++),l[t.protocol](e,t)}if("object"!=typeof e||t||(t=e,e=null),t=t||{},e&&(t=s(o.parse(e,!0),t),t.protocol=t.protocol.replace(/\:$/,"")),n(t),t.query&&"string"==typeof t.query.clientId&&(t.clientId=t.query.clientId),t.cert&&t.key){if(!t.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss"].indexOf(t.protocol))switch(t.protocol){case"mqtt":t.protocol="mqtts";break;case"ws":t.protocol="wss";break;default:throw new Error('Unknown protocol for secure conenction: "'+t.protocol+'"!')}}if(l[t.protocol]||(t.protocol=c.filter(function(e){return"function"==typeof l[e]})[0]),!1===t.clean&&!t.clientId)throw new Error("Missing clientId for unclean clients");return new i(a,t)}var i=a(2),o=a(49),s=a(55),l={},c=[];"browser"!==t.title&&(l.mqtt=a(56),l.tcp=a(56),l.ssl=a(57),l.tls=a(57),l.mqtts=a(57)),l.ws=a(58),l.wss=a(58),c=["mqtt","mqtts","ws","wss"],e.exports=r,e.exports.connect=r}).call(t,a(1))},function(e,t){function a(){c=!1,o.length?l=o.concat(l):p=-1,l.length&&n()}function n(){if(!c){var e=setTimeout(a);c=!0;for(var t=l.length;t;){for(o=l,l=[];++p<t;)o&&o[p].run();p=-1,t=l.length}o=null,c=!1,clearTimeout(e)}}function r(e,t){this.fun=e,this.array=t}function i(){}var o,s=e.exports={},l=[],c=!1,p=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];l.push(new r(e,t)),1!==l.length||c||setTimeout(n,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=i,s.addListener=i,s.once=i,s.off=i,s.removeListener=i,s.removeAllListeners=i,s.emit=i,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,a){(function(t,n){"use strict";function r(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}function i(e,t,a){try{var n=u.generate(t);!e.stream.write(n)&&a?e.stream.once("drain",a):a&&a()}catch(r){a?a(r):e.emit("error",r)}}function o(e,t,a){e.outgoingStore.put(t,function(n){return n?a&&a(n):void i(e,t,a)})}function s(){}function l(e,t){var a,n=this;if(!(this instanceof l))return new l(e,t);this.options=t||{};for(a in g)"undefined"==typeof this.options[a]?this.options[a]=g[a]:this.options[a]=t[a];this.options.clientId=this.options.clientId||r(),this.streamBuilder=e,this.outgoingStore=this.options.outgoingStore||new p,this.incomingStore=this.options.incomingStore||new p,this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.disconnecting=!1,this.connackTimer=null,this.reconnectTimer=null,this.nextId=Math.floor(65535*Math.random()),this.outgoing={},this.on("connect",function(){this.connected=!0;var e=null;e=this.outgoingStore.createStream(),e.once("readable",function(){function t(){var a=e.read(1);a&&(!n.disconnecting&&!n.reconnectTimer&&0<n.options.reconnectPeriod?(e.read(0),n.outgoing[a.messageId]=t,n._sendPacket(a)):e.destroy&&e.destroy())}t()}).on("error",this.emit.bind(this,"error"))}),this.on("close",function(){this.connected=!1}),this.on("connect",this._setupPingTimer),this.on("connect",function(){function e(){var a=t.shift(),r=null;a&&(r=a.packet,n._sendPacket(r,function(t){a.cb&&a.cb(t),e()}))}var t=this.queue;e()}),this.on("close",function(){null!==n.pingTimer&&(clearInterval(n.pingTimer),n.pingTimer=null)}),this.on("close",this._setupReconnect),c.EventEmitter.call(this),this._setupStream()}var c=a(3),p=a(4),d=a(36),u=a(39),h=a(5).Writable,f=a(30),m=t.setImmediate||function(e){n.nextTick(e)},g={keepalive:10,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0};f(l,c.EventEmitter),l.prototype._setupStream=function(){function e(){var t=l.shift(),n=o;t?a._handlePacket(t,e):(o=null,n())}var t,a=this,n=new h,r=u.parser(this.options),o=null,l=[];this._clearReconnect(),this.stream=this.streamBuilder(this),r.on("packet",function(e){l.push(e)}),n._write=function(t,a,n){o=n,r.parse(t),e()},this.stream.pipe(n),this.stream.on("error",s),d(this.stream,this.emit.bind(this,"close")),t=Object.create(this.options),t.cmd="connect",i(this,t),r.on("error",this.emit.bind(this,"error")),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){a._cleanUp(!0)},this.options.connectTimeout)},l.prototype._handlePacket=function(e,t){switch(e.cmd){case"publish":this._handlePublish(e,t);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(e),t();break;case"pubrel":this._handlePubrel(e,t);break;case"connack":this._handleConnack(e),t();break;case"pingresp":this._handlePingresp(e),t()}},l.prototype._checkDisconnecting=function(e){return this.disconnecting&&(e?e(new Error("client disconnecting")):this.emit(new Error("client disconnecting"))),this.disconnecting},l.prototype.publish=function(e,t,a,n){var r;if("function"==typeof a&&(n=a,a=null),a||(a={qos:0,retain:!1}),this._checkDisconnecting(n))return this;switch(n=n||s,r={cmd:"publish",topic:e,payload:t,qos:a.qos,retain:a.retain,messageId:this._nextId()},a.qos){case 1:case 2:this.outgoing[r.messageId]=n,this._sendPacket(r);break;default:this._sendPacket(r,n)}return this},l.prototype.subscribe=function(){var e,t=Array.prototype.slice.call(arguments),a=[],n=t.shift(),r=t.pop()||s,i=t.pop();return"string"==typeof n&&(n=[n]),this._checkDisconnecting(r)?this:("function"!=typeof r&&(i=r,r=s),i||(i={qos:0}),Array.isArray(n)?n.forEach(function(e){a.push({topic:e,qos:i.qos})}):Object.keys(n).forEach(function(e){a.push({topic:e,qos:n[e]})}),e={cmd:"subscribe",subscriptions:a,qos:1,retain:!1,dup:!1,messageId:this._nextId()},this.outgoing[e.messageId]=r,this._sendPacket(e),this)},l.prototype.unsubscribe=function(e,t){var a={cmd:"unsubscribe",qos:1,messageId:this._nextId()};return t=t||s,this._checkDisconnecting(t)?this:("string"==typeof e?a.unsubscriptions=[e]:"object"==typeof e&&e.length&&(a.unsubscriptions=e),this.outgoing[a.messageId]=t,this._sendPacket(a),this)},l.prototype.end=function(e,t){function a(){r.incomingStore.close(function(){r.outgoingStore.close(t)})}function n(){r._cleanUp(e,a)}var r=this;return"function"==typeof e&&(t=e,e=!1),this.disconnecting?!0:(this.disconnecting=!0,!e&&0<Object.keys(this.outgoing).length?this.once("outgoingEmpty",setTimeout.bind(null,n,10)):n(),this)},l.prototype._reconnect=function(){this.emit("reconnect"),this._setupStream()},l.prototype._setupReconnect=function(){var e=this;!e.disconnecting&&!e.reconnectTimer&&0<e.options.reconnectPeriod&&(this.emit("offline"),e.reconnectTimer=setInterval(function(){e._reconnect()},e.options.reconnectPeriod))},l.prototype._clearReconnect=function(){this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=!1)},l.prototype._cleanUp=function(e,t){t&&this.stream.on("close",t),e?this.stream.destroy():this._sendPacket({cmd:"disconnect"},m.bind(null,this.stream.end.bind(this.stream))),this._clearReconnect(),null!==this.pingTimer&&(clearInterval(this.pingTimer),this.pingTimer=null)},l.prototype._sendPacket=function(e,t){if(!this.connected)return this.queue.push({packet:e,cb:t});switch(e.qos){case 2:case 1:o(this,e,t);break;case 0:default:i(this,e,t)}},l.prototype._setupPingTimer=function(){var e=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=setInterval(function(){e._checkPing()},1e3*this.options.keepalive))},l.prototype._checkPing=function(){this.pingResp?(this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):this._cleanUp(!0)},l.prototype._handlePingresp=function(){this.pingResp=!0},l.prototype._handleConnack=function(e){var t=e.returnCode,a=["","Unacceptable protocol version","Identifier rejected","Server unavailable","Bad username or password","Not authorized"];clearTimeout(this.connackTimer),0===t?this.emit("connect"):t>0&&this.emit("error",new Error("Connection refused: "+a[t]))},l.prototype._handlePublish=function(e,t){var a=e.topic.toString(),n=e.payload,r=e.qos,i=e.messageId,o=this;switch(r){case 2:this.incomingStore.put(e,function(){o._sendPacket({cmd:"pubrec",messageId:i},t)});break;case 1:this._sendPacket({cmd:"puback",messageId:i});case 0:this.emit("message",a,n,e),this.handleMessage(e,t)}},l.prototype.handleMessage=function(e,t){t()},l.prototype._handleAck=function(e){var t=e.messageId,a=e.cmd,n=null,r=this.outgoing[t],i=this;if(r){switch(a){case"pubcomp":case"puback":delete this.outgoing[t],this.outgoingStore.del(e,r);break;case"pubrec":n={cmd:"pubrel",qos:2,messageId:t},this._sendPacket(n);break;case"suback":delete this.outgoing[t],this.outgoingStore.del(e,function(t,a){var n,o=a.subscriptions,s=e.granted;if(t)return i.emit("error",t);for(n=0;n<s.length;n+=1)o[n].qos=s[n];r(null,o)});break;case"unsuback":delete this.outgoing[t],this.outgoingStore.del(e,r);break;default:i.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}},l.prototype._handlePubrel=function(e,t){var a=e.messageId,n=this;n.incomingStore.get(e,function(r,i){return r?n.emit("error",r):("pubrel"!==i.cmd&&(n.emit("message",i.topic,i.payload,i),n.incomingStore.put(e)),void n._sendPacket({cmd:"pubcomp",messageId:a},t))})},l.prototype._nextId=function(){var e=this.nextId++;return 65535===e&&(this.nextId=1),e},e.exports=l}).call(t,function(){return this}(),a(1))},function(e,t){function a(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function r(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0,a.defaultMaxListeners=10,a.prototype.setMaxListeners=function(e){if(!r(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},a.prototype.emit=function(e){var t,a,r,s,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(a=this._events[e],o(a))return!1;if(n(a))switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),a.apply(this,s)}else if(i(a))for(s=Array.prototype.slice.call(arguments,1),c=a.slice(),r=c.length,l=0;r>l;l++)c[l].apply(this,s);return!0},a.prototype.addListener=function(e,t){var r;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(r=o(this._maxListeners)?a.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},a.prototype.on=a.prototype.addListener,a.prototype.once=function(e,t){function a(){this.removeListener(e,a),r||(r=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var r=!1;return a.listener=t,this.on(e,a),this},a.prototype.removeListener=function(e,t){var a,r,o,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=this._events[e],o=a.length,r=-1,a===t||n(a.listener)&&a.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(a)){for(s=o;s-->0;)if(a[s]===t||a[s].listener&&a[s].listener===t){r=s;break}if(0>r)return this;1===a.length?(a.length=0,delete this._events[e]):a.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},a.prototype.removeAllListeners=function(e){var t,a;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(a=this._events[e],n(a))this.removeListener(e,a);else if(a)for(;a.length;)this.removeListener(e,a[a.length-1]);return delete this._events[e],this},a.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},a.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},a.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,a){(function(t){"use strict";function n(){return this instanceof n?void(this._inflights={}):new n}var r=a(5).Readable,i={objectMode:!0};n.prototype.put=function(e,t){return this._inflights[e.messageId]=e,t&&t(),this},n.prototype.createStream=function(){var e=new r(i),a=this._inflights,n=Object.keys(this._inflights),o=!1,s=0;return e._read=function(){!o&&s<n.length?this.push(a[n[s++]]):this.push(null)},e.destroy=function(){if(!o){var e=this;o=!0,t.nextTick(function(){e.emit("close")})}},e},n.prototype.del=function(e,t){return e=this._inflights[e.messageId],e?(delete this._inflights[e.messageId],t(null,e)):t&&t(new Error("missing packet")),this},n.prototype.get=function(e,t){return e=this._inflights[e.messageId],e?t(null,e):t&&t(new Error("missing packet")),this},n.prototype.close=function(e){this._inflights=null,e&&e()},e.exports=n}).call(t,a(1))},function(e,t,a){var n=a(6);t=e.exports=a(27),t.Stream=n,t.Readable=t,t.Writable=a(32),t.Duplex=a(33),t.Transform=a(34),t.PassThrough=a(35)},function(e,t,a){function n(){r.call(this)}e.exports=n;var r=a(3).EventEmitter,i=a(7);i(n,r),n.Readable=a(8),n.Writable=a(23),n.Duplex=a(24),n.Transform=a(25),n.PassThrough=a(26),n.Stream=n,n.prototype.pipe=function(e,t){function a(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function n(){c.readable&&c.resume&&c.resume()}function i(){p||(p=!0,e.end())}function o(){p||(p=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){c.removeListener("data",a),e.removeListener("drain",n),c.removeListener("end",i),c.removeListener("close",o),c.removeListener("error",s),e.removeListener("error",s),c.removeListener("end",l),c.removeListener("close",l),e.removeListener("close",l)}var c=this;c.on("data",a),e.on("drain",n),e._isStdio||t&&t.end===!1||(c.on("end",i),c.on("close",o));var p=!1;return c.on("error",s),e.on("error",s),c.on("end",l),c.on("close",l),e.on("close",l),e.emit("pipe",c),e}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var a=function(){};a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e}},function(e,t,a){t=e.exports=a(9),t.Stream=a(6),t.Readable=t,t.Writable=a(19),t.Duplex=a(18),t.Transform=a(21),t.PassThrough=a(22)},function(e,t,a){(function(t){function n(e,t){var n=a(18);e=e||{};var r=e.highWaterMark,i=e.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(_||(_=a(20).StringDecoder),this.decoder=new _(e.encoding),this.encoding=e.encoding)}function r(e){a(18);return this instanceof r?(this._readableState=new n(e,this),this.readable=!0,void E.call(this)):new r(e)}function i(e,t,a,n,r){var i=c(t,a);if(i)e.emit("error",i);else if(P.isNullOrUndefined(a))t.reading=!1,t.ended||p(e,t);else if(t.objectMode||a&&a.length>0)if(t.ended&&!r){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&r){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||r||n||(a=t.decoder.write(a)),r||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",a),e.read(0)):(t.length+=t.objectMode?1:a.length,r?t.buffer.unshift(a):t.buffer.push(a),t.needReadable&&d(e)),h(e,t);else r||(t.reading=!1);return o(t)}function o(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function s(e){if(e>=I)e=I;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function l(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||P.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=s(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var a=null;return P.isBuffer(t)||P.isString(t)||P.isNullOrUndefined(t)||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a}function p(e,t){if(t.decoder&&!t.ended){var a=t.decoder.end();a&&a.length&&(t.buffer.push(a),t.length+=t.objectMode?1:a.length)}t.ended=!0,d(e)}function d(e){var a=e._readableState;a.needReadable=!1,a.emittedReadable||(M("emitReadable",a.flowing),a.emittedReadable=!0,a.sync?t.nextTick(function(){u(e)}):u(e))}function u(e){M("emit readable"),e.emit("readable"),b(e)}function h(e,a){a.readingMore||(a.readingMore=!0,t.nextTick(function(){f(e,a)}))}function f(e,t){for(var a=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(M("maybeReadMore read 0"),e.read(0),a!==t.length);)a=t.length;t.readingMore=!1}function m(e){return function(){var t=e._readableState;M("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&T.listenerCount(e,"data")&&(t.flowing=!0,b(e))}}function g(e,a){a.resumeScheduled||(a.resumeScheduled=!0,t.nextTick(function(){v(e,a)}))}function v(e,t){t.resumeScheduled=!1,e.emit("resume"),b(e),t.flowing&&!t.reading&&e.read(0)}function b(e){var t=e._readableState;if(M("flow",t.flowing),t.flowing)do var a=e.read();while(null!==a&&t.flowing)}function w(e,t){var a,n=t.buffer,r=t.length,i=!!t.decoder,o=!!t.objectMode;if(0===n.length)return null;if(0===r)a=null;else if(o)a=n.shift();else if(!e||e>=r)a=i?n.join(""):S.concat(n,r),n.length=0;else if(e<n[0].length){var s=n[0];a=s.slice(0,e),n[0]=s.slice(e)}else if(e===n[0].length)a=n.shift();else{a=i?"":new S(e);for(var l=0,c=0,p=n.length;p>c&&e>l;c++){var s=n[0],d=Math.min(e-l,s.length);i?a+=s.slice(0,d):s.copy(a,l,0,d),d<s.length?n[0]=s.slice(d):n.shift(),l+=d}}return a}function y(e){var a=e._readableState;if(a.length>0)throw new Error("endReadable called on non-empty stream");a.endEmitted||(a.ended=!0,t.nextTick(function(){a.endEmitted||0!==a.length||(a.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function C(e,t){for(var a=0,n=e.length;n>a;a++)t(e[a],a)}function x(e,t){for(var a=0,n=e.length;n>a;a++)if(e[a]===t)return a;return-1}e.exports=r;var k=a(10),S=a(11).Buffer;r.ReadableState=n;var T=a(3).EventEmitter;T.listenerCount||(T.listenerCount=function(e,t){return e.listeners(t).length});var E=a(6),P=a(15);P.inherits=a(16);var _,M=a(17);M=M&&M.debuglog?M.debuglog("stream"):function(){},P.inherits(r,E),r.prototype.push=function(e,t){var a=this._readableState;return P.isString(e)&&!a.objectMode&&(t=t||a.defaultEncoding,t!==a.encoding&&(e=new S(e,t),t="")),i(this,a,e,t,!1)},r.prototype.unshift=function(e){var t=this._readableState;return i(this,t,e,"",!0)},r.prototype.setEncoding=function(e){return _||(_=a(20).StringDecoder),this._readableState.decoder=new _(e),this._readableState.encoding=e,this};var I=8388608;r.prototype.read=function(e){M("read",e);var t=this._readableState,a=e;if((!P.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return M("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?y(this):d(this),null;if(e=l(e,t),0===e&&t.ended)return 0===t.length&&y(this),null;var n=t.needReadable;M("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,M("length less than watermark",n)),(t.ended||t.reading)&&(n=!1,M("reading or ended",n)),n&&(M("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),n&&!t.reading&&(e=l(a,t));var r;return r=e>0?w(e,t):null,P.isNull(r)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),a!==e&&t.ended&&0===t.length&&y(this),P.isNull(r)||this.emit("data",r),r},r.prototype._read=function(e){this.emit("error",new Error("not implemented"))},r.prototype.pipe=function(e,a){function n(e){M("onunpipe"),e===d&&i()}function r(){M("onend"),e.end()}function i(){M("cleanup"),e.removeListener("close",l),e.removeListener("finish",c),e.removeListener("drain",g),e.removeListener("error",s),e.removeListener("unpipe",n),d.removeListener("end",r),d.removeListener("end",i),d.removeListener("data",o),!u.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function o(t){M("ondata");var a=e.write(t);!1===a&&(M("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,d.pause())}function s(t){M("onerror",t),p(),e.removeListener("error",s),0===T.listenerCount(e,"error")&&e.emit("error",t)}function l(){e.removeListener("finish",c),p()}function c(){M("onfinish"),e.removeListener("close",l),p()}function p(){M("unpipe"),d.unpipe(e)}var d=this,u=this._readableState;switch(u.pipesCount){case 0:u.pipes=e;break;case 1:u.pipes=[u.pipes,e];break;default:u.pipes.push(e)}u.pipesCount+=1,M("pipe count=%d opts=%j",u.pipesCount,a);var h=(!a||a.end!==!1)&&e!==t.stdout&&e!==t.stderr,f=h?r:i;u.endEmitted?t.nextTick(f):d.once("end",f),e.on("unpipe",n);var g=m(d);return e.on("drain",g),d.on("data",o),e._events&&e._events.error?k(e._events.error)?e._events.error.unshift(s):e._events.error=[s,e._events.error]:e.on("error",s),e.once("close",l),e.once("finish",c),e.emit("pipe",d),u.flowing||(M("pipe resume"),d.resume()),e},r.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var a=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var r=0;n>r;r++)a[r].emit("unpipe",this);return this}var r=x(t.pipes,e);return-1===r?this:(t.pipes.splice(r,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},r.prototype.on=function(e,a){var n=E.prototype.on.call(this,e,a);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var r=this._readableState;if(!r.readableListening)if(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading)r.length&&d(this,r);else{var i=this;t.nextTick(function(){M("readable nexttick read 0"),i.read(0)})}}return n},r.prototype.addListener=r.prototype.on,r.prototype.resume=function(){var e=this._readableState;return e.flowing||(M("resume"),e.flowing=!0,e.reading||(M("resume read 0"),this.read(0)),g(this,e)),this},r.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this},r.prototype.wrap=function(e){var t=this._readableState,a=!1,n=this;e.on("end",function(){if(M("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(r){if(M("wrapped data"),t.decoder&&(r=t.decoder.write(r)),r&&(t.objectMode||r.length)){var i=n.push(r);i||(a=!0,e.pause())}});for(var r in e)P.isFunction(e[r])&&P.isUndefined(this[r])&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));var i=["error","close","destroy","pause","resume"];return C(i,function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){M("wrapped _read",t),a&&(a=!1,e.resume())},n},r._fromList=w}).call(t,a(1))},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,a){(function(e,n){function r(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(a){return!1}}function i(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(t){return this instanceof e?(this.length=0,this.parent=void 0,"number"==typeof t?o(this,t):"string"==typeof t?s(this,t,arguments.length>1?arguments[1]:"utf8"):l(this,t)):arguments.length>1?new e(t,arguments[1]):new e(t)}function o(t,a){if(t=m(t,0>a?0:0|g(a)),!e.TYPED_ARRAY_SUPPORT)for(var n=0;a>n;n++)t[n]=0;return t}function s(e,t,a){("string"!=typeof a||""===a)&&(a="utf8");var n=0|b(t,a);return e=m(e,n),e.write(t,a),e}function l(t,a){if(e.isBuffer(a))return c(t,a);if(Q(a))return p(t,a);if(null==a)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(a.buffer instanceof ArrayBuffer)return d(t,a);if(a instanceof ArrayBuffer)return u(t,a)}return a.length?h(t,a):f(t,a)}function c(e,t){var a=0|g(t.length);return e=m(e,a),t.copy(e,0,0,a),e}function p(e,t){var a=0|g(t.length);e=m(e,a);for(var n=0;a>n;n+=1)e[n]=255&t[n];return e}function d(e,t){var a=0|g(t.length);e=m(e,a);for(var n=0;a>n;n+=1)e[n]=255&t[n];return e}function u(t,a){return e.TYPED_ARRAY_SUPPORT?(a.byteLength,t=e._augment(new Uint8Array(a))):t=d(t,new Uint8Array(a)),t}function h(e,t){var a=0|g(t.length);e=m(e,a);for(var n=0;a>n;n+=1)e[n]=255&t[n];return e}function f(e,t){var a,n=0;"Buffer"===t.type&&Q(t.data)&&(a=t.data,n=0|g(a.length)),e=m(e,n);for(var r=0;n>r;r+=1)e[r]=255&a[r];return e}function m(t,a){e.TYPED_ARRAY_SUPPORT?(t=e._augment(new Uint8Array(a)),t.__proto__=e.prototype):(t.length=a,t._isBuffer=!0);var n=0!==a&&a<=e.poolSize>>>1;return n&&(t.parent=J),t}function g(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function v(t,a){if(!(this instanceof v))return new v(t,a);var n=new e(t,a);return delete n.parent,n}function b(e,t){"string"!=typeof e&&(e=""+e);var a=e.length;if(0===a)return 0;for(var n=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return a;case"utf8":case"utf-8":return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*a;case"hex":return a>>>1;case"base64":return V(e).length;default:if(n)return F(e).length;t=(""+t).toLowerCase(),n=!0}}function w(e,t,a){var n=!1;if(t=0|t,a=void 0===a||a===1/0?this.length:0|a,e||(e="utf8"),0>t&&(t=0),a>this.length&&(a=this.length),t>=a)return"";for(;;)switch(e){case"hex":return L(this,t,a);case"utf8":case"utf-8":return P(this,t,a);case"ascii":return M(this,t,a);case"binary":return I(this,t,a);case"base64":return E(this,t,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,a);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,a,n){a=Number(a)||0;var r=e.length-a;n?(n=Number(n),n>r&&(n=r)):n=r;var i=t.length;if(i%2!==0)throw new Error("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;n>o;o++){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[a+o]=s}return o}function C(e,t,a,n){return G(F(t,e.length-a),e,a,n)}function x(e,t,a,n){return G(W(t),e,a,n)}function k(e,t,a,n){return x(e,t,a,n)}function S(e,t,a,n){return G(V(t),e,a,n)}function T(e,t,a,n){return G(Y(t,e.length-a),e,a,n)}function E(e,t,a){return 0===t&&a===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,a))}function P(e,t,a){a=Math.min(e.length,a);for(var n=[],r=t;a>r;){var i=e[r],o=null,s=i>239?4:i>223?3:i>191?2:1;if(a>=r+s){var l,c,p,d;switch(s){case 1:128>i&&(o=i);break;case 2:l=e[r+1],128===(192&l)&&(d=(31&i)<<6|63&l,d>127&&(o=d));break;case 3:l=e[r+1],c=e[r+2],128===(192&l)&&128===(192&c)&&(d=(15&i)<<12|(63&l)<<6|63&c,d>2047&&(55296>d||d>57343)&&(o=d));break;case 4:l=e[r+1],c=e[r+2],p=e[r+3],128===(192&l)&&128===(192&c)&&128===(192&p)&&(d=(15&i)<<18|(63&l)<<12|(63&c)<<6|63&p,d>65535&&1114112>d&&(o=d))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),r+=s}return _(n)}function _(e){var t=e.length;if(Z>=t)return String.fromCharCode.apply(String,e);for(var a="",n=0;t>n;)a+=String.fromCharCode.apply(String,e.slice(n,n+=Z));return a}function M(e,t,a){var n="";a=Math.min(e.length,a);for(var r=t;a>r;r++)n+=String.fromCharCode(127&e[r]);return n}function I(e,t,a){var n="";a=Math.min(e.length,a);for(var r=t;a>r;r++)n+=String.fromCharCode(e[r]);return n}function L(e,t,a){var n=e.length;(!t||0>t)&&(t=0),(!a||0>a||a>n)&&(a=n);for(var r="",i=t;a>i;i++)r+=q(e[i]);return r}function O(e,t,a){for(var n=e.slice(t,a),r="",i=0;i<n.length;i+=2)r+=String.fromCharCode(n[i]+256*n[i+1]);return r}function B(e,t,a){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>a)throw new RangeError("Trying to access beyond buffer length")}function A(t,a,n,r,i,o){if(!e.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(a>i||o>a)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range")}function D(e,t,a,n){0>t&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-a,2);i>r;r++)e[a+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function R(e,t,a,n){0>t&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-a,4);i>r;r++)e[a+r]=t>>>8*(n?r:3-r)&255}function N(e,t,a,n,r,i){if(t>r||i>t)throw new RangeError("value is out of bounds");if(a+n>e.length)throw new RangeError("index out of range");if(0>a)throw new RangeError("index out of range")}function z(e,t,a,n,r){return r||N(e,t,a,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,a,n,23,4),a+4}function j(e,t,a,n,r){return r||N(e,t,a,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,a,n,52,8),a+8}function H(e){if(e=U(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function U(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function q(e){return 16>e?"0"+e.toString(16):e.toString(16)}function F(e,t){t=t||1/0;for(var a,n=e.length,r=null,i=[],o=0;n>o;o++){if(a=e.charCodeAt(o),a>55295&&57344>a){if(!r){if(a>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}r=a;continue}if(56320>a){(t-=3)>-1&&i.push(239,191,189),r=a;continue}a=r-55296<<10|a-56320|65536}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,128>a){if((t-=1)<0)break;i.push(a)}else if(2048>a){if((t-=2)<0)break;i.push(a>>6|192,63&a|128)}else if(65536>a){if((t-=3)<0)break;i.push(a>>12|224,a>>6&63|128,63&a|128)}else{if(!(1114112>a))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}}return i}function W(e){for(var t=[],a=0;a<e.length;a++)t.push(255&e.charCodeAt(a));return t}function Y(e,t){for(var a,n,r,i=[],o=0;o<e.length&&!((t-=2)<0);o++)a=e.charCodeAt(o),n=a>>8,r=a%256,i.push(r),i.push(n);return i}function V(e){return X.toByteArray(H(e))}function G(e,t,a,n){for(var r=0;n>r&&!(r+a>=t.length||r>=e.length);r++)t[r+a]=e[r];
return r}var X=a(12),K=a(13),Q=a(14);t.Buffer=e,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,e.poolSize=8192;var J={};e.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:r(),e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array),e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,a){if(!e.isBuffer(t)||!e.isBuffer(a))throw new TypeError("Arguments must be Buffers");if(t===a)return 0;for(var n=t.length,r=a.length,i=0,o=Math.min(n,r);o>i&&t[i]===a[i];)++i;return i!==o&&(n=t[i],r=a[i]),r>n?-1:n>r?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,a){if(!Q(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new e(0);var n;if(void 0===a)for(a=0,n=0;n<t.length;n++)a+=t[n].length;var r=new e(a),i=0;for(n=0;n<t.length;n++){var o=t[n];o.copy(r,i),i+=o.length}return r},e.byteLength=b,e.prototype.length=void 0,e.prototype.parent=void 0,e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):w.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===e.compare(this,t)},e.prototype.inspect=function(){var e="",a=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,a).match(/.{2}/g).join(" "),this.length>a&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:e.compare(this,t)},e.prototype.indexOf=function(t,a){function n(e,t,a){for(var n=-1,r=0;a+r<e.length;r++)if(e[a+r]===t[-1===n?0:r-n]){if(-1===n&&(n=r),r-n+1===t.length)return a+n}else n=-1;return-1}if(a>2147483647?a=2147483647:-2147483648>a&&(a=-2147483648),a>>=0,0===this.length)return-1;if(a>=this.length)return-1;if(0>a&&(a=Math.max(this.length+a,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,a);if(e.isBuffer(t))return n(this,t,a);if("number"==typeof t)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,a):n(this,[t],a);throw new TypeError("val must be string, number or Buffer")},e.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},e.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},e.prototype.write=function(e,t,a,n){if(void 0===t)n="utf8",a=this.length,t=0;else if(void 0===a&&"string"==typeof t)n=t,a=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(a)?(a=0|a,void 0===n&&(n="utf8")):(n=a,a=void 0);else{var r=n;n=t,t=0|a,a=r}var i=this.length-t;if((void 0===a||a>i)&&(a=i),e.length>0&&(0>a||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return y(this,e,t,a);case"utf8":case"utf-8":return C(this,e,t,a);case"ascii":return x(this,e,t,a);case"binary":return k(this,e,t,a);case"base64":return S(this,e,t,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,a);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;e.prototype.slice=function(t,a){var n=this.length;t=~~t,a=void 0===a?n:~~a,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>a?(a+=n,0>a&&(a=0)):a>n&&(a=n),t>a&&(a=t);var r;if(e.TYPED_ARRAY_SUPPORT)r=e._augment(this.subarray(t,a));else{var i=a-t;r=new e(i,void 0);for(var o=0;i>o;o++)r[o]=this[o+t]}return r.length&&(r.parent=this.parent||this),r},e.prototype.readUIntLE=function(e,t,a){e=0|e,t=0|t,a||B(e,t,this.length);for(var n=this[e],r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return n},e.prototype.readUIntBE=function(e,t,a){e=0|e,t=0|t,a||B(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},e.prototype.readUInt8=function(e,t){return t||B(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||B(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||B(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,a){e=0|e,t=0|t,a||B(e,t,this.length);for(var n=this[e],r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*t)),n},e.prototype.readIntBE=function(e,t,a){e=0|e,t=0|t,a||B(e,t,this.length);for(var n=t,r=1,i=this[e+--n];n>0&&(r*=256);)i+=this[e+--n]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},e.prototype.readInt8=function(e,t){return t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},e.prototype.readInt16LE=function(e,t){t||B(e,2,this.length);var a=this[e]|this[e+1]<<8;return 32768&a?4294901760|a:a},e.prototype.readInt16BE=function(e,t){t||B(e,2,this.length);var a=this[e+1]|this[e]<<8;return 32768&a?4294901760|a:a},e.prototype.readInt32LE=function(e,t){return t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||B(e,4,this.length),K.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||B(e,4,this.length),K.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||B(e,8,this.length),K.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||B(e,8,this.length),K.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,a,n){e=+e,t=0|t,a=0|a,n||A(this,e,t,a,Math.pow(2,8*a),0);var r=1,i=0;for(this[t]=255&e;++i<a&&(r*=256);)this[t+i]=e/r&255;return t+a},e.prototype.writeUIntBE=function(e,t,a,n){e=+e,t=0|t,a=0|a,n||A(this,e,t,a,Math.pow(2,8*a),0);var r=a-1,i=1;for(this[t+r]=255&e;--r>=0&&(i*=256);)this[t+r]=e/i&255;return t+a},e.prototype.writeUInt8=function(t,a,n){return t=+t,a=0|a,n||A(this,t,a,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[a]=255&t,a+1},e.prototype.writeUInt16LE=function(t,a,n){return t=+t,a=0|a,n||A(this,t,a,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[a]=255&t,this[a+1]=t>>>8):D(this,t,a,!0),a+2},e.prototype.writeUInt16BE=function(t,a,n){return t=+t,a=0|a,n||A(this,t,a,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[a]=t>>>8,this[a+1]=255&t):D(this,t,a,!1),a+2},e.prototype.writeUInt32LE=function(t,a,n){return t=+t,a=0|a,n||A(this,t,a,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[a+3]=t>>>24,this[a+2]=t>>>16,this[a+1]=t>>>8,this[a]=255&t):R(this,t,a,!0),a+4},e.prototype.writeUInt32BE=function(t,a,n){return t=+t,a=0|a,n||A(this,t,a,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[a]=t>>>24,this[a+1]=t>>>16,this[a+2]=t>>>8,this[a+3]=255&t):R(this,t,a,!1),a+4},e.prototype.writeIntLE=function(e,t,a,n){if(e=+e,t=0|t,!n){var r=Math.pow(2,8*a-1);A(this,e,t,a,r-1,-r)}var i=0,o=1,s=0>e?1:0;for(this[t]=255&e;++i<a&&(o*=256);)this[t+i]=(e/o>>0)-s&255;return t+a},e.prototype.writeIntBE=function(e,t,a,n){if(e=+e,t=0|t,!n){var r=Math.pow(2,8*a-1);A(this,e,t,a,r-1,-r)}var i=a-1,o=1,s=0>e?1:0;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=(e/o>>0)-s&255;return t+a},e.prototype.writeInt8=function(t,a,n){return t=+t,a=0|a,n||A(this,t,a,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[a]=255&t,a+1},e.prototype.writeInt16LE=function(t,a,n){return t=+t,a=0|a,n||A(this,t,a,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[a]=255&t,this[a+1]=t>>>8):D(this,t,a,!0),a+2},e.prototype.writeInt16BE=function(t,a,n){return t=+t,a=0|a,n||A(this,t,a,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[a]=t>>>8,this[a+1]=255&t):D(this,t,a,!1),a+2},e.prototype.writeInt32LE=function(t,a,n){return t=+t,a=0|a,n||A(this,t,a,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[a]=255&t,this[a+1]=t>>>8,this[a+2]=t>>>16,this[a+3]=t>>>24):R(this,t,a,!0),a+4},e.prototype.writeInt32BE=function(t,a,n){return t=+t,a=0|a,n||A(this,t,a,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[a]=t>>>24,this[a+1]=t>>>16,this[a+2]=t>>>8,this[a+3]=255&t):R(this,t,a,!1),a+4},e.prototype.writeFloatLE=function(e,t,a){return z(this,e,t,!0,a)},e.prototype.writeFloatBE=function(e,t,a){return z(this,e,t,!1,a)},e.prototype.writeDoubleLE=function(e,t,a){return j(this,e,t,!0,a)},e.prototype.writeDoubleBE=function(e,t,a){return j(this,e,t,!1,a)},e.prototype.copy=function(t,a,n,r){if(n||(n=0),r||0===r||(r=this.length),a>=t.length&&(a=t.length),a||(a=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(0>a)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-a<r-n&&(r=t.length-a+n);var i,o=r-n;if(this===t&&a>n&&r>a)for(i=o-1;i>=0;i--)t[i+a]=this[i+n];else if(1e3>o||!e.TYPED_ARRAY_SUPPORT)for(i=0;o>i;i++)t[i+a]=this[i+n];else t._set(this.subarray(n,n+o),a);return o},e.prototype.fill=function(e,t,a){if(e||(e=0),t||(t=0),a||(a=this.length),t>a)throw new RangeError("end < start");if(a!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>a||a>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof e)for(n=t;a>n;n++)this[n]=e;else{var r=F(e.toString()),i=r.length;for(n=t;a>n;n++)this[n]=r[n%i]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var t=new Uint8Array(this.length),a=0,n=t.length;n>a;a+=1)t[a]=this[a];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var $=e.prototype;e._augment=function(t){return t.constructor=e,t._isBuffer=!0,t._set=t.set,t.get=$.get,t.set=$.set,t.write=$.write,t.toString=$.toString,t.toLocaleString=$.toString,t.toJSON=$.toJSON,t.equals=$.equals,t.compare=$.compare,t.indexOf=$.indexOf,t.copy=$.copy,t.slice=$.slice,t.readUIntLE=$.readUIntLE,t.readUIntBE=$.readUIntBE,t.readUInt8=$.readUInt8,t.readUInt16LE=$.readUInt16LE,t.readUInt16BE=$.readUInt16BE,t.readUInt32LE=$.readUInt32LE,t.readUInt32BE=$.readUInt32BE,t.readIntLE=$.readIntLE,t.readIntBE=$.readIntBE,t.readInt8=$.readInt8,t.readInt16LE=$.readInt16LE,t.readInt16BE=$.readInt16BE,t.readInt32LE=$.readInt32LE,t.readInt32BE=$.readInt32BE,t.readFloatLE=$.readFloatLE,t.readFloatBE=$.readFloatBE,t.readDoubleLE=$.readDoubleLE,t.readDoubleBE=$.readDoubleBE,t.writeUInt8=$.writeUInt8,t.writeUIntLE=$.writeUIntLE,t.writeUIntBE=$.writeUIntBE,t.writeUInt16LE=$.writeUInt16LE,t.writeUInt16BE=$.writeUInt16BE,t.writeUInt32LE=$.writeUInt32LE,t.writeUInt32BE=$.writeUInt32BE,t.writeIntLE=$.writeIntLE,t.writeIntBE=$.writeIntBE,t.writeInt8=$.writeInt8,t.writeInt16LE=$.writeInt16LE,t.writeInt16BE=$.writeInt16BE,t.writeInt32LE=$.writeInt32LE,t.writeInt32BE=$.writeInt32BE,t.writeFloatLE=$.writeFloatLE,t.writeFloatBE=$.writeFloatBE,t.writeDoubleLE=$.writeDoubleLE,t.writeDoubleBE=$.writeDoubleBE,t.fill=$.fill,t.inspect=$.inspect,t.toArrayBuffer=$.toArrayBuffer,t};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,a(11).Buffer,function(){return this}())},function(e,t,a){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===o||t===d?62:t===s||t===u?63:l>t?-1:l+10>t?t-l+26+26:p+26>t?t-p:c+26>t?t-c+26:void 0}function a(e){function a(e){c[d++]=e}var n,r,o,s,l,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=e.length;l="="===e.charAt(p-2)?2:"="===e.charAt(p-1)?1:0,c=new i(3*e.length/4-l),o=l>0?e.length-4:e.length;var d=0;for(n=0,r=0;o>n;n+=4,r+=3)s=t(e.charAt(n))<<18|t(e.charAt(n+1))<<12|t(e.charAt(n+2))<<6|t(e.charAt(n+3)),a((16711680&s)>>16),a((65280&s)>>8),a(255&s);return 2===l?(s=t(e.charAt(n))<<2|t(e.charAt(n+1))>>4,a(255&s)):1===l&&(s=t(e.charAt(n))<<10|t(e.charAt(n+1))<<4|t(e.charAt(n+2))>>2,a(s>>8&255),a(255&s)),c}function r(e){function t(e){return n.charAt(e)}function a(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var r,i,o,s=e.length%3,l="";for(r=0,o=e.length-s;o>r;r+=3)i=(e[r]<<16)+(e[r+1]<<8)+e[r+2],l+=a(i);switch(s){case 1:i=e[e.length-1],l+=t(i>>2),l+=t(i<<4&63),l+="==";break;case 2:i=(e[e.length-2]<<8)+e[e.length-1],l+=t(i>>10),l+=t(i>>4&63),l+=t(i<<2&63),l+="="}return l}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="+".charCodeAt(0),s="/".charCodeAt(0),l="0".charCodeAt(0),c="a".charCodeAt(0),p="A".charCodeAt(0),d="-".charCodeAt(0),u="_".charCodeAt(0);e.toByteArray=a,e.fromByteArray=r}(t)},function(e,t){t.read=function(e,t,a,n,r){var i,o,s=8*r-n-1,l=(1<<s)-1,c=l>>1,p=-7,d=a?r-1:0,u=a?-1:1,h=e[t+d];for(d+=u,i=h&(1<<-p)-1,h>>=-p,p+=s;p>0;i=256*i+e[t+d],d+=u,p-=8);for(o=i&(1<<-p)-1,i>>=-p,p+=n;p>0;o=256*o+e[t+d],d+=u,p-=8);if(0===i)i=1-c;else{if(i===l)return o?NaN:(h?-1:1)*(1/0);o+=Math.pow(2,n),i-=c}return(h?-1:1)*o*Math.pow(2,i-n)},t.write=function(e,t,a,n,r,i){var o,s,l,c=8*i-r-1,p=(1<<c)-1,d=p>>1,u=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,f=n?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=p):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),t+=o+d>=1?u/l:u*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=p?(s=0,o=p):o+d>=1?(s=(t*l-1)*Math.pow(2,r),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;e[a+h]=255&s,h+=f,s/=256,r-=8);for(o=o<<r|s,c+=r;c>0;e[a+h]=255&o,h+=f,o/=256,c-=8);e[a+h-f]|=128*m}},function(e,t){var a=Array.isArray,n=Object.prototype.toString;e.exports=a||function(e){return!!e&&"[object Array]"==n.call(e)}},function(e,t,a){(function(e){function a(e){return Array.isArray(e)}function n(e){return"boolean"==typeof e}function r(e){return null===e}function i(e){return null==e}function o(e){return"number"==typeof e}function s(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function c(e){return void 0===e}function p(e){return d(e)&&"[object RegExp]"===v(e)}function d(e){return"object"==typeof e&&null!==e}function u(e){return d(e)&&"[object Date]"===v(e)}function h(e){return d(e)&&("[object Error]"===v(e)||e instanceof Error)}function f(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function g(t){return e.isBuffer(t)}function v(e){return Object.prototype.toString.call(e)}t.isArray=a,t.isBoolean=n,t.isNull=r,t.isNullOrUndefined=i,t.isNumber=o,t.isString=s,t.isSymbol=l,t.isUndefined=c,t.isRegExp=p,t.isObject=d,t.isDate=u,t.isError=h,t.isFunction=f,t.isPrimitive=m,t.isBuffer=g}).call(t,a(11).Buffer)},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var a=function(){};a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e}},function(e,t){},function(e,t,a){(function(t){function n(e){return this instanceof n?(l.call(this,e),c.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",r)):new n(e)}function r(){this.allowHalfOpen||this._writableState.ended||t.nextTick(this.end.bind(this))}function i(e,t){for(var a=0,n=e.length;n>a;a++)t(e[a],a)}e.exports=n;var o=Object.keys||function(e){var t=[];for(var a in e)t.push(a);return t},s=a(15);s.inherits=a(16);var l=a(9),c=a(19);s.inherits(n,l),i(o(c.prototype),function(e){n.prototype[e]||(n.prototype[e]=c.prototype[e])})}).call(t,a(1))},function(e,t,a){(function(t){function n(e,t,a){this.chunk=e,this.encoding=t,this.callback=a}function r(e,t){var n=a(18);e=e||{};var r=e.highWaterMark,i=e.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){h(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function i(e){var t=a(18);return this instanceof i||this instanceof t?(this._writableState=new r(e,this),this.writable=!0,void k.call(this)):new i(e)}function o(e,a,n){var r=new Error("write after end");e.emit("error",r),t.nextTick(function(){n(r)})}function s(e,a,n,r){var i=!0;if(!(x.isBuffer(n)||x.isString(n)||x.isNullOrUndefined(n)||a.objectMode)){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o),t.nextTick(function(){r(o)}),i=!1}return i}function l(e,t,a){return!e.objectMode&&e.decodeStrings!==!1&&x.isString(t)&&(t=new C(t,a)),t}function c(e,t,a,r,i){a=l(t,a,r),x.isBuffer(a)&&(r="buffer");var o=t.objectMode?1:a.length;t.length+=o;var s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new n(a,r,i)):p(e,t,!1,o,a,r,i),s}function p(e,t,a,n,r,i,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,a?e._writev(r,t.onwrite):e._write(r,i,t.onwrite),t.sync=!1}function d(e,a,n,r,i){n?t.nextTick(function(){a.pendingcb--,i(r)}):(a.pendingcb--,i(r)),e._writableState.errorEmitted=!0,e.emit("error",r)}function u(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function h(e,a){var n=e._writableState,r=n.sync,i=n.writecb;if(u(n),a)d(e,n,r,a,i);else{var o=v(e,n);o||n.corked||n.bufferProcessing||!n.buffer.length||g(e,n),r?t.nextTick(function(){f(e,n,o,i)}):f(e,n,o,i)}}function f(e,t,a,n){a||m(e,t),t.pendingcb--,n(),w(e,t)}function m(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function g(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var a=[],n=0;n<t.buffer.length;n++)a.push(t.buffer[n].callback);t.pendingcb++,p(e,t,!0,t.length,t.buffer,"",function(e){for(var n=0;n<a.length;n++)t.pendingcb--,a[n](e)}),t.buffer=[]}else{for(var n=0;n<t.buffer.length;n++){var r=t.buffer[n],i=r.chunk,o=r.encoding,s=r.callback,l=t.objectMode?1:i.length;if(p(e,t,!1,l,i,o,s),t.writing){n++;break}}n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}t.bufferProcessing=!1}function v(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function b(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function w(e,t){var a=v(e,t);return a&&(0===t.pendingcb?(b(e,t),t.finished=!0,e.emit("finish")):b(e,t)),a}function y(e,a,n){a.ending=!0,w(e,a),n&&(a.finished?t.nextTick(n):e.once("finish",n)),a.ended=!0}e.exports=i;var C=a(11).Buffer;i.WritableState=r;var x=a(15);x.inherits=a(16);var k=a(6);x.inherits(i,k),i.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},i.prototype.write=function(e,t,a){var n=this._writableState,r=!1;return x.isFunction(t)&&(a=t,t=null),x.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),x.isFunction(a)||(a=function(){}),n.ended?o(this,n,a):s(this,n,e,a)&&(n.pendingcb++,r=c(this,n,e,t,a)),r},i.prototype.cork=function(){var e=this._writableState;e.corked++},i.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||g(this,e))},i.prototype._write=function(e,t,a){a(new Error("not implemented"))},i.prototype._writev=null,i.prototype.end=function(e,t,a){var n=this._writableState;x.isFunction(e)?(a=e,e=null,t=null):x.isFunction(t)&&(a=t,t=null),x.isNullOrUndefined(e)||this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||y(this,n,a)}}).call(t,a(1))},function(e,t,a){function n(e){if(e&&!l(e))throw new Error("Unknown encoding: "+e)}function r(e){return e.toString(this.encoding)}function i(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function o(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var s=a(11).Buffer,l=s.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),n(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=i;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=o;break;default:return void(this.write=r)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(e){for(var t="";this.charLength;){var a=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,a),this.charReceived+=a,this.charReceived<this.charLength)return"";e=e.slice(a,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=t.charCodeAt(t.length-1);if(!(n>=55296&&56319>=n)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var r=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,r),r-=this.charReceived),t+=e.toString(this.encoding,0,r);var r=t.length-1,n=t.charCodeAt(r);if(n>=55296&&56319>=n){var i=this.surrogateSize;return this.charLength+=i,this.charReceived+=i,this.charBuffer.copy(this.charBuffer,i,0,i),e.copy(this.charBuffer,0,0,i),t.substring(0,r)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var a=e[e.length-t];if(1==t&&a>>5==6){this.charLength=2;break}if(2>=t&&a>>4==14){this.charLength=3;break}if(3>=t&&a>>3==30){this.charLength=4;break}}this.charReceived=t},c.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var a=this.charReceived,n=this.charBuffer,r=this.encoding;t+=n.slice(0,a).toString(r)}return t}},function(e,t,a){function n(e,t){this.afterTransform=function(e,a){return r(t,e,a)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function r(e,t,a){var n=e._transformState;n.transforming=!1;var r=n.writecb;if(!r)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,l.isNullOrUndefined(a)||e.push(a),r&&r(t);var i=e._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&e._read(i.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);s.call(this,e),this._transformState=new n(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){l.isFunction(this._flush)?this._flush(function(e){o(t,e)}):o(t)})}function o(e,t){if(t)return e.emit("error",t);var a=e._writableState,n=e._transformState;if(a.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}e.exports=i;var s=a(18),l=a(15);l.inherits=a(16),l.inherits(i,s),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,a){throw new Error("not implemented")},i.prototype._write=function(e,t,a){var n=this._transformState;if(n.writecb=a,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;l.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},function(e,t,a){function n(e){return this instanceof n?void r.call(this,e):new n(e)}e.exports=n;var r=a(21),i=a(15);i.inherits=a(16),i.inherits(n,r),n.prototype._transform=function(e,t,a){a(null,e)}},function(e,t,a){e.exports=a(19)},function(e,t,a){e.exports=a(18)},function(e,t,a){e.exports=a(21)},function(e,t,a){e.exports=a(22)},function(e,t,a){(function(t){function n(e,t){e=e||{};var n=e.highWaterMark;this.highWaterMark=n||0===n?n:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(_||(_=a(31).StringDecoder),this.decoder=new _(e.encoding),this.encoding=e.encoding)}function r(e){return this instanceof r?(this._readableState=new n(e,this),this.readable=!0,void E.call(this)):new r(e)}function i(e,t,a,n,r){var i=c(t,a);if(i)e.emit("error",i);else if(null===a||void 0===a)t.reading=!1,t.ended||p(e,t);else if(t.objectMode||a&&a.length>0)if(t.ended&&!r){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&r){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||r||n||(a=t.decoder.write(a)),t.length+=t.objectMode?1:a.length,r?t.buffer.unshift(a):(t.reading=!1,t.buffer.push(a)),t.needReadable&&d(e),h(e,t);else r||(t.reading=!1);return o(t)}function o(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function s(e){if(e>=M)e=M;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function l(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=s(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var a=null;return S.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a}function p(e,t){if(t.decoder&&!t.ended){var a=t.decoder.end();a&&a.length&&(t.buffer.push(a),t.length+=t.objectMode?1:a.length)}t.ended=!0,t.length>0?d(e):y(e)}function d(e){var a=e._readableState;a.needReadable=!1,a.emittedReadable||(a.emittedReadable=!0,a.sync?t.nextTick(function(){u(e)}):u(e))}function u(e){e.emit("readable")}function h(e,a){a.readingMore||(a.readingMore=!0,t.nextTick(function(){f(e,a)}))}function f(e,t){for(var a=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),a!==t.length);)a=t.length;t.readingMore=!1}function m(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&g(e)}}function g(e){function t(e,t,r){var i=e.write(a);!1===i&&n.awaitDrain++}var a,n=e._readableState;for(n.awaitDrain=0;n.pipesCount&&null!==(a=e.read());)if(1===n.pipesCount?t(n.pipes,0,null):C(n.pipes,t),e.emit("data",a),n.awaitDrain>0)return;return 0===n.pipesCount?(n.flowing=!1,void(T.listenerCount(e,"data")>0&&b(e))):void(n.ranOut=!0)}function v(){this._readableState.ranOut&&(this._readableState.ranOut=!1,g(this))}function b(e,a){var n=e._readableState;if(n.flowing)throw new Error("Cannot switch to old mode now.");var r=a||!1,i=!1;e.readable=!0,e.pipe=E.prototype.pipe,e.on=e.addListener=E.prototype.on,e.on("readable",function(){i=!0;for(var t;!r&&null!==(t=e.read());)e.emit("data",t);null===t&&(i=!1,e._readableState.needReadable=!0)}),e.pause=function(){r=!0,this.emit("pause")},e.resume=function(){r=!1,i?t.nextTick(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}function w(e,t){var a,n=t.buffer,r=t.length,i=!!t.decoder,o=!!t.objectMode;if(0===n.length)return null;if(0===r)a=null;else if(o)a=n.shift();else if(!e||e>=r)a=i?n.join(""):S.concat(n,r),n.length=0;else if(e<n[0].length){var s=n[0];a=s.slice(0,e),n[0]=s.slice(e)}else if(e===n[0].length)a=n.shift();else{a=i?"":new S(e);for(var l=0,c=0,p=n.length;p>c&&e>l;c++){var s=n[0],d=Math.min(e-l,s.length);i?a+=s.slice(0,d):s.copy(a,l,0,d),d<s.length?n[0]=s.slice(d):n.shift(),l+=d}}return a}function y(e){var a=e._readableState;if(a.length>0)throw new Error("endReadable called on non-empty stream");!a.endEmitted&&a.calledRead&&(a.ended=!0,t.nextTick(function(){a.endEmitted||0!==a.length||(a.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function C(e,t){for(var a=0,n=e.length;n>a;a++)t(e[a],a)}function x(e,t){for(var a=0,n=e.length;n>a;a++)if(e[a]===t)return a;return-1}e.exports=r;var k=a(28),S=a(11).Buffer;r.ReadableState=n;var T=a(3).EventEmitter;T.listenerCount||(T.listenerCount=function(e,t){return e.listeners(t).length});var E=a(6),P=a(29);P.inherits=a(30);var _;P.inherits(r,E),r.prototype.push=function(e,t){var a=this._readableState;return"string"!=typeof e||a.objectMode||(t=t||a.defaultEncoding,t!==a.encoding&&(e=new S(e,t),t="")),i(this,a,e,t,!1)},r.prototype.unshift=function(e){var t=this._readableState;return i(this,t,e,"",!0)},r.prototype.setEncoding=function(e){_||(_=a(31).StringDecoder),this._readableState.decoder=new _(e),this._readableState.encoding=e};var M=8388608;r.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var a,n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d(this),null;if(e=l(e,t),0===e&&t.ended)return a=null,t.length>0&&t.decoder&&(a=w(e,t),t.length-=a.length),0===t.length&&y(this),a;var r=t.needReadable;return t.length-e<=t.highWaterMark&&(r=!0),(t.ended||t.reading)&&(r=!1),r&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=l(n,t)),a=e>0?w(e,t):null,null===a&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&y(this),a},r.prototype._read=function(e){this.emit("error",new Error("not implemented"))},r.prototype.pipe=function(e,a){function n(e){e===p&&i()}function r(){e.end()}function i(){e.removeListener("close",s),e.removeListener("finish",l),e.removeListener("drain",f),e.removeListener("error",o),e.removeListener("unpipe",n),p.removeListener("end",r),p.removeListener("end",i),(!e._writableState||e._writableState.needDrain)&&f()}function o(t){c(),e.removeListener("error",o),0===T.listenerCount(e,"error")&&e.emit("error",t)}function s(){e.removeListener("finish",l),c()}function l(){e.removeListener("close",s),c()}function c(){p.unpipe(e)}var p=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=e;break;case 1:d.pipes=[d.pipes,e];break;default:d.pipes.push(e)}d.pipesCount+=1;var u=(!a||a.end!==!1)&&e!==t.stdout&&e!==t.stderr,h=u?r:i;d.endEmitted?t.nextTick(h):p.once("end",h),e.on("unpipe",n);var f=m(p);return e.on("drain",f),e._events&&e._events.error?k(e._events.error)?e._events.error.unshift(o):e._events.error=[o,e._events.error]:e.on("error",o),e.once("close",s),e.once("finish",l),e.emit("pipe",p),d.flowing||(this.on("readable",v),d.flowing=!0,t.nextTick(function(){g(p)})),e},r.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",v),t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var a=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",v),t.flowing=!1;for(var r=0;n>r;r++)a[r].emit("unpipe",this);return this}var r=x(t.pipes,e);return-1===r?this:(t.pipes.splice(r,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},r.prototype.on=function(e,t){var a=E.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||b(this),"readable"===e&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,
n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&d(this,n):this.read(0))}return a},r.prototype.addListener=r.prototype.on,r.prototype.resume=function(){b(this),this.read(0),this.emit("resume")},r.prototype.pause=function(){b(this,!0),this.emit("pause")},r.prototype.wrap=function(e){var t=this._readableState,a=!1,n=this;e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(r){if(t.decoder&&(r=t.decoder.write(r)),(!t.objectMode||null!==r&&void 0!==r)&&(t.objectMode||r&&r.length)){var i=n.push(r);i||(a=!0,e.pause())}});for(var r in e)"function"==typeof e[r]&&"undefined"==typeof this[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));var i=["error","close","destroy","pause","resume"];return C(i,function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){a&&(a=!1,e.resume())},n},r._fromList=w}).call(t,a(1))},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,a){(function(e){function a(e){return Array.isArray(e)}function n(e){return"boolean"==typeof e}function r(e){return null===e}function i(e){return null==e}function o(e){return"number"==typeof e}function s(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function c(e){return void 0===e}function p(e){return d(e)&&"[object RegExp]"===v(e)}function d(e){return"object"==typeof e&&null!==e}function u(e){return d(e)&&"[object Date]"===v(e)}function h(e){return d(e)&&("[object Error]"===v(e)||e instanceof Error)}function f(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function g(t){return e.isBuffer(t)}function v(e){return Object.prototype.toString.call(e)}t.isArray=a,t.isBoolean=n,t.isNull=r,t.isNullOrUndefined=i,t.isNumber=o,t.isString=s,t.isSymbol=l,t.isUndefined=c,t.isRegExp=p,t.isObject=d,t.isDate=u,t.isError=h,t.isFunction=f,t.isPrimitive=m,t.isBuffer=g}).call(t,a(11).Buffer)},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var a=function(){};a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e}},function(e,t,a){function n(e){if(e&&!l(e))throw new Error("Unknown encoding: "+e)}function r(e){return e.toString(this.encoding)}function i(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function o(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var s=a(11).Buffer,l=s.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),n(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=i;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=o;break;default:return void(this.write=r)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(e){for(var t="";this.charLength;){var a=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,a),this.charReceived+=a,this.charReceived<this.charLength)return"";e=e.slice(a,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=t.charCodeAt(t.length-1);if(!(n>=55296&&56319>=n)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var r=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,r),r-=this.charReceived),t+=e.toString(this.encoding,0,r);var r=t.length-1,n=t.charCodeAt(r);if(n>=55296&&56319>=n){var i=this.surrogateSize;return this.charLength+=i,this.charReceived+=i,this.charBuffer.copy(this.charBuffer,i,0,i),e.copy(this.charBuffer,0,0,i),t.substring(0,r)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var a=e[e.length-t];if(1==t&&a>>5==6){this.charLength=2;break}if(2>=t&&a>>4==14){this.charLength=3;break}if(3>=t&&a>>3==30){this.charLength=4;break}}this.charReceived=t},c.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var a=this.charReceived,n=this.charBuffer,r=this.encoding;t+=n.slice(0,a).toString(r)}return t}},function(e,t,a){(function(t){function n(e,t,a){this.chunk=e,this.encoding=t,this.callback=a}function r(e,t){e=e||{};var a=e.highWaterMark;this.highWaterMark=a||0===a?a:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){h(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function i(e){var t=a(33);return this instanceof i||this instanceof t?(this._writableState=new r(e,this),this.writable=!0,void x.call(this)):new i(e)}function o(e,a,n){var r=new Error("write after end");e.emit("error",r),t.nextTick(function(){n(r)})}function s(e,a,n,r){var i=!0;if(!y.isBuffer(n)&&"string"!=typeof n&&null!==n&&void 0!==n&&!a.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o),t.nextTick(function(){r(o)}),i=!1}return i}function l(e,t,a){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=new y(t,a)),t}function c(e,t,a,r,i){a=l(t,a,r),y.isBuffer(a)&&(r="buffer");var o=t.objectMode?1:a.length;t.length+=o;var s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing?t.buffer.push(new n(a,r,i)):p(e,t,o,a,r,i),s}function p(e,t,a,n,r,i){t.writelen=a,t.writecb=i,t.writing=!0,t.sync=!0,e._write(n,r,t.onwrite),t.sync=!1}function d(e,a,n,r,i){n?t.nextTick(function(){i(r)}):i(r),e._writableState.errorEmitted=!0,e.emit("error",r)}function u(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function h(e,a){var n=e._writableState,r=n.sync,i=n.writecb;if(u(n),a)d(e,n,r,a,i);else{var o=v(e,n);o||n.bufferProcessing||!n.buffer.length||g(e,n),r?t.nextTick(function(){f(e,n,o,i)}):f(e,n,o,i)}}function f(e,t,a,n){a||m(e,t),n(),a&&b(e,t)}function m(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function g(e,t){t.bufferProcessing=!0;for(var a=0;a<t.buffer.length;a++){var n=t.buffer[a],r=n.chunk,i=n.encoding,o=n.callback,s=t.objectMode?1:r.length;if(p(e,t,s,r,i,o),t.writing){a++;break}}t.bufferProcessing=!1,a<t.buffer.length?t.buffer=t.buffer.slice(a):t.buffer.length=0}function v(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function b(e,t){var a=v(e,t);return a&&(t.finished=!0,e.emit("finish")),a}function w(e,a,n){a.ending=!0,b(e,a),n&&(a.finished?t.nextTick(n):e.once("finish",n)),a.ended=!0}e.exports=i;var y=a(11).Buffer;i.WritableState=r;var C=a(29);C.inherits=a(30);var x=a(6);C.inherits(i,x),i.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},i.prototype.write=function(e,t,a){var n=this._writableState,r=!1;return"function"==typeof t&&(a=t,t=null),y.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof a&&(a=function(){}),n.ended?o(this,n,a):s(this,n,e,a)&&(r=c(this,n,e,t,a)),r},i.prototype._write=function(e,t,a){a(new Error("not implemented"))},i.prototype.end=function(e,t,a){var n=this._writableState;"function"==typeof e?(a=e,e=null,t=null):"function"==typeof t&&(a=t,t=null),"undefined"!=typeof e&&null!==e&&this.write(e,t),n.ending||n.finished||w(this,n,a)}}).call(t,a(1))},function(e,t,a){(function(t){function n(e){return this instanceof n?(l.call(this,e),c.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",r)):new n(e)}function r(){this.allowHalfOpen||this._writableState.ended||t.nextTick(this.end.bind(this))}function i(e,t){for(var a=0,n=e.length;n>a;a++)t(e[a],a)}e.exports=n;var o=Object.keys||function(e){var t=[];for(var a in e)t.push(a);return t},s=a(29);s.inherits=a(30);var l=a(27),c=a(32);s.inherits(n,l),i(o(c.prototype),function(e){n.prototype[e]||(n.prototype[e]=c.prototype[e])})}).call(t,a(1))},function(e,t,a){function n(e,t){this.afterTransform=function(e,a){return r(t,e,a)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function r(e,t,a){var n=e._transformState;n.transforming=!1;var r=n.writecb;if(!r)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!==a&&void 0!==a&&e.push(a),r&&r(t);var i=e._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&e._read(i.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);s.call(this,e);var t=(this._transformState=new n(e,this),this);this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(e){o(t,e)}):o(t)})}function o(e,t){if(t)return e.emit("error",t);var a=e._writableState,n=(e._readableState,e._transformState);if(a.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}e.exports=i;var s=a(33),l=a(29);l.inherits=a(30),l.inherits(i,s),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,a){throw new Error("not implemented")},i.prototype._write=function(e,t,a){var n=this._transformState;if(n.writecb=a,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},function(e,t,a){function n(e){return this instanceof n?void r.call(this,e):new n(e)}e.exports=n;var r=a(34),i=a(29);i.inherits=a(30),i.inherits(n,r),n.prototype._transform=function(e,t,a){a(null,e)}},function(e,t,a){var n=a(37),r=function(){},i=function(e){return e.setHeader&&"function"==typeof e.abort},o=function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length},s=function(e,t,a){if("function"==typeof t)return s(e,null,t);t||(t={}),a=n(a||r);var l=e._writableState,c=e._readableState,p=t.readable||t.readable!==!1&&e.readable,d=t.writable||t.writable!==!1&&e.writable,u=function(){e.writable||h()},h=function(){d=!1,p||a()},f=function(){p=!1,d||a()},m=function(e){a(e?new Error("exited with error code: "+e):null)},g=function(){return(!p||c&&c.ended)&&(!d||l&&l.ended)?void 0:a(new Error("premature close"))},v=function(){e.req.on("finish",h)};return i(e)?(e.on("complete",h),e.on("abort",g),e.req?v():e.on("request",v)):d&&!l&&(e.on("end",u),e.on("close",u)),o(e)&&e.on("exit",m),e.on("end",f),e.on("finish",h),t.error!==!1&&e.on("error",a),e.on("close",g),function(){e.removeListener("complete",h),e.removeListener("abort",g),e.removeListener("request",v),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("exit",m),e.removeListener("end",f),e.removeListener("error",a),e.removeListener("close",g)}};e.exports=s},function(e,t,a){function n(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}var r=a(38);e.exports=r(n),n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0})})},function(e,t){function a(e,t){function n(){for(var t=new Array(arguments.length),a=0;a<t.length;a++)t[a]=arguments[a];var n=e.apply(this,t),r=t[t.length-1];return"function"==typeof n&&n!==r&&Object.keys(r).forEach(function(e){n[e]=r[e]}),n}if(e&&t)return a(e)(t);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(t){n[t]=e[t]}),n}e.exports=a},function(e,t,a){"use strict";t.parser=a(40),t.generate=a(48)},function(e,t,a){function n(){return this instanceof n?(this._list=r(),this._newPacket(),this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],void(this._stateCounter=0)):new n}var r=a(41),i=a(30),o=a(3).EventEmitter,s=a(46),l=a(47);i(n,o),n.prototype._newPacket=function(){return this.packet&&(this._list.consume(this.packet.length),this.emit("packet",this.packet)),this.packet=new s,!0},n.prototype.parse=function(e){for(this._list.append(e);(-1!=this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]();)this._stateCounter++,this._stateCounter>=this._states.length&&(this._stateCounter=0);return this._list.length},n.prototype._parseHeader=function(){var e=this._list.readUInt8(0);return this.packet.cmd=l.types[e>>l.CMD_SHIFT],this.packet.retain=0!==(e&l.RETAIN_MASK),this.packet.qos=e>>l.QOS_SHIFT&l.QOS_MASK,this.packet.dup=0!==(e&l.DUP_MASK),this._list.consume(1),!0},n.prototype._parseLength=function(){for(var e,t=0,a=1,n=0,r=!0;5>t&&(e=this._list.readUInt8(t++),n+=a*(e&l.LENGTH_MASK),a*=128,0!==(e&l.LENGTH_FIN_MASK));)if(this._list.length<=t){r=!1;break}return r&&(this.packet.length=n,this._list.consume(t)),r},n.prototype._parsePayload=function(){var e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseMessageId();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":case"disconnect":break;default:this.emit("error",new Error("not supported"))}e=!0}return e},n.prototype._parseConnect=function(){var e,t,a,n,r,i,o={},s=this.packet;if(e=this._parseString(),null===e)return this.emit("error",new Error("cannot parse protocol id"));if(s.protocolId=e,this._pos>this._list.length)return this.emit("error",new Error("packet too short"));if(s.protocolVersion=this._list.readUInt8(this._pos),this._pos++,o.username=this._list.readUInt8(this._pos)&l.USERNAME_MASK,o.password=this._list.readUInt8(this._pos)&l.PASSWORD_MASK,o.will=this._list.readUInt8(this._pos)&l.WILL_FLAG_MASK,o.will&&(s.will={},s.will.retain=0!==(this._list.readUInt8(this._pos)&l.WILL_RETAIN_MASK),s.will.qos=(this._list.readUInt8(this._pos)&l.WILL_QOS_MASK)>>l.WILL_QOS_SHIFT),s.clean=0!==(this._list.readUInt8(this._pos)&l.CLEAN_SESSION_MASK),this._pos++,s.keepalive=this._parseNum(),-1===s.keepalive)return this.emit("error",new Error("packet too short"));if(t=this._parseString(),null===t)return this.emit("error",new Error("packet too short"));if(s.clientId=t,o.will){if(a=this._parseString(),null===a)return this.emit("error",new Error("cannot parse will topic"));if(s.will.topic=a,n=this._parseBuffer(),null===n)return this.emit("error",new Error("cannot parse will payload"));s.will.payload=n}if(o.username){if(i=this._parseString(),null===i)return this.emit("error",new Error("cannot parse username"));s.username=i}if(o.password){if(r=this._parseBuffer(),null===r)return this.emit("error",new Error("cannot parse username"));s.password=r}return s},n.prototype._parseConnack=function(){var e=this.packet;return e.sessionPresent=!!(this._list.readUInt8(this._pos++)&l.SESSIONPRESENT_MASK),e.returnCode=this._list.readUInt8(this._pos),-1===e.returnCode?this.emit("error",new Error("cannot parse return code")):void 0},n.prototype._parsePublish=function(){var e=this.packet;return e.topic=this._parseString(),null===e.topic?this.emit("error",new Error("cannot parse topic")):void(e.qos>0&&!this._parseMessageId()||(e.payload=this._list.slice(this._pos,e.length)))},n.prototype._parseSubscribe=function(){var e,t,a=this.packet;if(1!=a.qos)return this.emit("error",new Error("wrong subscribe header"));if(a.subscriptions=[],this._parseMessageId())for(;this._pos<a.length;){if(e=this._parseString(),null===e)return this.emit("error",new Error("Parse error - cannot parse topic"));t=this._list.readUInt8(this._pos++),a.subscriptions.push({topic:e,qos:t})}},n.prototype._parseSuback=function(){if(this.packet.granted=[],this._parseMessageId())for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))},n.prototype._parseUnsubscribe=function(){var e=this.packet;if(e.unsubscriptions=[],this._parseMessageId())for(;this._pos<e.length;){var t;if(t=this._parseString(),null===t)return this.emit("error",new Error("cannot parse topic"));e.unsubscriptions.push(t)}},n.prototype._parseUnsuback=function(){return this._parseMessageId()?void 0:this.emit("error",new Error("cannot parse message id"))},n.prototype._parseMessageId=function(){var e=this.packet;return e.messageId=this._parseNum(),null===e.messageId?(this.emit("error",new Error("cannot parse message id")),!1):!0},n.prototype._parseString=function(e){var t,a=this._parseNum();return-1===a||a+this._pos>this._list.length?null:(t=this._list.toString("utf8",this._pos,this._pos+a),this._pos+=a,t)},n.prototype._parseBuffer=function(){var e,t=this._parseNum();return-1===t||t+this._pos>this._list.length?null:(e=this._list.slice(this._pos,this._pos+t),this._pos+=t,e)},n.prototype._parseNum=function(){if(2>this._pos+this._list.length)return-1;var e=this._list.readUInt16BE(this._pos);return this._pos+=2,e},e.exports=n},function(e,t,a){(function(t){function n(e){if(!(this instanceof n))return new n(e);if(this._bufs=[],this.length=0,"function"==typeof e){this._callback=e;var a=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",function(e){e.on("error",a)}),this.on("unpipe",function(e){e.removeListener("error",a)})}else t.isBuffer(e)?this.append(e):Array.isArray(e)&&e.forEach(function(e){t.isBuffer(e)&&this.append(e)}.bind(this));r.call(this)}var r=a(42),i=a(43);i.inherits(n,r),n.prototype._offset=function(e){for(var t,a=0,n=0;n<this._bufs.length;n++){if(t=a+this._bufs[n].length,t>e)return[n,e-a];a=t}},n.prototype.append=function(e){var a=t.isBuffer(e)||e instanceof n;return this._bufs.push(a?e:new t(e)),this.length+=e.length,this},n.prototype._write=function(e,t,a){this.append(e),a&&a()},n.prototype._read=function(e){return this.length?(e=Math.min(e,this.length),this.push(this.slice(0,e)),void this.consume(e)):this.push(null)},n.prototype.end=function(e){r.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},n.prototype.get=function(e){return this.slice(e,e+1)[0]},n.prototype.slice=function(e,t){return this.copy(null,0,e,t)},n.prototype.copy=function(e,a,n,r){if(("number"!=typeof n||0>n)&&(n=0),("number"!=typeof r||r>this.length)&&(r=this.length),n>=this.length)return e||new t(0);if(0>=r)return e||new t(0);var i,o,s=!!e,l=this._offset(n),c=r-n,p=c,d=s&&a||0,u=l[1];if(0===n&&r==this.length){if(!s)return t.concat(this._bufs);for(o=0;o<this._bufs.length;o++)this._bufs[o].copy(e,d),d+=this._bufs[o].length;return e}if(p<=this._bufs[l[0]].length-u)return s?this._bufs[l[0]].copy(e,a,u,u+p):this._bufs[l[0]].slice(u,u+p);for(s||(e=new t(c)),o=l[0];o<this._bufs.length;o++){if(i=this._bufs[o].length-u,!(p>i)){this._bufs[o].copy(e,d,u,u+p);break}this._bufs[o].copy(e,d,u),d+=i,p-=i,u&&(u=0)}return e},n.prototype.toString=function(e,t,a){return this.slice(t,a).toString(e)},n.prototype.consume=function(e){for(;this._bufs.length;){if(!(e>this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},n.prototype.duplicate=function(){for(var e=0,t=new n;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},n.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var t in e)!function(t){n.prototype[t]=function(a){return this.slice(a,a+e[t])[t](0)}}(t)}(),e.exports=n}).call(t,a(11).Buffer)},function(e,t,a){e.exports=a(33)},function(e,t,a){(function(e,n){function r(e,a){var n={seen:[],stylize:o};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(a)?n.showHidden=a:a&&t._extend(n,a),C(n.showHidden)&&(n.showHidden=!1),C(n.depth)&&(n.depth=2),C(n.colors)&&(n.colors=!1),C(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),l(n,e,n.depth)}function i(e,t){var a=r.styles[t];return a?"["+r.colors[a][0]+"m"+e+"["+r.colors[a][1]+"m":e}function o(e,t){return e}function s(e){var t={};return e.forEach(function(e,a){t[e]=!0}),t}function l(e,a,n){if(e.customInspect&&a&&E(a.inspect)&&a.inspect!==t.inspect&&(!a.constructor||a.constructor.prototype!==a)){var r=a.inspect(n,e);return w(r)||(r=l(e,r,n)),r}var i=c(e,a);if(i)return i;var o=Object.keys(a),m=s(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(a)),T(a)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return p(a);if(0===o.length){if(E(a)){var g=a.name?": "+a.name:"";return e.stylize("[Function"+g+"]","special")}if(x(a))return e.stylize(RegExp.prototype.toString.call(a),"regexp");if(S(a))return e.stylize(Date.prototype.toString.call(a),"date");if(T(a))return p(a)}var v="",b=!1,y=["{","}"];if(f(a)&&(b=!0,y=["[","]"]),E(a)){var C=a.name?": "+a.name:"";v=" [Function"+C+"]"}if(x(a)&&(v=" "+RegExp.prototype.toString.call(a)),S(a)&&(v=" "+Date.prototype.toUTCString.call(a)),T(a)&&(v=" "+p(a)),0===o.length&&(!b||0==a.length))return y[0]+v+y[1];if(0>n)return x(a)?e.stylize(RegExp.prototype.toString.call(a),"regexp"):e.stylize("[Object]","special");e.seen.push(a);var k;return k=b?d(e,a,n,m,o):o.map(function(t){return u(e,a,n,m,t,b)}),e.seen.pop(),h(k,v,y)}function c(e,t){if(C(t))return e.stylize("undefined","undefined");if(w(t)){var a="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(a,"string")}return b(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,a,n,r){for(var i=[],o=0,s=t.length;s>o;++o)L(t,String(o))?i.push(u(e,t,a,n,String(o),!0)):i.push("");return r.forEach(function(r){r.match(/^\d+$/)||i.push(u(e,t,a,n,r,!0))}),i}function u(e,t,a,n,r,i){var o,s,c;if(c=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]},c.get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),L(n,r)||(o="["+r+"]"),s||(e.seen.indexOf(c.value)<0?(s=g(a)?l(e,c.value,null):l(e,c.value,a-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),C(o)){if(i&&r.match(/^\d+$/))return s;o=JSON.stringify(""+r),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function h(e,t,a){var n=0,r=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?a[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+a[1]:a[0]+t+" "+e.join(", ")+" "+a[1]}function f(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function b(e){return"number"==typeof e}function w(e){return"string"==typeof e}function y(e){return"symbol"==typeof e}function C(e){return void 0===e}function x(e){return k(e)&&"[object RegExp]"===_(e)}function k(e){return"object"==typeof e&&null!==e}function S(e){return k(e)&&"[object Date]"===_(e)}function T(e){return k(e)&&("[object Error]"===_(e)||e instanceof Error)}function E(e){return"function"==typeof e}function P(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function _(e){return Object.prototype.toString.call(e)}function M(e){return 10>e?"0"+e.toString(10):e.toString(10)}function I(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var O=/%[sdj%]/g;t.format=function(e){if(!w(e)){for(var t=[],a=0;a<arguments.length;a++)t.push(r(arguments[a]));return t.join(" ")}for(var a=1,n=arguments,i=n.length,o=String(e).replace(O,function(e){if("%%"===e)return"%";if(a>=i)return e;switch(e){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch(t){return"[Circular]"}default:return e}}),s=n[a];i>a;s=n[++a])o+=g(s)||!k(s)?" "+s:" "+r(s);return o},t.deprecate=function(a,r){function i(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),o=!0}return a.apply(this,arguments)}if(C(e.process))return function(){return t.deprecate(a,r).apply(this,arguments)};if(n.noDeprecation===!0)return a;var o=!1;return i};var B,A={};t.debuglog=function(e){if(C(B)&&(B=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!A[e])if(new RegExp("\\b"+e+"\\b","i").test(B)){var a=n.pid;A[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,a,n)}}else A[e]=function(){};return A[e]},t.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=m,t.isNull=g,t.isNullOrUndefined=v,t.isNumber=b,t.isString=w,t.isSymbol=y,t.isUndefined=C,t.isRegExp=x,t.isObject=k,t.isDate=S,t.isError=T,t.isFunction=E,t.isPrimitive=P,t.isBuffer=a(44);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",I(),t.format.apply(t,arguments))},t.inherits=a(45),t._extend=function(e,t){if(!t||!k(t))return e;for(var a=Object.keys(t),n=a.length;n--;)e[a[n]]=t[a[n]];return e}}).call(t,function(){return this}(),a(1))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var a=function(){};a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e}},function(e,t){function a(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}e.exports=a},function(e,t){e.exports.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"reserved"},e.exports.codes={};for(var a in e.exports.types){var n=e.exports.types[a];e.exports.codes[n]=a}e.exports.CMD_SHIFT=4,e.exports.CMD_MASK=240,e.exports.DUP_MASK=8,e.exports.QOS_MASK=3,e.exports.QOS_SHIFT=1,e.exports.RETAIN_MASK=1,e.exports.LENGTH_MASK=127,e.exports.LENGTH_FIN_MASK=128,e.exports.SESSIONPRESENT_MASK=1,e.exports.USERNAME_MASK=128,e.exports.PASSWORD_MASK=64,e.exports.WILL_RETAIN_MASK=32,e.exports.WILL_QOS_MASK=24,e.exports.WILL_QOS_SHIFT=3,e.exports.WILL_FLAG_MASK=4,e.exports.CLEAN_SESSION_MASK=2},function(e,t,a){(function(t){"use strict";function n(e){switch(e.cmd){case"connect":return r(e);case"connack":return i(e);case"publish":return o(e);case"puback":case"pubrec":case"pubrel":case"pubcomp":case"unsuback":return s(e);case"subscribe":return l(e);case"suback":return c(e);case"unsubscribe":return p(e);case"pingreq":case"pingresp":case"disconnect":return d(e);default:throw new Error("unknown command")}}function r(e){var e=e||{},a=e.protocolId||"MQTT",n=e.protocolVersion||4,r=e.will,i=e.clean,o=e.keepalive||0,s=e.clientId||"",l=e.username,c=e.password;void 0===i&&(i=!0);var p=0;if(!a||"string"!=typeof a&&!t.isBuffer(a))throw new Error("Invalid protocol id");if(p+=a.length+2,!n||"number"!=typeof n||n>255||0>n)throw new Error("Invalid protocol version");if(p+=1,"string"!=typeof s&&!t.isBuffer(s)||!s&&4!=n||!s&&!i){if(4>n)throw new Error("clientId must be supplied before 3.1.1");if(0==i)throw new Error("clientId must be given if cleanSession set to 0")}else p+=s.length+2;if("number"!=typeof o||0>o||o>65535)throw new Error("Invalid keepalive");if(p+=2,p+=1,r){if("object"!=typeof r)throw new Error("Invalid will");if(!r.topic||"string"!=typeof r.topic)throw new Error("Invalid will topic");if(p+=r.topic.length+2,r.payload&&r.payload){if(!(r.payload.length>=0))throw new Error("Invalid will payload");p+="string"==typeof r.payload?t.byteLength(r.payload)+2:r.payload.length+2}else p+=2}if(l){if(!l.length)throw new Error("Invalid username");p+=l.length+2}if(c){if(!c.length)throw new Error("Invalid password");p+=c.length+2}var d=new t(1+u(p)+p),m=0;d.writeUInt8(w.codes.connect<<w.CMD_SHIFT,m++),m+=h(d,m,p),m+=b(d,m,a),d.writeUInt8(n,m++);var g=0;return g|=l?w.USERNAME_MASK:0,g|=c?w.PASSWORD_MASK:0,g|=r&&r.retain?w.WILL_RETAIN_MASK:0,g|=r&&r.qos?r.qos<<w.WILL_QOS_SHIFT:0,g|=r?w.WILL_FLAG_MASK:0,g|=i?w.CLEAN_SESSION_MASK:0,d.writeUInt8(g,m++),m+=v(d,m,o),m+=b(d,m,s),r&&(m+=f(d,m,r.topic),m+=b(d,m,r.payload)),l&&(m+=b(d,m,l)),c&&(m+=b(d,m,c)),d}function i(e){var e=e||{},a=e.returnCode;if("number"!=typeof a)throw new Error("Invalid return code");var n=new t(4),r=0;return n.writeUInt8(w.codes.connack<<w.CMD_SHIFT,r++),r+=h(n,r,2),n.writeUInt8(e.sessionPresent&&w.SESSIONPRESENT_MASK||0,r++),n.writeUInt8(a,r++),n}function o(e){var e=e||{},a=e.dup?w.DUP_MASK:0,n=e.qos,r=e.retain?w.RETAIN_MASK:0,i=e.topic,o=e.payload||y,s=e.messageId,l=0;if("string"==typeof i)l+=t.byteLength(i)+2;else{if(!t.isBuffer(i))throw new Error("Invalid topic");l+=i.length+2}if(l+=t.isBuffer(o)?o.length:t.byteLength(o),n&&"number"!=typeof s)throw new Error("Invalid message id");n&&(l+=2);var c=new t(1+u(l)+l),p=0;return c[p++]=w.codes.publish<<w.CMD_SHIFT|a|n<<w.QOS_SHIFT|r,p+=h(c,p,l),p+=b(c,p,i),n>0&&(p+=v(c,p,s)),t.isBuffer(o)?g(c,p,o):m(c,p,o),c}function s(e){var e=e||{},a=e.cmd||"puback",n=e.messageId,r=e.dup&&"pubrel"===a?w.DUP_MASK:0,i=0;if("pubrel"===a?i=1:"pubcomp"===a&&(i=2),"number"!=typeof n)throw new Error("Invalid message id");var o=new t(4),s=0;return o[s++]=w.codes[a]<<w.CMD_SHIFT|r|i<<w.QOS_SHIFT,s+=h(o,s,2),s+=v(o,s,n),o}function l(e){var e=e||{},a=e.dup?w.DUP_MASK:0,n=e.qos||0,r=e.messageId,i=e.subscriptions,o=0;if("number"!=typeof r)throw new Error("Invalid message id");if(o+=2,"object"!=typeof i||!i.length)throw new Error("Invalid subscriptions");for(var s=0;s<i.length;s+=1){var l=i[s].topic,n=i[s].qos;if("string"!=typeof l)throw new Error("Invalid subscriptions - invalid topic");if("number"!=typeof n)throw new Error("Invalid subscriptions - invalid qos");o+=t.byteLength(l)+2+1}var c=new t(1+u(o)+o),p=0;c.writeUInt8(w.codes.subscribe<<w.CMD_SHIFT|a|1<<w.QOS_SHIFT,p++),p+=h(c,p,o),p+=v(c,p,r);for(var s=0;s<i.length;s++){var d=i[s],l=d.topic,n=d.qos;p+=f(c,p,l),c.writeUInt8(n,p++)}return c}function c(e){var e=e||{},a=e.messageId,n=e.granted,r=0;
if("number"!=typeof a)throw new Error("Invalid message id");if(r+=2,"object"!=typeof n||!n.length)throw new Error("Invalid qos vector");for(var i=0;i<n.length;i+=1){if("number"!=typeof n[i])throw new Error("Invalid qos vector");r+=1}var o=new t(1+u(r)+r),s=0;o.writeUInt8(w.codes.suback<<w.CMD_SHIFT,s++),s+=h(o,s,r),s+=v(o,s,a);for(var i=0;i<n.length;i++)o.writeUInt8(n[i],s++);return o}function p(e){var e=e||{},a=e.messageId,n=e.dup?w.DUP_MASK:0,r=e.unsubscriptions,i=0;if("number"!=typeof a)throw new Error("Invalid message id");if(i+=2,"object"!=typeof r||!r.length)throw new Error("Invalid unsubscriptions");for(var o=0;o<r.length;o+=1){if("string"!=typeof r[o])throw new Error("Invalid unsubscriptions");i+=t.byteLength(r[o])+2}var s=new t(1+u(i)+i),l=0;s[l++]=w.codes.unsubscribe<<w.CMD_SHIFT|n|1<<w.QOS_SHIFT,l+=h(s,l,i),l+=v(s,l,a);for(var o=0;o<r.length;o++)l+=f(s,l,r[o]);return s}function d(e){var a=new t(2);return a[0]=w.codes[e.cmd]<<4,a[1]=0,a}function u(e){return e>=0&&128>e?1:e>=128&&16384>e?2:e>=16384&&2097152>e?3:e>=2097152&&268435456>e?4:0}function h(e,t,a){var n=0,r=t;do n=a%128|0,a=a/128|0,a>0&&(n=128|n),e.writeUInt8(n,t++);while(a>0);return t-r}function f(e,a,n){var r=t.byteLength(n);return v(e,a,r),m(e,a+2,n),r+2}function m(e,t,a){e.write(a,t)}function g(e,t,a){return a.copy(e,t),a.length}function v(e,t,a){return e.writeUInt8(a>>8,t),e.writeUInt8(255&a,t+1),2}function b(e,t,a){var n=0;return a&&"string"==typeof a?n+=f(e,t+n,a):a?(n+=v(e,t+n,a.length),n+=g(e,t+n,a)):n+=v(e,t+n,0),n}var w=a(47),y=new t(0);e.exports=n}).call(t,a(11).Buffer)},function(e,t,a){function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(e,t,a){if(e&&c(e)&&e instanceof n)return e;var r=new n;return r.parse(e,t,a),r}function i(e){return l(e)&&(e=r(e)),e instanceof n?e.format():n.prototype.format.call(e)}function o(e,t){return r(e,!1,!0).resolve(t)}function s(e,t){return e?r(e,!1,!0).resolveObject(t):t}function l(e){return"string"==typeof e}function c(e){return"object"==typeof e&&null!==e}function p(e){return null===e}function d(e){return null==e}var u=a(50);t.parse=r,t.resolve=o,t.resolveObject=s,t.format=i,t.Url=n;var h=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,m=["<",">",'"',"`"," ","\r","\n","	"],g=["{","}","|","\\","^","`"].concat(m),v=["'"].concat(g),b=["%","/","?",";","#"].concat(v),w=["/","?","#"],y=255,C=/^[a-z0-9A-Z_-]{0,63}$/,x=/^([a-z0-9A-Z_-]{0,63})(.*)$/,k={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},T={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=a(52);n.prototype.parse=function(e,t,a){if(!l(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e;n=n.trim();var r=h.exec(n);if(r){r=r[0];var i=r.toLowerCase();this.protocol=i,n=n.substr(r.length)}if(a||r||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var o="//"===n.substr(0,2);!o||r&&S[r]||(n=n.substr(2),this.slashes=!0)}if(!S[r]&&(o||r&&!T[r])){for(var s=-1,c=0;c<w.length;c++){var p=n.indexOf(w[c]);-1!==p&&(-1===s||s>p)&&(s=p)}var d,f;f=-1===s?n.lastIndexOf("@"):n.lastIndexOf("@",s),-1!==f&&(d=n.slice(0,f),n=n.slice(f+1),this.auth=decodeURIComponent(d)),s=-1;for(var c=0;c<b.length;c++){var p=n.indexOf(b[c]);-1!==p&&(-1===s||s>p)&&(s=p)}-1===s&&(s=n.length),this.host=n.slice(0,s),n=n.slice(s),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var g=this.hostname.split(/\./),c=0,P=g.length;P>c;c++){var _=g[c];if(_&&!_.match(C)){for(var M="",I=0,L=_.length;L>I;I++)M+=_.charCodeAt(I)>127?"x":_[I];if(!M.match(C)){var O=g.slice(0,c),B=g.slice(c+1),A=_.match(x);A&&(O.push(A[1]),B.unshift(A[2])),B.length&&(n="/"+B.join(".")+n),this.hostname=O.join(".");break}}}if(this.hostname.length>y?this.hostname="":this.hostname=this.hostname.toLowerCase(),!m){for(var D=this.hostname.split("."),R=[],c=0;c<D.length;++c){var N=D[c];R.push(N.match(/[^A-Za-z0-9_-]/)?"xn--"+u.encode(N):N)}this.hostname=R.join(".")}var z=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+z,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==n[0]&&(n="/"+n))}if(!k[i])for(var c=0,P=v.length;P>c;c++){var H=v[c],U=encodeURIComponent(H);U===H&&(U=escape(H)),n=n.split(H).join(U)}var q=n.indexOf("#");-1!==q&&(this.hash=n.substr(q),n=n.slice(0,q));var F=n.indexOf("?");if(-1!==F?(this.search=n.substr(F),this.query=n.substr(F+1),t&&(this.query=E.parse(this.query)),n=n.slice(0,F)):t&&(this.search="",this.query={}),n&&(this.pathname=n),T[i]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var z=this.pathname||"",N=this.search||"";this.path=z+N}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",a=this.pathname||"",n=this.hash||"",r=!1,i="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(i=E.stringify(this.query));var o=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||T[t])&&r!==!1?(r="//"+(r||""),a&&"/"!==a.charAt(0)&&(a="/"+a)):r||(r=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),a=a.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),o=o.replace("#","%23"),t+r+a+o+n},n.prototype.resolve=function(e){return this.resolveObject(r(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(l(e)){var t=new n;t.parse(e,!1,!0),e=t}var a=new n;if(Object.keys(this).forEach(function(e){a[e]=this[e]},this),a.hash=e.hash,""===e.href)return a.href=a.format(),a;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(a[t]=e[t])}),T[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a;if(e.protocol&&e.protocol!==a.protocol){if(!T[e.protocol])return Object.keys(e).forEach(function(t){a[t]=e[t]}),a.href=a.format(),a;if(a.protocol=e.protocol,e.host||S[e.protocol])a.pathname=e.pathname;else{for(var r=(e.pathname||"").split("/");r.length&&!(e.host=r.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),a.pathname=r.join("/")}if(a.search=e.search,a.query=e.query,a.host=e.host||"",a.auth=e.auth,a.hostname=e.hostname||e.host,a.port=e.port,a.pathname||a.search){var i=a.pathname||"",o=a.search||"";a.path=i+o}return a.slashes=a.slashes||e.slashes,a.href=a.format(),a}var s=a.pathname&&"/"===a.pathname.charAt(0),c=e.host||e.pathname&&"/"===e.pathname.charAt(0),u=c||s||a.host&&e.pathname,h=u,f=a.pathname&&a.pathname.split("/")||[],r=e.pathname&&e.pathname.split("/")||[],m=a.protocol&&!T[a.protocol];if(m&&(a.hostname="",a.port=null,a.host&&(""===f[0]?f[0]=a.host:f.unshift(a.host)),a.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===r[0]?r[0]=e.host:r.unshift(e.host)),e.host=null),u=u&&(""===r[0]||""===f[0])),c)a.host=e.host||""===e.host?e.host:a.host,a.hostname=e.hostname||""===e.hostname?e.hostname:a.hostname,a.search=e.search,a.query=e.query,f=r;else if(r.length)f||(f=[]),f.pop(),f=f.concat(r),a.search=e.search,a.query=e.query;else if(!d(e.search)){if(m){a.hostname=a.host=f.shift();var g=a.host&&a.host.indexOf("@")>0?a.host.split("@"):!1;g&&(a.auth=g.shift(),a.host=a.hostname=g.shift())}return a.search=e.search,a.query=e.query,p(a.pathname)&&p(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a}if(!f.length)return a.pathname=null,a.search?a.path="/"+a.search:a.path=null,a.href=a.format(),a;for(var v=f.slice(-1)[0],b=(a.host||e.host)&&("."===v||".."===v)||""===v,w=0,y=f.length;y>=0;y--)v=f[y],"."==v?f.splice(y,1):".."===v?(f.splice(y,1),w++):w&&(f.splice(y,1),w--);if(!u&&!h)for(;w--;w)f.unshift("..");!u||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift(""),b&&"/"!==f.join("/").substr(-1)&&f.push("");var C=""===f[0]||f[0]&&"/"===f[0].charAt(0);if(m){a.hostname=a.host=C?"":f.length?f.shift():"";var g=a.host&&a.host.indexOf("@")>0?a.host.split("@"):!1;g&&(a.auth=g.shift(),a.host=a.hostname=g.shift())}return u=u||a.host&&f.length,u&&!C&&f.unshift(""),f.length?a.pathname=f.join("/"):(a.pathname=null,a.path=null),p(a.pathname)&&p(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=e.auth||a.auth,a.slashes=a.slashes||e.slashes,a.href=a.format(),a},n.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,a){var n;(function(e,r){!function(i){function o(e){throw RangeError(O[e])}function s(e,t){for(var a=e.length,n=[];a--;)n[a]=t(e[a]);return n}function l(e,t){var a=e.split("@"),n="";a.length>1&&(n=a[0]+"@",e=a[1]),e=e.replace(L,".");var r=e.split("."),i=s(r,t).join(".");return n+i}function c(e){for(var t,a,n=[],r=0,i=e.length;i>r;)t=e.charCodeAt(r++),t>=55296&&56319>=t&&i>r?(a=e.charCodeAt(r++),56320==(64512&a)?n.push(((1023&t)<<10)+(1023&a)+65536):(n.push(t),r--)):n.push(t);return n}function p(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=D(e>>>10&1023|55296),e=56320|1023&e),t+=D(e)}).join("")}function d(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:C}function u(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function h(e,t,a){var n=0;for(e=a?A(e/T):e>>1,e+=A(e/t);e>B*k>>1;n+=C)e=A(e/B);return A(n+(B+1)*e/(e+S))}function f(e){var t,a,n,r,i,s,l,c,u,f,m=[],g=e.length,v=0,b=P,w=E;for(a=e.lastIndexOf(_),0>a&&(a=0),n=0;a>n;++n)e.charCodeAt(n)>=128&&o("not-basic"),m.push(e.charCodeAt(n));for(r=a>0?a+1:0;g>r;){for(i=v,s=1,l=C;r>=g&&o("invalid-input"),c=d(e.charCodeAt(r++)),(c>=C||c>A((y-v)/s))&&o("overflow"),v+=c*s,u=w>=l?x:l>=w+k?k:l-w,!(u>c);l+=C)f=C-u,s>A(y/f)&&o("overflow"),s*=f;t=m.length+1,w=h(v-i,t,0==i),A(v/t)>y-b&&o("overflow"),b+=A(v/t),v%=t,m.splice(v++,0,b)}return p(m)}function m(e){var t,a,n,r,i,s,l,p,d,f,m,g,v,b,w,S=[];for(e=c(e),g=e.length,t=P,a=0,i=E,s=0;g>s;++s)m=e[s],128>m&&S.push(D(m));for(n=r=S.length,r&&S.push(_);g>n;){for(l=y,s=0;g>s;++s)m=e[s],m>=t&&l>m&&(l=m);for(v=n+1,l-t>A((y-a)/v)&&o("overflow"),a+=(l-t)*v,t=l,s=0;g>s;++s)if(m=e[s],t>m&&++a>y&&o("overflow"),m==t){for(p=a,d=C;f=i>=d?x:d>=i+k?k:d-i,!(f>p);d+=C)w=p-f,b=C-f,S.push(D(u(f+w%b,0))),p=A(w/b);S.push(D(u(p,0))),i=h(a,v,n==r),a=0,++n}++a,++t}return S.join("")}function g(e){return l(e,function(e){return M.test(e)?f(e.slice(4).toLowerCase()):e})}function v(e){return l(e,function(e){return I.test(e)?"xn--"+m(e):e})}var b=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof r&&r);(b.global===b||b.window===b||b.self===b)&&(i=b);var w,y=2147483647,C=36,x=1,k=26,S=38,T=700,E=72,P=128,_="-",M=/^xn--/,I=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=C-x,A=Math.floor,D=String.fromCharCode;w={version:"1.3.2",ucs2:{decode:c,encode:p},decode:f,encode:m,toASCII:v,toUnicode:g},n=function(){return w}.call(t,a,t,e),!(void 0!==n&&(e.exports=n))}(this)}).call(t,a(51)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,a){"use strict";t.decode=t.parse=a(53),t.encode=t.stringify=a(54)},function(e,t){"use strict";function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var c=0;l>c;++c){var p,d,u,h,f=e[c].replace(o,"%20"),m=f.indexOf(n);m>=0?(p=f.substr(0,m),d=f.substr(m+1)):(p=f,d=""),u=decodeURIComponent(p),h=decodeURIComponent(d),a(i,u)?Array.isArray(i[u])?i[u].push(h):i[u]=[i[u],h]:i[u]=h}return i}},function(e,t){"use strict";var a=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(r){var i=encodeURIComponent(a(r))+n;return Array.isArray(e[r])?e[r].map(function(e){return i+encodeURIComponent(a(e))}).join(t):i+encodeURIComponent(a(e[r]))}).join(t):r?encodeURIComponent(a(r))+n+encodeURIComponent(a(e)):""}},function(e,t){function a(){for(var e={},t=0;t<arguments.length;t++){var a=arguments[t];for(var n in a)a.hasOwnProperty(n)&&(e[n]=a[n])}return e}e.exports=a},function(e,t,a){"use strict";function n(e,t){var a,n;return t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost",a=t.port,n=t.hostname,r.createConnection(a,n)}var r=a(!function(){var e=new Error('Cannot find module "net"');throw e.code="MODULE_NOT_FOUND",e}());e.exports=n},function(e,t,a){"use strict";function n(e,t){function a(a){t.rejectUnauthorized&&e.emit("error",a),n.end()}var n;return t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",t.rejectUnauthorized=!(!1===t.rejectUnauthorized),n=r.connect(t),n.on("secureConnect",function(){t.rejectUnauthorized&&!n.authorized?n.emit("error",new Error("TLS not authorized")):n.removeListener("error",a)}),n.on("error",a),n}var r=a(!function(){var e=new Error('Cannot find module "tls"');throw e.code="MODULE_NOT_FOUND",e}());e.exports=n},function(e,t,a){(function(t){"use strict";function n(e,t){var a={protocol:"mqttv3.1"},n=t.hostname||"localhost",r=String(t.port||80),o=t.path||"/",s=t.protocol+"://"+n+":"+r+o;return"wss"===t.protocol&&t.hasOwnProperty("rejectUnauthorized")&&(a.rejectUnauthorized=t.rejectUnauthorized),i(s,a)}function r(e,t){var a,n;if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");return n=o.parse(document.URL),t.protocol||("https:"===n.protocol?t.protocol="wss":t.protocol="ws"),t.hostname||(t.hostname=t.host),t.hostname||(t.hostname=n.hostname,t.port||(t.port=n.port)),t.port||("wss"===t.protocol?t.port=443:t.port=80),t.path||(t.path="/"),a=t.protocol+"://"+t.hostname+":"+t.port+t.path,i(a,"mqttv3.1")}var i=a(59),o=a(49);"browser"!==t.title?e.exports=n:e.exports=r}).call(t,a(1))},function(e,t,a){(function(t,n){function r(e,a){function r(e,t,a){g.send(e,a)}function l(e,t,a){try{g.send(e)}catch(n){return a(n)}a()}function c(e){g.close(),e()}function p(){m.setReadable(b),m.setWritable(b),m.emit("connect")}function d(){m.end(),m.destroy()}function u(e){m.destroy(e)}function h(e){var t=e.data;t instanceof ArrayBuffer&&(t=new n(new Uint8Array(t))),b.push(t)}function f(){g.close()}var m,g,v="browser"===t.title?l:r,b=i(v,c);return"object"==typeof e?g=e:(g=new s(e,a),g.binaryType="arraybuffer"),1===g.readyState?m=b:(m=o(),g.addEventListener("open",p)),m.socket=g,g.addEventListener("close",d),g.addEventListener("error",u),g.addEventListener("message",h),b.on("close",f),m}var i=a(60),o=a(62),s=a(78);e.exports=r}).call(t,a(1),a(11).Buffer)},function(e,t,a){(function(t){function n(e){o.call(this,e),this._destroyed=!1}function r(e,t,a){a(null,e)}function i(e){return function(t,a,n){return"function"==typeof t&&(n=a,a=t,t={}),"function"!=typeof a&&(a=r),"function"!=typeof n&&(n=null),e(t,a,n)}}var o=a(61),s=a(43).inherits,l=a(55);s(n,o),n.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var a=this;t.nextTick(function(){e&&a.emit("error",e),a.emit("close")})}},e.exports=i(function(e,t,a){var r=new n(e);return r._transform=t,a&&(r._flush=a),r}),e.exports.ctor=i(function(e,t,a){function r(t){return this instanceof r?(this.options=l(e,t),void n.call(this,this.options)):new r(t)}return s(r,n),r.prototype._transform=t,a&&(r.prototype._flush=a),r}),e.exports.obj=i(function(e,t,a){var r=new n(l({objectMode:!0,highWaterMark:16},e));return r._transform=t,a&&(r._flush=a),r})}).call(t,a(1))},function(e,t,a){e.exports=a(34)},function(e,t,a){(function(t,n){var r=a(63),i=a(75),o=a(43),s=new t([0]),l=function(e,t){e._corked?e.once("uncork",t):t()},c=function(e,t){return function(a){a?e.destroy("premature close"===a.message?null:a):t&&!e._ended&&e.end()}},p=function(e,t){return e?e._writableState&&e._writableState.finished?t():e._writableState?e.end(t):(e.end(),void t()):t()},d=function(e){return new r.Readable({objectMode:!0,highWaterMark:16}).wrap(e)},u=function(e,t,a){return this instanceof u?(r.Duplex.call(this,a),this._writable=null,this._readable=null,this._readable2=null,this._forwardDestroy=!a||a.destroy!==!1,this._forwardEnd=!a||a.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),void(t&&this.setReadable(t))):new u(e,t,a)};o.inherits(u,r.Duplex),u.obj=function(e,t,a){return a||(a={}),a.objectMode=!0,a.highWaterMark=16,new u(e,t,a)},u.prototype.cork=function(){1===++this._corked&&this.emit("cork")},u.prototype.uncork=function(){this._corked&&0===--this._corked&&this.emit("uncork")},u.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)return void(e&&e.destroy&&e.destroy());if(null===e||e===!1)return void this.end();var t=this,a=i(e,{writable:!0,readable:!1},c(this,this._forwardEnd)),r=function(){var e=t._ondrain;t._ondrain=null,e&&e()},o=function(){t._writable.removeListener("drain",r),a()};this._unwrite&&n.nextTick(r),this._writable=e,this._writable.on("drain",r),this._unwrite=o,this.uncork()},u.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)return void(e&&e.destroy&&e.destroy());if(null===e||e===!1)return this.push(null),void this.resume();var t=this,a=i(e,{writable:!1,readable:!0},c(this)),n=function(){t._forward()},r=function(){t.push(null)},o=function(){t._readable2.removeListener("readable",n),t._readable2.removeListener("end",r),a()};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:d(e),this._readable2.on("readable",n),this._readable2.on("end",r),this._unread=o,this._forward()},u.prototype._read=function(){this._drained=!0,this._forward()},u.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){this._forwarding=!0;for(var e,t=this._readable2._readableState;null!==(e=this._readable2.read(t.buffer.length?t.buffer[0].length:t.length));)this._drained=this.push(e);this._forwarding=!1}},u.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;n.nextTick(function(){t._destroy(e)})}},u.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},u.prototype._write=function(e,t,a){return this.destroyed?a():this._corked?l(this,this._write.bind(this,e,t,a)):e===s?this._finish(a):this._writable?void(this._writable.write(e)===!1?this._ondrain=a:a()):a()},u.prototype._finish=function(e){var t=this;this.emit("preend"),l(this,function(){p(t._forwardEnd&&t._writable,function(){t._writableState.prefinished===!1&&(t._writableState.prefinished=!0),t.emit("prefinish"),l(t,e)})})},u.prototype.end=function(e,t,a){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(s),r.Writable.prototype.end.call(this,a))},e.exports=u}).call(t,a(11).Buffer,a(1))},function(e,t,a){var n=function(){try{return a(6)}catch(e){}}();t=e.exports=a(64),t.Stream=n||t,t.Readable=t,t.Writable=a(70),t.Duplex=a(69),t.Transform=a(73),t.PassThrough=a(74)},function(e,t,a){(function(t){"use strict";function n(e,t){var n=a(69);e=e||{},this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(O||(O=a(72).StringDecoder),this.decoder=new O(e.encoding),this.encoding=e.encoding)}function r(e){a(69);return this instanceof r?(this._readableState=new n(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),void M.call(this)):new r(e)}function i(e,t,a,n,r){var i=c(t,a);if(i)e.emit("error",i);else if(null===a)t.reading=!1,p(e,t);else if(t.objectMode||a&&a.length>0)if(t.ended&&!r){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&r){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||r||n||(a=t.decoder.write(a)),r||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",a),e.read(0)):(t.length+=t.objectMode?1:a.length,r?t.buffer.unshift(a):t.buffer.push(a),t.needReadable&&d(e)),h(e,t);else r||(t.reading=!1);return o(t)}function o(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function s(e){if(e>=B)e=B;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function l(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=s(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var a=null;return P.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a}function p(e,t){if(!t.ended){if(t.decoder){var a=t.decoder.end();a&&a.length&&(t.buffer.push(a),t.length+=t.objectMode?1:a.length)}t.ended=!0,d(e)}}function d(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(L("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?T(u,e):u(e))}function u(e){L("emit readable"),e.emit("readable"),w(e)}function h(e,t){t.readingMore||(t.readingMore=!0,T(f,e,t))}function f(e,t){for(var a=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(L("maybeReadMore read 0"),e.read(0),a!==t.length);)a=t.length;t.readingMore=!1}function m(e){return function(){var t=e._readableState;L("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&_.listenerCount(e,"data")&&(t.flowing=!0,w(e))}}function g(e){L("readable nexttick read 0"),e.read(0)}function v(e,t){t.resumeScheduled||(t.resumeScheduled=!0,T(b,e,t))}function b(e,t){t.reading||(L("resume read 0"),e.read(0)),t.resumeScheduled=!1,e.emit("resume"),w(e),t.flowing&&!t.reading&&e.read(0)}function w(e){var t=e._readableState;if(L("flow",t.flowing),t.flowing)do var a=e.read();while(null!==a&&t.flowing)}function y(e,t){var a,n=t.buffer,r=t.length,i=!!t.decoder,o=!!t.objectMode;if(0===n.length)return null;if(0===r)a=null;else if(o)a=n.shift();else if(!e||e>=r)a=i?n.join(""):P.concat(n,r),n.length=0;else if(e<n[0].length){var s=n[0];a=s.slice(0,e),n[0]=s.slice(e)}else if(e===n[0].length)a=n.shift();else{a=i?"":new P(e);for(var l=0,c=0,p=n.length;p>c&&e>l;c++){var s=n[0],d=Math.min(e-l,s.length);i?a+=s.slice(0,d):s.copy(a,l,0,d),d<s.length?n[0]=s.slice(d):n.shift(),l+=d}}return a}function C(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,T(x,t,e))}function x(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function k(e,t){for(var a=0,n=e.length;n>a;a++)t(e[a],a)}function S(e,t){for(var a=0,n=e.length;n>a;a++)if(e[a]===t)return a;return-1}e.exports=r;var T=a(65),E=a(66),P=a(11).Buffer;r.ReadableState=n;var _=a(3).EventEmitter;_.listenerCount||(_.listenerCount=function(e,t){return e.listeners(t).length});var M;!function(){try{M=a(6)}catch(e){}finally{M||(M=a(3).EventEmitter)}}();var P=a(11).Buffer,I=a(67);I.inherits=a(30);var L=a(68);L=L&&L.debuglog?L.debuglog("stream"):function(){};var O;I.inherits(r,M),r.prototype.push=function(e,t){var a=this._readableState;return a.objectMode||"string"!=typeof e||(t=t||a.defaultEncoding,t!==a.encoding&&(e=new P(e,t),t="")),i(this,a,e,t,!1)},r.prototype.unshift=function(e){var t=this._readableState;return i(this,t,e,"",!0)},r.prototype.isPaused=function(){return this._readableState.flowing===!1},r.prototype.setEncoding=function(e){return O||(O=a(72).StringDecoder),this._readableState.decoder=new O(e),this._readableState.encoding=e,this};var B=8388608;r.prototype.read=function(e){L("read",e);var t=this._readableState,a=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return L("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):d(this),null;if(e=l(e,t),0===e&&t.ended)return 0===t.length&&C(this),null;var n=t.needReadable;L("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,L("length less than watermark",n)),(t.ended||t.reading)&&(n=!1,L("reading or ended",n)),n&&(L("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),n&&!t.reading&&(e=l(a,t));var r;return r=e>0?y(e,t):null,null===r&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),a!==e&&t.ended&&0===t.length&&C(this),null!==r&&this.emit("data",r),r},r.prototype._read=function(e){this.emit("error",new Error("not implemented"))},r.prototype.pipe=function(e,a){function n(e){L("onunpipe"),e===d&&i()}function r(){L("onend"),e.end()}function i(){L("cleanup"),e.removeListener("close",l),e.removeListener("finish",c),e.removeListener("drain",g),e.removeListener("error",s),e.removeListener("unpipe",n),d.removeListener("end",r),d.removeListener("end",i),d.removeListener("data",o),!u.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function o(t){L("ondata");var a=e.write(t);!1===a&&(L("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,d.pause())}function s(t){L("onerror",t),p(),e.removeListener("error",s),0===_.listenerCount(e,"error")&&e.emit("error",t)}function l(){e.removeListener("finish",c),p()}function c(){L("onfinish"),e.removeListener("close",l),p()}function p(){L("unpipe"),d.unpipe(e)}var d=this,u=this._readableState;switch(u.pipesCount){case 0:u.pipes=e;break;case 1:u.pipes=[u.pipes,e];break;default:u.pipes.push(e)}u.pipesCount+=1,L("pipe count=%d opts=%j",u.pipesCount,a);var h=(!a||a.end!==!1)&&e!==t.stdout&&e!==t.stderr,f=h?r:i;u.endEmitted?T(f):d.once("end",f),e.on("unpipe",n);var g=m(d);return e.on("drain",g),d.on("data",o),e._events&&e._events.error?E(e._events.error)?e._events.error.unshift(s):e._events.error=[s,e._events.error]:e.on("error",s),e.once("close",l),e.once("finish",c),e.emit("pipe",d),u.flowing||(L("pipe resume"),d.resume()),e},r.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var a=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var r=0;n>r;r++)a[r].emit("unpipe",this);return this}var r=S(t.pipes,e);return-1===r?this:(t.pipes.splice(r,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},r.prototype.on=function(e,t){var a=M.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&d(this,n):T(g,this))}return a},r.prototype.addListener=r.prototype.on,r.prototype.resume=function(){var e=this._readableState;return e.flowing||(L("resume"),e.flowing=!0,v(this,e)),this},r.prototype.pause=function(){return L("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(L("pause"),this._readableState.flowing=!1,this.emit("pause")),this},r.prototype.wrap=function(e){var t=this._readableState,a=!1,n=this;e.on("end",function(){if(L("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(r){if(L("wrapped data"),t.decoder&&(r=t.decoder.write(r)),(!t.objectMode||null!==r&&void 0!==r)&&(t.objectMode||r&&r.length)){var i=n.push(r);i||(a=!0,e.pause())}});for(var r in e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));var i=["error","close","destroy","pause","resume"];return k(i,function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){L("wrapped _read",t),a&&(a=!1,e.resume())},n},r._fromList=y}).call(t,a(1))},function(e,t,a){(function(t){"use strict";function a(e){for(var a=new Array(arguments.length-1),n=0;n<arguments.length;)a[n++]=arguments[n];t.nextTick(function(){e.apply(null,a)})}e.exports=a}).call(t,a(1))},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,a){(function(e){function a(e){return Array.isArray(e)}function n(e){return"boolean"==typeof e}function r(e){return null===e}function i(e){return null==e}function o(e){return"number"==typeof e}function s(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function c(e){return void 0===e}function p(e){return d(e)&&"[object RegExp]"===v(e)}function d(e){return"object"==typeof e&&null!==e}function u(e){return d(e)&&"[object Date]"===v(e)}function h(e){return d(e)&&("[object Error]"===v(e)||e instanceof Error)}function f(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function g(t){return e.isBuffer(t)}function v(e){return Object.prototype.toString.call(e)}t.isArray=a,t.isBoolean=n,t.isNull=r,t.isNullOrUndefined=i,t.isNumber=o,t.isString=s,t.isSymbol=l,t.isUndefined=c,t.isRegExp=p,t.isObject=d,t.isDate=u,t.isError=h,t.isFunction=f,t.isPrimitive=m,t.isBuffer=g}).call(t,a(11).Buffer)},function(e,t){},function(e,t,a){"use strict";function n(e){return this instanceof n?(c.call(this,e),p.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",r)):new n(e)}function r(){this.allowHalfOpen||this._writableState.ended||s(i,this)}function i(e){e.end()}var o=Object.keys||function(e){var t=[];for(var a in e)t.push(a);return t};e.exports=n;var s=a(65),l=a(67);l.inherits=a(30);var c=a(64),p=a(70);l.inherits(n,c);for(var d=o(p.prototype),u=0;u<d.length;u++){var h=d[u];n.prototype[h]||(n.prototype[h]=p.prototype[h])}},function(e,t,a){"use strict";function n(){}function r(e,t,a){this.chunk=e,this.encoding=t,this.callback=a,this.next=null}function i(e,t){var n=a(69);e=e||{},this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){f(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(e){var t=a(69);return this instanceof o||this instanceof t?(this._writableState=new i(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),
void T.call(this)):new o(e)}function s(e,t){var a=new Error("write after end");e.emit("error",a),x(t,a)}function l(e,t,a,n){var r=!0;if(!k.isBuffer(a)&&"string"!=typeof a&&null!==a&&void 0!==a&&!t.objectMode){var i=new TypeError("Invalid non-string/buffer chunk");e.emit("error",i),x(n,i),r=!1}return r}function c(e,t,a){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=new k(t,a)),t}function p(e,t,a,n,i){a=c(t,a,n),k.isBuffer(a)&&(n="buffer");var o=t.objectMode?1:a.length;t.length+=o;var s=t.length<t.highWaterMark;if(s||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest=new r(a,n,i),l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest}else d(e,t,!1,o,a,n,i);return s}function d(e,t,a,n,r,i,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,a?e._writev(r,t.onwrite):e._write(r,i,t.onwrite),t.sync=!1}function u(e,t,a,n,r){--t.pendingcb,a?x(r,n):r(n),e._writableState.errorEmitted=!0,e.emit("error",n)}function h(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function f(e,t){var a=e._writableState,n=a.sync,r=a.writecb;if(h(a),t)u(e,a,n,t,r);else{var i=b(a);i||a.corked||a.bufferProcessing||!a.bufferedRequest||v(e,a),n?x(m,e,a,i,r):m(e,a,i,r)}}function m(e,t,a,n){a||g(e,t),t.pendingcb--,n(),y(e,t)}function g(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function v(e,t){t.bufferProcessing=!0;var a=t.bufferedRequest;if(e._writev&&a&&a.next){for(var n=[],r=[];a;)r.push(a.callback),n.push(a),a=a.next;t.pendingcb++,t.lastBufferedRequest=null,d(e,t,!0,t.length,n,"",function(e){for(var a=0;a<r.length;a++)t.pendingcb--,r[a](e)})}else{for(;a;){var i=a.chunk,o=a.encoding,s=a.callback,l=t.objectMode?1:i.length;if(d(e,t,!1,l,i,o,s),a=a.next,t.writing)break}null===a&&(t.lastBufferedRequest=null)}t.bufferedRequest=a,t.bufferProcessing=!1}function b(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function y(e,t){var a=b(t);return a&&(0===t.pendingcb?(w(e,t),t.finished=!0,e.emit("finish")):w(e,t)),a}function C(e,t,a){t.ending=!0,y(e,t),a&&(t.finished?x(a):e.once("finish",a)),t.ended=!0}e.exports=o;var x=a(65),k=a(11).Buffer;o.WritableState=i;var S=a(67);S.inherits=a(30);var T;!function(){try{T=a(6)}catch(e){}finally{T||(T=a(3).EventEmitter)}}();var k=a(11).Buffer;S.inherits(o,T),i.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(i.prototype,"buffer",{get:a(71)(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer() instead.")})}catch(e){}}(),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,a){var r=this._writableState,i=!1;return"function"==typeof t&&(a=t,t=null),k.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof a&&(a=n),r.ended?s(this,a):l(this,r,e,a)&&(r.pendingcb++,i=p(this,r,e,t,a)),i},o.prototype.cork=function(){var e=this._writableState;e.corked++},o.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},o.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);this._writableState.defaultEncoding=e},o.prototype._write=function(e,t,a){a(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(e,t,a){var n=this._writableState;"function"==typeof e?(a=e,e=null,t=null):"function"==typeof t&&(a=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||C(this,n,a)}},function(e,t){(function(t){function a(e,t){function a(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}if(n("noDeprecation"))return e;var r=!1;return a}function n(e){if(!t.localStorage)return!1;var a=t.localStorage[e];return null==a?!1:"true"===String(a).toLowerCase()}e.exports=a}).call(t,function(){return this}())},function(e,t,a){function n(e){if(e&&!l(e))throw new Error("Unknown encoding: "+e)}function r(e){return e.toString(this.encoding)}function i(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function o(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var s=a(11).Buffer,l=s.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),n(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=i;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=o;break;default:return void(this.write=r)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(e){for(var t="";this.charLength;){var a=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,a),this.charReceived+=a,this.charReceived<this.charLength)return"";e=e.slice(a,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=t.charCodeAt(t.length-1);if(!(n>=55296&&56319>=n)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var r=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,r),r-=this.charReceived),t+=e.toString(this.encoding,0,r);var r=t.length-1,n=t.charCodeAt(r);if(n>=55296&&56319>=n){var i=this.surrogateSize;return this.charLength+=i,this.charReceived+=i,this.charBuffer.copy(this.charBuffer,i,0,i),e.copy(this.charBuffer,0,0,i),t.substring(0,r)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var a=e[e.length-t];if(1==t&&a>>5==6){this.charLength=2;break}if(2>=t&&a>>4==14){this.charLength=3;break}if(3>=t&&a>>3==30){this.charLength=4;break}}this.charReceived=t},c.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var a=this.charReceived,n=this.charBuffer,r=this.encoding;t+=n.slice(0,a).toString(r)}return t}},function(e,t,a){"use strict";function n(e){this.afterTransform=function(t,a){return r(e,t,a)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function r(e,t,a){var n=e._transformState;n.transforming=!1;var r=n.writecb;if(!r)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!==a&&void 0!==a&&e.push(a),r&&r(t);var i=e._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&e._read(i.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);s.call(this,e),this._transformState=new n(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e){o(t,e)}):o(t)})}function o(e,t){if(t)return e.emit("error",t);var a=e._writableState,n=e._transformState;if(a.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}e.exports=i;var s=a(69),l=a(67);l.inherits=a(30),l.inherits(i,s),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,a){throw new Error("not implemented")},i.prototype._write=function(e,t,a){var n=this._transformState;if(n.writecb=a,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},function(e,t,a){"use strict";function n(e){return this instanceof n?void r.call(this,e):new n(e)}e.exports=n;var r=a(73),i=a(67);i.inherits=a(30),i.inherits(n,r),n.prototype._transform=function(e,t,a){a(null,e)}},function(e,t,a){var n=a(76),r=function(){},i=function(e){return e.setHeader&&"function"==typeof e.abort},o=function(e,t,a){if("function"==typeof t)return o(e,null,t);t||(t={}),a=n(a||r);var s=e._writableState,l=e._readableState,c=t.readable||t.readable!==!1&&e.readable,p=t.writable||t.writable!==!1&&e.writable,d=function(){e.writable||u()},u=function(){p=!1,c||a()},h=function(){c=!1,p||a()},f=function(){return(!c||l&&l.ended)&&(!p||s&&s.ended)?void 0:a(new Error("premature close"))},m=function(){e.req.on("finish",u)};return i(e)?(e.on("complete",u),e.on("abort",f),e.req?m():e.on("request",m)):p&&!s&&(e.on("end",d),e.on("close",d)),e.on("end",h),e.on("finish",u),t.error!==!1&&e.on("error",a),e.on("close",f),function(){e.removeListener("complete",u),e.removeListener("abort",f),e.removeListener("request",m),e.req&&e.req.removeListener("finish",u),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",u),e.removeListener("end",h),e.removeListener("error",a),e.removeListener("close",f)}};e.exports=o},function(e,t,a){function n(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}var r=a(77);e.exports=r(n),n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0})})},function(e,t){function a(e,t){function n(){for(var t=new Array(arguments.length),a=0;a<t.length;a++)t[a]=arguments[a];var n=e.apply(this,t),r=t[t.length-1];return"function"==typeof n&&n!==r&&Object.keys(r).forEach(function(e){n[e]=r[e]}),n}if(e&&t)return a(e)(t);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(t){n[t]=e[t]}),n}e.exports=a},function(e,t){function a(e,t,a){var n;return n=t?new r(e,t):new r(e)}var n=function(){return this}(),r=n.WebSocket||n.MozWebSocket;e.exports=r?a:null,r&&(a.prototype=r.prototype)}]);!function(){"use strict";window.Framework7=function(t){function a(e){var t=e.replace(/^./,function(e){return e.toUpperCase()});i["onPage"+t]=function(t,a){return i.onPage(e,t,a)}}function n(){var e,t=s(this),a=t[0].scrollTop,n=t[0].scrollHeight,r=t[0].offsetHeight,i=t[0].getAttribute("data-distance"),o=t.find(".virtual-list"),l=t.hasClass("infinite-scroll-top");if(i||(i=50),"string"==typeof i&&i.indexOf("%")>=0&&(i=parseInt(i,10)/100*r),i>r&&(i=r),l)i>a&&t.trigger("infinite");else if(a+r>=n-i){if(o.length>0&&(e=o[0].f7VirtualList,e&&!e.reachEnd))return;t.trigger("infinite")}}function r(){i.device.ipad&&(document.body.scrollLeft=0,setTimeout(function(){document.body.scrollLeft=0},0))}var i=this;i.version="1.2.0",i.params={cache:!0,cacheIgnore:[],cacheIgnoreGetParameters:!1,cacheDuration:6e5,preloadPreviousPage:!0,uniqueHistory:!1,uniqueHistoryIgnoreGetParameters:!1,dynamicPageUrl:"content-{{index}}",allowDuplicateUrls:!1,router:!0,pushState:!1,pushStateRoot:void 0,pushStateNoAnimation:!1,pushStateSeparator:"#!/",pushStatePreventOnLoad:!0,fastClicks:!0,fastClicksDistanceThreshold:10,fastClicksDelayBetweenClicks:50,tapHold:!1,tapHoldDelay:750,tapHoldPreventClicks:!0,activeState:!0,activeStateElements:"a, button, label, span",animateNavBackIcon:!1,swipeBackPage:!0,swipeBackPageThreshold:0,swipeBackPageActiveArea:30,swipeBackPageAnimateShadow:!0,swipeBackPageAnimateOpacity:!0,ajaxLinks:void 0,externalLinks:".external",sortable:!0,hideNavbarOnPageScroll:!1,hideToolbarOnPageScroll:!1,hideTabbarOnPageScroll:!1,showBarsOnPageScrollEnd:!0,showBarsOnPageScrollTop:!0,swipeout:!0,swipeoutActionsNoFold:!1,swipeoutNoFollow:!1,smartSelectOpenIn:"page",smartSelectBackText:"Back",smartSelectPopupCloseText:"Close",smartSelectPickerCloseText:"Done",smartSelectSearchbar:!1,smartSelectBackOnSelect:!1,scrollTopOnNavbarClick:!1,scrollTopOnStatusbarClick:!1,swipePanel:!1,swipePanelActiveArea:0,swipePanelCloseOpposite:!0,swipePanelOnlyClose:!1,swipePanelNoFollow:!1,swipePanelThreshold:0,panelsCloseByOutside:!0,modalButtonOk:"OK",modalButtonCancel:"Cancel",modalUsernamePlaceholder:"Username",modalPasswordPlaceholder:"Password",modalTitle:"Framework7",modalCloseByOutside:!1,actionsCloseByOutside:!0,popupCloseByOutside:!0,modalPreloaderTitle:"Loading... ",modalStack:!0,imagesLazyLoadThreshold:0,imagesLazyLoadSequential:!0,viewClass:"view",viewMainClass:"view-main",viewsClass:"views",notificationCloseOnClick:!1,notificationCloseIcon:!0,notificationCloseButtonText:"Close",animatePages:!0,templates:{},template7Data:{},template7Pages:!1,precompileTemplates:!1,material:!1,materialPageLoadDelay:0,materialPreloaderSvg:'<svg xmlns="http://www.w3.org/2000/svg" height="75" width="75" viewbox="0 0 75 75"><circle cx="37.5" cy="37.5" r="33.5" stroke-width="8"/></svg>',materialRipple:!0,materialRippleElements:".ripple, a.link, a.item-link, .button, .modal-button, .tab-link, .label-radio, .label-checkbox, .actions-modal-button, a.searchbar-clear, .floating-button",init:!0};for(var o in t)i.params[o]=t[o];var s=e,l=Template7;i._compiledTemplates={},i.touchEvents={start:i.support.touch?"touchstart":"mousedown",move:i.support.touch?"touchmove":"mousemove",end:i.support.touch?"touchend":"mouseup"},i.ls=window.localStorage,i.rtl="rtl"===s("body").css("direction"),i.rtl&&s("html").attr("dir","rtl"),"undefined"!=typeof i.params.statusbarOverlay&&(i.params.statusbarOverlay?s("html").addClass("with-statusbar-overlay"):s("html").removeClass("with-statusbar-overlay")),i.views=[];var c=function(e,t){var a,n={dynamicNavbar:!1,domCache:!1,linksView:void 0,reloadPages:!1,uniqueHistory:i.params.uniqueHistory,uniqueHistoryIgnoreGetParameters:i.params.uniqueHistoryIgnoreGetParameters,allowDuplicateUrls:i.params.allowDuplicateUrls,swipeBackPage:i.params.swipeBackPage,swipeBackPageAnimateShadow:i.params.swipeBackPageAnimateShadow,swipeBackPageAnimateOpacity:i.params.swipeBackPageAnimateOpacity,swipeBackPageActiveArea:i.params.swipeBackPageActiveArea,swipeBackPageThreshold:i.params.swipeBackPageThreshold,animatePages:i.params.animatePages,preloadPreviousPage:i.params.preloadPreviousPage};t=t||{},t.dynamicNavbar&&i.params.material&&(t.dynamicNavbar=!1);for(var r in n)"undefined"==typeof t[r]&&(t[r]=n[r]);var o=this;o.params=t,o.selector=e;var l=s(e);if(o.container=l[0],"string"!=typeof e&&(e=(l.attr("id")?"#"+l.attr("id"):"")+(l.attr("class")?"."+l.attr("class").replace(/ /g,".").replace(".active",""):""),o.selector=e),o.main=l.hasClass(i.params.viewMainClass),o.contentCache={},o.pagesCache={},l[0].f7View=o,o.pagesContainer=l.find(".pages")[0],o.initialPages=[],o.initialNavbars=[],o.params.domCache){var c=l.find(".page");for(a=0;a<c.length;a++)o.initialPages.push(c[a]);if(o.params.dynamicNavbar){var p=l.find(".navbar-inner");for(a=0;a<p.length;a++)o.initialNavbars.push(p[a])}}o.allowPageChange=!0;var d=document.location.href;o.history=[];var u=d,h=i.params.pushStateSeparator,f=i.params.pushStateRoot;i.params.pushState&&o.main&&(f?u=f:u.indexOf(h)>=0&&u.indexOf(h+"#")<0&&(u=u.split(h)[0]));var m,g;o.activePage||(m=s(o.pagesContainer).find(".page-on-center"),0===m.length&&(m=s(o.pagesContainer).find(".page:not(.cached)"),m=m.eq(m.length-1)),m.length>0&&(g=m[0].f7PageData)),o.params.domCache&&m?(o.url=l.attr("data-url")||o.params.url||"#"+m.attr("data-page"),o.pagesCache[o.url]=m.attr("data-page")):o.url=l.attr("data-url")||o.params.url||u,g&&(g.view=o,g.url=o.url,o.activePage=g,m[0].f7PageData=g),o.url&&o.history.push(o.url);var v,b,w,y,C,x,k,S,T,E,P,_=!1,M=!1,I={},L=[],O=[],B=!0,A=[],D=[];if(o.handleTouchStart=function(e){B&&o.params.swipeBackPage&&!_&&!i.swipeoutOpenedEl&&o.allowPageChange&&(M=!1,_=!0,v=void 0,I.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,I.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,y=(new Date).getTime(),T=o.params.dynamicNavbar&&l.find(".navbar-inner").length>1)},o.handleTouchMove=function(e){if(_){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof v&&(v=!!(v||Math.abs(a-I.y)>Math.abs(t-I.x))),v||e.f7PreventSwipeBack||i.preventSwipeBack)return void(_=!1);if(!M){var n=!1;b=l.width();var r=s(e.target),c=r.hasClass("swipeout")?r:r.parents(".swipeout");c.length>0&&(!i.rtl&&c.find(".swipeout-actions-left").length>0&&(n=!0),i.rtl&&c.find(".swipeout-actions-right").length>0&&(n=!0)),L=r.is(".page")?r:r.parents(".page"),L.hasClass("no-swipeback")&&(n=!0),O=l.find(".page-on-left:not(.cached)");var p=I.x-l.offset().left>o.params.swipeBackPageActiveArea;if(p=i.rtl?I.x<l.offset().left-l[0].scrollLeft+b-o.params.swipeBackPageActiveArea:I.x-l.offset().left>o.params.swipeBackPageActiveArea,p&&(n=!0),(0===O.length||0===L.length)&&(n=!0),n)return void(_=!1);o.params.swipeBackPageAnimateShadow&&!i.device.android&&(E=L.find(".swipeback-page-shadow"),0===E.length&&(E=s('<div class="swipeback-page-shadow"></div>'),L.append(E))),T&&(A=l.find(".navbar-on-center:not(.cached)"),D=l.find(".navbar-on-left:not(.cached)"),C=A.find(".left, .center, .right, .subnavbar, .fading"),x=D.find(".left, .center, .right, .subnavbar, .fading"),i.params.animateNavBackIcon&&(k=A.find(".left.sliding .back .icon"),S=D.find(".left.sliding .back .icon"))),s(".picker-modal.modal-in").length>0&&i.closeModal(s(".picker-modal.modal-in"))}e.f7PreventPanelSwipe=!0,M=!0,e.preventDefault();var d=i.rtl?-1:1;w=(t-I.x-o.params.swipeBackPageThreshold)*d,0>w&&(w=0);var u=w/b,h={percentage:u,activePage:L[0],previousPage:O[0],activeNavbar:A[0],previousNavbar:D[0]};o.params.onSwipeBackMove&&o.params.onSwipeBackMove(h),l.trigger("swipeBackMove",h);var f=w*d,m=(w/5-b/5)*d;if(1===i.device.pixelRatio&&(f=Math.round(f),m=Math.round(m)),L.transform("translate3d("+f+"px,0,0)"),o.params.swipeBackPageAnimateShadow&&!i.device.android&&(E[0].style.opacity=1-1*u),O.transform("translate3d("+m+"px,0,0)"),o.params.swipeBackPageAnimateOpacity&&(O[0].style.opacity=.9+.1*u),T){var g;for(g=0;g<C.length;g++)if(P=s(C[g]),P.is(".subnavbar.sliding")||(P[0].style.opacity=1-1.3*u),P[0].className.indexOf("sliding")>=0){var y=u*P[0].f7NavbarRightOffset;1===i.device.pixelRatio&&(y=Math.round(y)),P.transform("translate3d("+y+"px,0,0)"),i.params.animateNavBackIcon&&P[0].className.indexOf("left")>=0&&k.length>0&&k.transform("translate3d("+-y+"px,0,0)")}for(g=0;g<x.length;g++)if(P=s(x[g]),P.is(".subnavbar.sliding")||(P[0].style.opacity=1.3*u-.3),P[0].className.indexOf("sliding")>=0){var B=P[0].f7NavbarLeftOffset*(1-u);1===i.device.pixelRatio&&(B=Math.round(B)),P.transform("translate3d("+B+"px,0,0)"),i.params.animateNavBackIcon&&P[0].className.indexOf("left")>=0&&S.length>0&&S.transform("translate3d("+-B+"px,0,0)")}}}},o.handleTouchEnd=function(e){if(!_||!M)return _=!1,void(M=!1);if(_=!1,M=!1,0===w)return s([L[0],O[0]]).transform("").css({opacity:"",boxShadow:""}),void(T&&(C.transform("").css({opacity:""}),x.transform("").css({opacity:""}),k&&k.length>0&&k.transform(""),S&&k.length>0&&S.transform("")));var t=(new Date).getTime()-y,a=!1;(300>t&&w>10||t>=300&&w>b/2)&&(L.removeClass("page-on-center").addClass("page-on-right"),O.removeClass("page-on-left").addClass("page-on-center"),T&&(A.removeClass("navbar-on-center").addClass("navbar-on-right"),D.removeClass("navbar-on-left").addClass("navbar-on-center")),a=!0),s([L[0],O[0]]).transform("").css({opacity:"",boxShadow:""}).addClass("page-transitioning"),T&&(C.css({opacity:""}).each(function(){var e=a?this.f7NavbarRightOffset:0,t=s(this);t.transform("translate3d("+e+"px,0,0)"),i.params.animateNavBackIcon&&t.hasClass("left")&&k.length>0&&k.addClass("page-transitioning").transform("translate3d("+-e+"px,0,0)")}).addClass("page-transitioning"),x.transform("").css({opacity:""}).each(function(){var e=a?0:this.f7NavbarLeftOffset,t=s(this);t.transform("translate3d("+e+"px,0,0)"),i.params.animateNavBackIcon&&t.hasClass("left")&&S.length>0&&S.addClass("page-transitioning").transform("translate3d("+-e+"px,0,0)")}).addClass("page-transitioning")),B=!1,o.allowPageChange=!1;var n={activePage:L[0],previousPage:O[0],activeNavbar:A[0],previousNavbar:D[0]};if(a){var r=o.history[o.history.length-2];o.url=r,i.pageBackCallback("before",o,{pageContainer:L[0],url:r,position:"center",newPage:O,oldPage:L,swipeBack:!0}),i.pageAnimCallback("before",o,{pageContainer:O[0],url:r,position:"left",newPage:O,oldPage:L,swipeBack:!0}),o.params.onSwipeBackBeforeChange&&o.params.onSwipeBackBeforeChange(n),l.trigger("swipeBackBeforeChange",n)}else o.params.onSwipeBackBeforeReset&&o.params.onSwipeBackBeforeReset(n),l.trigger("swipeBackBeforeReset",n);L.transitionEnd(function(){s([L[0],O[0]]).removeClass("page-transitioning"),T&&(C.removeClass("page-transitioning").css({opacity:""}),x.removeClass("page-transitioning").css({opacity:""}),k&&k.length>0&&k.removeClass("page-transitioning"),S&&S.length>0&&S.removeClass("page-transitioning")),B=!0,o.allowPageChange=!0,a?(i.params.pushState&&o.main&&history.back(),i.pageBackCallback("after",o,{pageContainer:L[0],url:r,position:"center",newPage:O,oldPage:L,swipeBack:!0}),i.pageAnimCallback("after",o,{pageContainer:O[0],url:r,position:"left",newPage:O,oldPage:L,swipeBack:!0}),i.router.afterBack(o,L,O),o.params.onSwipeBackAfterChange&&o.params.onSwipeBackAfterChange(n),l.trigger("swipeBackAfterChange",n)):(o.params.onSwipeBackAfterReset&&o.params.onSwipeBackAfterReset(n),l.trigger("swipeBackAfterReset",n)),E&&E.length>0&&E.remove()})},o.attachEvents=function(e){var t=e?"off":"on";l[t](i.touchEvents.start,o.handleTouchStart),l[t](i.touchEvents.move,o.handleTouchMove),l[t](i.touchEvents.end,o.handleTouchEnd)},o.detachEvents=function(){o.attachEvents(!0)},o.params.swipeBackPage&&!i.params.material&&o.attachEvents(),i.views.push(o),o.main&&(i.mainView=o),o.router={load:function(e){return i.router.load(o,e)},back:function(e){return i.router.back(o,e)},loadPage:function(e){if(e=e||{},"string"==typeof e){var t=e;e={},t&&0===t.indexOf("#")&&o.params.domCache?e.pageName=t.split("#")[1]:e.url=t}return i.router.load(o,e)},loadContent:function(e){return i.router.load(o,{content:e})},reloadPage:function(e){return i.router.load(o,{url:e,reload:!0})},reloadContent:function(e){return i.router.load(o,{content:e,reload:!0})},reloadPreviousPage:function(e){return i.router.load(o,{url:e,reloadPrevious:!0,reload:!0})},reloadPreviousContent:function(e){return i.router.load(o,{content:e,reloadPrevious:!0,reload:!0})},refreshPage:function(){var e={url:o.url,reload:!0,ignoreCache:!0};return e.url&&0===e.url.indexOf("#")&&(o.params.domCache&&o.pagesCache[e.url]?(e.pageName=o.pagesCache[e.url],e.url=void 0,delete e.url):o.contentCache[e.url]&&(e.content=o.contentCache[e.url],e.url=void 0,delete e.url)),i.router.load(o,e)},refreshPreviousPage:function(){var e={url:o.history[o.history.length-2],reload:!0,reloadPrevious:!0,ignoreCache:!0};return e.url&&0===e.url.indexOf("#")&&o.params.domCache&&o.pagesCache[e.url]&&(e.pageName=o.pagesCache[e.url],e.url=void 0,delete e.url),i.router.load(o,e)}},o.loadPage=o.router.loadPage,o.loadContent=o.router.loadContent,o.reloadPage=o.router.reloadPage,o.reloadContent=o.router.reloadContent,o.reloadPreviousPage=o.router.reloadPreviousPage,o.reloadPreviousContent=o.router.reloadPreviousContent,o.refreshPage=o.router.refreshPage,o.refreshPreviousPage=o.router.refreshPreviousPage,o.back=o.router.back,o.hideNavbar=function(){return i.hideNavbar(l.find(".navbar"))},o.showNavbar=function(){return i.showNavbar(l.find(".navbar"))},o.hideToolbar=function(){return i.hideToolbar(l.find(".toolbar"))},o.showToolbar=function(){return i.showToolbar(l.find(".toolbar"))},i.params.pushState&&o.main){var R;f?R=d.split(i.params.pushStateRoot+h)[1]:d.indexOf(h)>=0&&d.indexOf(h+"#")<0&&(R=d.split(h)[1]);var N=i.params.pushStateNoAnimation?!1:void 0;if(R)i.router.load(o,{url:R,animatePages:N,pushState:!1});else if(d.indexOf(h+"#")>=0){var z=history.state;z.pageName&&"viewIndex"in z&&i.router.load(o,{pageName:z.pageName,pushState:!1})}}return o.destroy=function(){o.detachEvents(),o=void 0},i.pluginHook("addView",o),o};i.addView=function(e,t){return new c(e,t)},i.getCurrentView=function(e){var t=s(".popover.modal-in .view"),a=s(".popup.modal-in .view"),n=s(".panel.active .view"),r=s(".views"),i=r.children(".view");if(i.length>1&&i.hasClass("tab")&&(i=r.children(".view.active")),t.length>0&&t[0].f7View)return t[0].f7View;if(a.length>0&&a[0].f7View)return a[0].f7View;if(n.length>0&&n[0].f7View)return n[0].f7View;if(i.length>0){if(1===i.length&&i[0].f7View)return i[0].f7View;if(i.length>1){for(var o=[],l=0;l<i.length;l++)i[l].f7View&&o.push(i[l].f7View);return o.length>0&&"undefined"!=typeof e?o[e]:o.length>1?o:1===o.length?o[0]:void 0}}return void 0},i.navbarInitCallback=function(e,t,a,n){if(!a&&n&&(a=s(n).parent(".navbar")[0]),!n.f7NavbarInitialized||!e||e.params.domCache){var r={container:a,innerContainer:n},o=t&&t.f7PageData,l={page:o,navbar:r};if(n.f7NavbarInitialized&&(e&&e.params.domCache||!e&&s(a).parents(".popup, .popover, .login-screen, .modal, .actions-modal, .picker-modal").length>0))return i.reinitNavbar(a,n),i.pluginHook("navbarReinit",l),void s(n).trigger("navbarReinit",l);n.f7NavbarInitialized=!0,i.pluginHook("navbarBeforeInit",r,o),s(n).trigger("navbarBeforeInit",l),i.initNavbar(a,n),i.pluginHook("navbarInit",r,o),s(n).trigger("navbarInit",l)}},i.navbarRemoveCallback=function(e,t,a,n){!a&&n&&(a=s(n).parent(".navbar")[0]);var r={container:a,innerContainer:n},o=t.f7PageData,l={page:o,navbar:r};i.pluginHook("navbarBeforeRemove",r,o),s(n).trigger("navbarBeforeRemove",l)},i.initNavbar=function(e,t){i.initSearchbar&&i.initSearchbar(t)},i.reinitNavbar=function(e,t){},i.initNavbarWithCallback=function(e){e=s(e);var t,a=e.parents("."+i.params.viewClass);0!==a.length&&(0!==e.parents(".navbar-through").length||0!==a.find(".navbar-through").length)&&(t=a[0].f7View||void 0,e.find(".navbar-inner").each(function(){var n,r=this;if(s(r).attr("data-page")&&(n=a.find('.page[data-page="'+s(r).attr("data-page")+'"]')[0]),!n){var o=a.find(".page");1===o.length?n=o[0]:a.find(".page").each(function(){this.f7PageData&&this.f7PageData.navbarInnerContainer===r&&(n=this)})}i.navbarInitCallback(t,n,e[0],r)}))},i.sizeNavbars=function(e){if(!i.params.material){var t=e?s(e).find(".navbar .navbar-inner:not(.cached)"):s(".navbar .navbar-inner:not(.cached)");t.each(function(){var e=s(this);if(!e.hasClass("cached")){var t,a,n=i.rtl?e.find(".right"):e.find(".left"),r=i.rtl?e.find(".left"):e.find(".right"),o=e.find(".center"),l=e.find(".subnavbar"),c=0===n.length,p=0===r.length,d=c?0:n.outerWidth(!0),u=p?0:r.outerWidth(!0),h=o.outerWidth(!0),f=e.styles(),m=e[0].offsetWidth-parseInt(f.paddingLeft,10)-parseInt(f.paddingRight,10),g=e.hasClass("navbar-on-left");p&&(t=m-h),c&&(t=0),c||p||(t=(m-u-h+d)/2);var v=(m-h)/2;m-d-u>h?(d>v&&(v=d),v+h>m-u&&(v=m-u-h),a=v-t):a=0;var b=i.rtl?-1:1;o.hasClass("sliding")&&(o[0].f7NavbarLeftOffset=-(t+a)*b,o[0].f7NavbarRightOffset=(m-t-a-h)*b,g&&o.transform("translate3d("+o[0].f7NavbarLeftOffset+"px, 0, 0)")),!c&&n.hasClass("sliding")&&(i.rtl?(n[0].f7NavbarLeftOffset=-(m-n[0].offsetWidth)/2*b,n[0].f7NavbarRightOffset=d*b):(n[0].f7NavbarLeftOffset=-d,n[0].f7NavbarRightOffset=(m-n[0].offsetWidth)/2),g&&n.transform("translate3d("+n[0].f7NavbarLeftOffset+"px, 0, 0)")),!p&&r.hasClass("sliding")&&(i.rtl?(r[0].f7NavbarLeftOffset=-u*b,r[0].f7NavbarRightOffset=(m-r[0].offsetWidth)/2*b):(r[0].f7NavbarLeftOffset=-(m-r[0].offsetWidth)/2,r[0].f7NavbarRightOffset=u),g&&r.transform("translate3d("+r[0].f7NavbarLeftOffset+"px, 0, 0)")),l.length&&l.hasClass("sliding")&&(l[0].f7NavbarLeftOffset=i.rtl?l[0].offsetWidth:-l[0].offsetWidth,l[0].f7NavbarRightOffset=-l[0].f7NavbarLeftOffset);var w=a;i.rtl&&c&&p&&o.length>0&&(w=-w),o.css({left:w+"px"})}})}},i.hideNavbar=function(e){return s(e).addClass("navbar-hidden"),!0},i.showNavbar=function(e){var t=s(e);return t.addClass("navbar-hiding").removeClass("navbar-hidden").transitionEnd(function(){t.removeClass("navbar-hiding")}),!0},i.hideToolbar=function(e){return s(e).addClass("toolbar-hidden"),!0},i.showToolbar=function(e){var t=s(e);t.addClass("toolbar-hiding").removeClass("toolbar-hidden").transitionEnd(function(){t.removeClass("toolbar-hiding")})};var p=function(e,t){function a(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return d[e]||e})}function n(e){e.preventDefault()}var r={input:null,clearButton:null,cancelButton:null,searchList:null,searchIn:".item-title",searchBy:"",found:null,notFound:null,overlay:null,ignore:".searchbar-ignore",customSearch:!1,removeDiacritics:!1,hideDividers:!0,hideGroups:!0};t=t||{};for(var o in r)("undefined"==typeof t[o]||null===t[o])&&(t[o]=r[o]);var l=this;l.material=i.params.material,l.params=t,e=s(e),l.container=e,l.active=!1,l.input=l.params.input?s(l.params.input):l.container.find('input[type="search"]'),l.clearButton=l.params.clearButton?s(l.params.clearButton):l.container.find(".searchbar-clear"),l.cancelButton=l.params.cancelButton?s(l.params.cancelButton):l.container.find(".searchbar-cancel"),l.searchList=s(l.params.searchList),l.isVirtualList=l.searchList.hasClass("virtual-list"),l.pageContainer=l.container.parents(".page").eq(0),l.params.overlay?l.overlay=s(l.params.overlay):l.overlay=l.pageContainer.length>0?l.pageContainer.find(".searchbar-overlay"):s(".searchbar-overlay"),l.params.found?l.found=s(l.params.found):l.found=l.pageContainer.length>0?l.pageContainer.find(".searchbar-found"):s(".searchbar-found"),l.params.notFound?l.notFound=s(l.params.notFound):l.notFound=l.pageContainer.length>0?l.pageContainer.find(".searchbar-not-found"):s(".searchbar-not-found");var c=i.rtl?"margin-left":"margin-right";l.cancelButton.length>0&&!l.material&&(l.cancelButton.transition(0).show(),l.cancelButton.css(c,-l.cancelButton[0].offsetWidth+"px"),setTimeout(function(){l.cancelButton.transition("")},0));for(var p=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",
letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],d={},u=0;u<p.length;u++)for(var h=p[u].letters,f=0;f<h.length;f++)d[h[f]]=p[u].base;l.triggerEvent=function(e,t,a){l.container.trigger(e,a),l.searchList.length>0&&l.searchList.trigger(e,a),t&&l.params[t]&&l.params[t](l,a)},l.enable=function(){function e(){!l.searchList.length&&!l.params.customSearch||l.container.hasClass("searchbar-active")||l.overlay.addClass("searchbar-overlay-active"),l.container.addClass("searchbar-active"),l.cancelButton.length>0&&!l.material&&l.cancelButton.css(c,"0px"),l.triggerEvent("enableSearch","onEnable"),l.active=!0}i.device.ios?setTimeout(function(){e()},400):e()},l.disable=function(){function e(){l.input.blur(),l.triggerEvent("disableSearch","onDisable"),l.active=!1}l.input.val("").trigger("change"),l.container.removeClass("searchbar-active searchbar-not-empty"),l.cancelButton.length>0&&!l.material&&l.cancelButton.css(c,-l.cancelButton[0].offsetWidth+"px"),(l.searchList.length||l.params.customSearch)&&l.overlay.removeClass("searchbar-overlay-active"),i.device.ios?setTimeout(function(){e()},400):e()},l.clear=function(e){return!l.query&&e&&s(e.target).hasClass("searchbar-clear")?void l.disable():(l.input.val("").trigger("change").focus(),void l.triggerEvent("clearSearch","onClear"))},l.handleInput=function(){setTimeout(function(){var e=l.input.val().trim();(l.searchList.length>0||l.params.customSearch)&&(l.params.searchIn||l.isVirtualList)&&l.search(e,!0)},0)};var m,g="";return l.search=function(e,t){if(e.trim()!==g){if(g=e.trim(),t||(l.active||l.enable(),t||l.input.val(e)),l.query=l.value=e,0===e.length?(l.container.removeClass("searchbar-not-empty"),l.searchList.length&&l.container.hasClass("searchbar-active")&&l.overlay.addClass("searchbar-overlay-active")):(l.container.addClass("searchbar-not-empty"),l.searchList.length&&l.container.hasClass("searchbar-active")&&l.overlay.removeClass("searchbar-overlay-active")),l.params.customSearch)return void l.triggerEvent("search","onSearch",{query:e});var n=[];if(l.isVirtualList){if(m=l.searchList[0].f7VirtualList,""===e.trim())return m.resetFilter(),l.notFound.hide(),void l.found.show();if(m.params.searchAll)n=m.params.searchAll(e,m.items)||[];else if(m.params.searchByItem)for(var r=0;r<m.items.length;r++)m.params.searchByItem(e,r,m.params.items[r])&&n.push(r)}else{var i;i=l.params.removeDiacritics?a(e.trim().toLowerCase()).split(" "):e.trim().toLowerCase().split(" "),l.searchList.find("li").removeClass("hidden-by-searchbar").each(function(e,t){t=s(t);var r=[];t.find(l.params.searchIn).each(function(){var e=s(this).text().trim().toLowerCase();l.params.removeDiacritics&&(e=a(e)),r.push(e)}),r=r.join(" ");for(var o=0,c=0;c<i.length;c++)r.indexOf(i[c])>=0&&o++;o===i.length||l.params.ignore&&t.is(l.params.ignore)?n.push(t[0]):t.addClass("hidden-by-searchbar")}),l.params.hideDividers&&l.searchList.find(".item-divider, .list-group-title").each(function(){for(var e=s(this),t=e.nextAll("li"),a=!0,n=0;n<t.length;n++){var r=s(t[n]);if(r.hasClass("list-group-title")||r.hasClass("item-divider"))break;r.hasClass("hidden-by-searchbar")||(a=!1)}var i=l.params.ignore&&e.is(l.params.ignore);a&&!i?e.addClass("hidden-by-searchbar"):e.removeClass("hidden-by-searchbar")}),l.params.hideGroups&&l.searchList.find(".list-group").each(function(){var e=s(this),t=l.params.ignore&&e.is(l.params.ignore),a=e.find("li:not(.hidden-by-searchbar)");0!==a.length||t?e.removeClass("hidden-by-searchbar"):e.addClass("hidden-by-searchbar")})}l.triggerEvent("search","onSearch",{query:e,foundItems:n}),0===n.length?(l.notFound.show(),l.found.hide()):(l.notFound.hide(),l.found.show()),l.isVirtualList&&m.filterItems(n)}},l.attachEvents=function(e){var t=e?"off":"on";l.container[t]("submit",n),l.material||l.cancelButton[t]("click",l.disable),l.overlay[t]("click",l.disable),l.input[t]("focus",l.enable),l.input[t]("change keydown keypress keyup",l.handleInput),l.clearButton[t]("click",l.clear)},l.detachEvents=function(){l.attachEvents(!0)},l.init=function(){l.attachEvents()},l.destroy=function(){l&&(l.detachEvents(),l=null)},l.init(),l.container[0].f7Searchbar=l,l};i.searchbar=function(e,t){return new p(e,t)},i.initSearchbar=function(e){function t(){n&&n.destroy()}e=s(e);var a=e.hasClass("searchbar")?e:e.find(".searchbar");if(0!==a.length&&a.hasClass("searchbar-init")){var n=i.searchbar(a,a.dataset());e.hasClass("page")?e.once("pageBeforeRemove",t):e.hasClass("navbar-inner")&&e.once("navbarBeforeRemove",t)}};var d=function(e,t){function a(e){e.preventDefault()}var n={textarea:null,maxHeight:null};t=t||{};for(var r in n)("undefined"==typeof t[r]||null===t[r])&&(t[r]=n[r]);var i=this;return i.params=t,i.container=s(e),0!==i.container.length?(i.textarea=i.params.textarea?s(i.params.textarea):i.container.find("textarea"),i.pageContainer=i.container.parents(".page").eq(0),i.pageContent=i.pageContainer.find(".page-content"),i.pageContentPadding=parseInt(i.pageContent.css("padding-bottom")),i.initialBarHeight=i.container[0].offsetHeight,i.initialAreaHeight=i.textarea[0].offsetHeight,i.sizeTextarea=function(){i.textarea.css({height:""});var e=i.textarea[0].offsetHeight,t=e-i.textarea[0].clientHeight,a=i.textarea[0].scrollHeight;if(a+t>e){var n=a+t,r=i.initialBarHeight+(n-i.initialAreaHeight),o=i.params.maxHeight||i.container.parents(".view")[0].offsetHeight-88;r>o&&(r=parseInt(o,10),n=r-i.initialBarHeight+i.initialAreaHeight),i.textarea.css("height",n+"px"),i.container.css("height",r+"px");var s=i.pageContent[0].scrollTop===i.pageContent[0].scrollHeight-i.pageContent[0].offsetHeight;i.pageContent.length>0&&(i.pageContent.css("padding-bottom",r+"px"),0===i.pageContent.find(".messages-new-first").length&&s&&i.pageContent.scrollTop(i.pageContent[0].scrollHeight-i.pageContent[0].offsetHeight))}else i.pageContent.length>0&&(i.container.css({height:"",bottom:""}),i.pageContent.css({"padding-bottom":""}))},i.clear=function(){i.textarea.val("").trigger("change")},i.value=function(e){return"undefined"==typeof e?i.textarea.val():void i.textarea.val(e).trigger("change")},i.textareaTimeout=void 0,i.handleTextarea=function(e){clearTimeout(i.textareaTimeout),i.textareaTimeout=setTimeout(function(){i.sizeTextarea()},0)},i.attachEvents=function(e){var t=e?"off":"on";i.container[t]("submit",a),i.textarea[t]("change keydown keypress keyup paste cut",i.handleTextarea)},i.detachEvents=function(){i.attachEvents(!0)},i.init=function(){i.attachEvents()},i.destroy=function(){i.detachEvents(),i=null},i.init(),i.container[0].f7Messagebar=i,i):void 0};i.messagebar=function(e,t){return new d(e,t)},i.initPageMessagebar=function(e){function t(){n.destroy(),e.off("pageBeforeRemove",t)}e=s(e);var a=e.hasClass("messagebar")?e:e.find(".messagebar");if(0!==a.length&&a.hasClass("messagebar-init")){var n=i.messagebar(a,a.dataset());e.hasClass("page")&&e.on("pageBeforeRemove",t)}},i.cache=[],i.removeFromCache=function(e){for(var t=!1,a=0;a<i.cache.length;a++)i.cache[a].url===e&&(t=a);t!==!1&&i.cache.splice(t,1)},i.xhr=!1,i.get=function(e,t,a,n){var r=e;if(i.params.cacheIgnoreGetParameters&&e.indexOf("?")>=0&&(r=e.split("?")[0]),i.params.cache&&!a&&e.indexOf("nocache")<0&&i.params.cacheIgnore.indexOf(r)<0)for(var o=0;o<i.cache.length;o++)if(i.cache[o].url===r&&(new Date).getTime()-i.cache[o].time<i.params.cacheDuration)return n(i.cache[o].content),!1;return i.xhr=s.ajax({url:e,method:"GET",beforeSend:i.params.onAjaxStart,complete:function(e){e.status>=200&&e.status<300||0===e.status?(i.params.cache&&!a&&(i.removeFromCache(r),i.cache.push({url:r,time:(new Date).getTime(),content:e.responseText})),n(e.responseText,!1)):n(e.responseText,!0),i.params.onAjaxComplete&&i.params.onAjaxComplete(e)},error:function(e){n(e.responseText,!0),i.params.onAjaxError&&i.params.onAjaxError(e)}}),t&&(t.xhr=i.xhr),i.xhr},i.pageCallbacks={},i.onPage=function(e,t,a){if(t&&t.split(" ").length>1){for(var n=t.split(" "),r=[],o=0;o<n.length;o++)r.push(i.onPage(e,n[o],a));return r.remove=function(){for(var e=0;e<r.length;e++)r[e].remove()},r.trigger=function(){for(var e=0;e<r.length;e++)r[e].trigger()},r}var s=i.pageCallbacks[e][t];return s||(s=i.pageCallbacks[e][t]=[]),i.pageCallbacks[e][t].push(a),{remove:function(){for(var e,t=0;t<s.length;t++)s[t].toString()===a.toString()&&(e=t);"undefined"!=typeof e&&s.splice(e,1)},trigger:a}};for(var u="beforeInit init reinit beforeAnimation afterAnimation back afterBack beforeRemove".split(" "),h=0;h<u.length;h++)i.pageCallbacks[u[h]]={},a(u[h]);i.triggerPageCallbacks=function(e,t,a){var n=i.pageCallbacks[e]["*"];if(n)for(var r=0;r<n.length;r++)n[r](a);var o=i.pageCallbacks[e][t];if(o&&0!==o.length)for(var s=0;s<o.length;s++)o[s](a)},i.pageInitCallback=function(e,t){var a=t.pageContainer;if(!a.f7PageInitialized||!e||e.params.domCache){var n={container:a,url:t.url,query:t.query||s.parseUrlQuery(t.url||""),name:s(a).attr("data-page"),view:e,from:t.position,context:t.context,navbarInnerContainer:t.navbarInnerContainer,fromPage:t.fromPage};if(t.fromPage&&!t.fromPage.navbarInnerContainer&&t.oldNavbarInnerContainer&&(t.fromPage.navbarInnerContainer=t.oldNavbarInnerContainer),a.f7PageInitialized&&(e&&e.params.domCache||!e&&s(a).parents(".popup, .popover, .login-screen, .modal, .actions-modal, .picker-modal").length>0))return i.reinitPage(a),i.pluginHook("pageReinit",n),i.params.onPageReinit&&i.params.onPageBeforeInit(i,n),i.triggerPageCallbacks("reinit",n.name,n),void s(n.container).trigger("pageReinit",{page:n});a.f7PageInitialized=!0,a.f7PageData=n,!e||t.preloadOnly||t.reloadPrevious||(s(e.container).attr("data-page",n.name),e.activePage=n),i.pluginHook("pageBeforeInit",n),i.params.onPageBeforeInit&&i.params.onPageBeforeInit(i,n),i.triggerPageCallbacks("beforeInit",n.name,n),s(n.container).trigger("pageBeforeInit",{page:n}),i.initPage(a),i.pluginHook("pageInit",n),i.params.onPageInit&&i.params.onPageInit(i,n),i.triggerPageCallbacks("init",n.name,n),s(n.container).trigger("pageInit",{page:n})}},i.pageRemoveCallback=function(e,t,a){var n;t.f7PageData&&(n=t.f7PageData.context);var r={container:t,name:s(t).attr("data-page"),view:e,url:t.f7PageData&&t.f7PageData.url,query:t.f7PageData&&t.f7PageData.query,navbarInnerContainer:t.f7PageData&&t.f7PageData.navbarInnerContainer,from:a,context:n};i.pluginHook("pageBeforeRemove",r),i.params.onPageBeforeRemove&&i.params.onPageBeforeRemove(i,r),i.triggerPageCallbacks("beforeRemove",r.name,r),s(r.container).trigger("pageBeforeRemove",{page:r})},i.pageBackCallback=function(e,t,a){var n,r=a.pageContainer;r.f7PageData&&(n=r.f7PageData.context);var o={container:r,name:s(r).attr("data-page"),url:r.f7PageData&&r.f7PageData.url,query:r.f7PageData&&r.f7PageData.query,view:t,from:a.position,context:n,navbarInnerContainer:r.f7PageData&&r.f7PageData.navbarInnerContainer,swipeBack:a.swipeBack};"after"===e&&(i.pluginHook("pageAfterBack",o),i.params.onPageAfterBack&&i.params.onPageAfterBack(i,o),i.triggerPageCallbacks("afterBack",o.name,o),s(r).trigger("pageAfterBack",{page:o})),"before"===e&&(i.pluginHook("pageBack",o),i.params.onPageBack&&i.params.onPageBack(i,o),i.triggerPageCallbacks("back",o.name,o),s(o.container).trigger("pageBack",{page:o}))},i.pageAnimCallback=function(e,t,a){var n,r=a.pageContainer;r.f7PageData&&(n=r.f7PageData.context);var o={container:r,url:a.url,query:a.query||s.parseUrlQuery(a.url||""),name:s(r).attr("data-page"),view:t,from:a.position,context:n,swipeBack:a.swipeBack,navbarInnerContainer:r.f7PageData&&r.f7PageData.navbarInnerContainer,fromPage:a.fromPage},l=a.oldPage,c=a.newPage;if(r.f7PageData=o,"after"===e&&(i.pluginHook("pageAfterAnimation",o),i.params.onPageAfterAnimation&&i.params.onPageAfterAnimation(i,o),i.triggerPageCallbacks("afterAnimation",o.name,o),s(o.container).trigger("pageAfterAnimation",{page:o})),"before"===e){s(t.container).attr("data-page",o.name),t&&(t.activePage=o),c.hasClass("no-navbar")&&!l.hasClass("no-navbar")&&t.hideNavbar(),c.hasClass("no-navbar")||!l.hasClass("no-navbar")&&!l.hasClass("no-navbar-by-scroll")||t.showNavbar(),c.hasClass("no-toolbar")&&!l.hasClass("no-toolbar")&&t.hideToolbar(),c.hasClass("no-toolbar")||!l.hasClass("no-toolbar")&&!l.hasClass("no-toolbar-by-scroll")||t.showToolbar();var p;c.hasClass("no-tabbar")&&!l.hasClass("no-tabbar")&&(p=s(t.container).find(".tabbar"),0===p.length&&(p=s(t.container).parents("."+i.params.viewsClass).find(".tabbar")),i.hideToolbar(p)),c.hasClass("no-tabbar")||!l.hasClass("no-tabbar")&&!l.hasClass("no-tabbar-by-scroll")||(p=s(t.container).find(".tabbar"),0===p.length&&(p=s(t.container).parents("."+i.params.viewsClass).find(".tabbar")),i.showToolbar(p)),l.removeClass("no-navbar-by-scroll no-toolbar-by-scroll"),i.pluginHook("pageBeforeAnimation",o),i.params.onPageBeforeAnimation&&i.params.onPageBeforeAnimation(i,o),i.triggerPageCallbacks("beforeAnimation",o.name,o),s(o.container).trigger("pageBeforeAnimation",{page:o})}},i.initPage=function(e){e=s(e),0!==e.length&&(i.sizeNavbars&&i.sizeNavbars(e.parents("."+i.params.viewClass)[0]),i.initPageMessages&&i.initPageMessages(e),i.initFormsStorage&&i.initFormsStorage(e),i.initSmartSelects&&i.initSmartSelects(e),i.initPageSwiper&&i.initPageSwiper(e),i.initPullToRefresh&&i.initPullToRefresh(e),i.initInfiniteScroll&&i.initInfiniteScroll(e),i.initSearchbar&&i.initSearchbar(e),i.initPageMessagebar&&i.initPageMessagebar(e),i.initScrollToolbars&&i.initScrollToolbars(e),i.initImagesLazyLoad&&i.initImagesLazyLoad(e),i.initPageResizableTextareas&&i.initPageResizableTextareas(e),i.params.material&&i.initPageMaterialPreloader&&i.initPageMaterialPreloader(e),i.params.material&&i.initPageMaterialInputs&&i.initPageMaterialInputs(e),i.params.material&&i.initPageMaterialTabbar&&i.initPageMaterialTabbar(e))},i.reinitPage=function(e){e=s(e),0!==e.length&&(i.sizeNavbars&&i.sizeNavbars(e.parents("."+i.params.viewClass)[0]),i.reinitPageSwiper&&i.reinitPageSwiper(e),i.reinitLazyLoad&&i.reinitLazyLoad(e))},i.initPageWithCallback=function(e){e=s(e);var t=e.parents("."+i.params.viewClass);if(0!==t.length){var a=t[0].f7View||void 0,n=a&&a.url?a.url:void 0;t&&e.attr("data-page")&&t.attr("data-page",e.attr("data-page")),i.pageInitCallback(a,{pageContainer:e[0],url:n,position:"center"})}},i.router={temporaryDom:document.createElement("div"),findElement:function(e,t,a,n){t=s(t),n&&(e+=":not(.cached)");var r=t.find(e);return r.length>1&&("string"==typeof a.selector&&(r=t.find(a.selector+" "+e)),r.length>1&&(r=t.find("."+i.params.viewMainClass+" "+e))),1===r.length?r:(n||(r=i.router.findElement(e,t,a,!0)),r&&1===r.length?r:void 0)},animatePages:function(e,t,a,n){var r="page-on-center page-on-right page-on-left";"to-left"===a&&(e.removeClass(r).addClass("page-from-center-to-left"),t.removeClass(r).addClass("page-from-right-to-center")),"to-right"===a&&(e.removeClass(r).addClass("page-from-left-to-center"),t.removeClass(r).addClass("page-from-center-to-right"))},prepareNavbar:function(e,t,a){s(e).find(".sliding").each(function(){var e=s(this),n="right"===a?this.f7NavbarRightOffset:this.f7NavbarLeftOffset;i.params.animateNavBackIcon&&(e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-n+"px,0,0)"),"left"===a&&e.hasClass("center")&&s(t).find(".left .back .icon ~ span").length>0&&(n+=s(t).find(".left .back span")[0].offsetLeft)),e.transform("translate3d("+n+"px,0,0)")})},animateNavbars:function(e,t,a,n){var r="navbar-on-right navbar-on-center navbar-on-left";"to-left"===a&&(t.removeClass(r).addClass("navbar-from-right-to-center"),t.find(".sliding").each(function(){var e=s(this);e.transform("translate3d(0px,0,0)"),i.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d(0px,0,0)")}),e.removeClass(r).addClass("navbar-from-center-to-left"),e.find(".sliding").each(function(){var e,a=s(this);i.params.animateNavBackIcon&&(a.hasClass("center")&&t.find(".sliding.left .back .icon").length>0&&(e=t.find(".sliding.left .back span"),e.length>0&&(this.f7NavbarLeftOffset+=e[0].offsetLeft)),a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarLeftOffset+"px,0,0)")),a.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")})),"to-right"===a&&(e.removeClass(r).addClass("navbar-from-left-to-center"),e.find(".sliding").each(function(){var e=s(this);e.transform("translate3d(0px,0,0)"),i.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d(0px,0,0)")}),t.removeClass(r).addClass("navbar-from-center-to-right"),t.find(".sliding").each(function(){var e=s(this);i.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-this.f7NavbarRightOffset+"px,0,0)"),e.transform("translate3d("+this.f7NavbarRightOffset+"px,0,0)")}))},preprocess:function(e,t,a,n){i.pluginHook("routerPreprocess",e,t,a,n),t=i.pluginProcess("preprocess",t),e&&e.params&&e.params.preprocess?(t=e.params.preprocess(t,a,n),"undefined"!=typeof t&&n(t)):i.params.preprocess?(t=i.params.preprocess(t,a,n),"undefined"!=typeof t&&n(t)):n(t)},preroute:function(e,t){return i.pluginHook("routerPreroute",e,t),i.params.preroute&&i.params.preroute(e,t)===!1||e&&e.params.preroute&&e.params.preroute(e,t)===!1?!0:!1},template7Render:function(e,t){var a,n,r=t.url,o=t.content,c=t.content,p=t.context,d=t.contextName,u=t.template;t.pageName;if("string"==typeof o?r?i.template7Cache[r]&&!t.ignoreCache?n=l.cache[r]:(n=l.compile(o),l.cache[r]=n):n=l.compile(o):u&&(n=u),p)a=p;else{if(d)if(d.indexOf(".")>=0){for(var h=d.split("."),f=l.data[h[0]],m=1;m<h.length;m++)h[m]&&(f=f[h[m]]);a=f}else a=l.data[d];if(!a&&r&&(a=l.data["url:"+r]),!a&&"string"==typeof o&&!u){var g=o.match(/(data-page=["'][^"^']*["'])/);if(g){var v=g[0].split("data-page=")[1].replace(/['"]/g,"");v&&(a=l.data["page:"+v])}}if(!a&&u&&l.templates)for(var b in l.templates)l.templates[b]===u&&(a=l.data[b]);a||(a={})}if(n&&a){if("function"==typeof a&&(a=a()),r){var w=s.parseUrlQuery(r);a.url_query={};for(var y in w)a.url_query[y]=w[y]}c=n(a)}return{content:c,context:a}}},i.router._load=function(e,t){function a(){e.allowPageChange=!0,n.removeClass("page-from-right-to-center page-on-right page-on-left").addClass("page-on-center"),r.removeClass("page-from-center-to-left page-on-center page-on-right").addClass("page-on-left"),u&&(p.removeClass("navbar-from-right-to-center navbar-on-left navbar-on-right").addClass("navbar-on-center"),c.removeClass("navbar-from-center-to-left navbar-on-center navbar-on-right").addClass("navbar-on-left")),i.pageAnimCallback("after",e,{pageContainer:n[0],url:f,position:"right",oldPage:r,newPage:n,query:t.query,fromPage:r&&r.length&&r[0].f7PageData}),i.params.pushState&&e.main&&i.pushStateClearQueue(),e.params.swipeBackPage||e.params.preloadPreviousPage||(e.params.domCache?(r.addClass("cached"),c.addClass("cached")):(0!==f.indexOf("#")||0!==n.attr("data-page").indexOf("smart-select-"))&&(i.pageRemoveCallback(e,r[0],"left"),u&&i.navbarRemoveCallback(e,r[0],d[0],c[0]),r.remove(),u&&c.remove())),e.params.uniqueHistory&&M&&e.refreshPreviousPage()}t=t||{};var n,r,o,l,c,p,d,u,h,f=t.url,m=t.content,g={content:t.content},v=t.template,b=t.pageName,w=s(e.container),y=s(e.pagesContainer),C=t.animatePages,x="undefined"==typeof f&&m||v,k=t.pushState;if("undefined"==typeof C&&(C=e.params.animatePages),i.pluginHook("routerLoad",e,t),(i.params.template7Pages&&"string"==typeof m||v)&&(g=i.router.template7Render(e,t),g.content&&!m&&(m=g.content)),i.router.temporaryDom.innerHTML="",!b)if(f||"string"==typeof m)i.router.temporaryDom.innerHTML=g.content;else if("length"in m&&m.length>1)for(var S=0;S<m.length;S++)s(i.router.temporaryDom).append(m[S]);else s(i.router.temporaryDom).append(m);if(h=t.reload&&(t.reloadPrevious?"left":"center"),n=b?y.find('.page[data-page="'+b+'"]'):i.router.findElement(".page",i.router.temporaryDom,e),!n||0===n.length||b&&e.activePage&&e.activePage.name===b)return void(e.allowPageChange=!0);if(n.addClass(t.reload?"page-on-"+h:"page-on-right"),o=y.children(".page:not(.cached)"),t.reload&&t.reloadPrevious&&1===o.length)return void(e.allowPageChange=!0);if(t.reload)r=o.eq(o.length-1);else{if(o.length>1){for(l=0;l<o.length-2;l++)e.params.domCache?s(o[l]).addClass("cached"):(i.pageRemoveCallback(e,o[l],"left"),s(o[l]).remove());e.params.domCache?s(o[l]).addClass("cached"):(i.pageRemoveCallback(e,o[l],"left"),s(o[l]).remove())}r=y.children(".page:not(.cached)")}if(e.params.domCache&&n.removeClass("cached"),e.params.dynamicNavbar)if(u=!0,p=b?w.find('.navbar-inner[data-page="'+b+'"]'):i.router.findElement(".navbar-inner",i.router.temporaryDom,e),p&&0!==p.length||(u=!1),d=w.find(".navbar"),t.reload)c=d.find(".navbar-inner:not(.cached):last-child");else if(c=d.find(".navbar-inner:not(.cached)"),c.length>0){for(l=0;l<c.length-1;l++)e.params.domCache?s(c[l]).addClass("cached"):(i.navbarRemoveCallback(e,o[l],d[0],c[l]),s(c[l]).remove());p||1!==c.length||(e.params.domCache?s(c[0]).addClass("cached"):(i.navbarRemoveCallback(e,o[0],d[0],c[0]),s(c[0]).remove())),c=d.find(".navbar-inner:not(.cached)")}if(u&&(p.addClass(t.reload?"navbar-on-"+h:"navbar-on-right"),e.params.domCache&&p.removeClass("cached"),n[0].f7RelatedNavbar=p[0],p[0].f7RelatedPage=n[0]),!f){var T=b||n.attr("data-page");f=x?"#"+i.params.dynamicPageUrl.replace(/{{name}}/g,T).replace(/{{index}}/g,e.history.length-(t.reload?1:0)):"#"+T,e.params.domCache||(e.contentCache[f]=m),e.params.domCache&&b&&(e.pagesCache[f]=b)}if(i.params.pushState&&!t.reloadPrevious&&e.main){"undefined"==typeof k&&(k=!0);var E=i.params.pushStateRoot||"",P=t.reload?"replaceState":"pushState";k&&(x||b?x&&m?history[P]({content:m,url:f,viewIndex:i.views.indexOf(e)},"",E+i.params.pushStateSeparator+f):b&&history[P]({pageName:b,url:f,viewIndex:i.views.indexOf(e)},"",E+i.params.pushStateSeparator+f):history[P]({url:f,viewIndex:i.views.indexOf(e)},"",E+i.params.pushStateSeparator+f))}if(e.url=f,t.reload){var _=e.history[e.history.length-(t.reloadPrevious?2:1)];_&&0===_.indexOf("#")&&_ in e.contentCache&&_!==f&&(e.contentCache[_]=null,delete e.contentCache[_]),e.history[e.history.length-(t.reloadPrevious?2:1)]=f}else e.history.push(f);var M=!1;if(e.params.uniqueHistory){var I=e.history,L=f;if(e.params.uniqueHistoryIgnoreGetParameters)for(I=[],L=f.split("?")[0],l=0;l<e.history.length;l++)I.push(e.history[l].split("?")[0]);I.indexOf(L)!==I.lastIndexOf(L)&&(e.history=e.history.slice(0,I.indexOf(L)),e.history.push(f),M=!0)}if(t.reloadPrevious?(r=r.prev(".page"),n.insertBefore(r),u&&(c=c.prev(".navbar-inner"),p.insertAfter(c))):(y.append(n[0]),u&&d.append(p[0])),t.reload&&(e.params.domCache&&e.initialPages.indexOf(r[0])>=0?(r.addClass("cached"),u&&c.addClass("cached")):(i.pageRemoveCallback(e,r[0],h),u&&i.navbarRemoveCallback(e,r[0],d[0],c[0]),r.remove(),u&&c.remove())),i.pageInitCallback(e,{pageContainer:n[0],url:f,position:t.reload?h:"right",navbarInnerContainer:u?p&&p[0]:void 0,oldNavbarInnerContainer:u?c&&c[0]:void 0,context:g.context,query:t.query,fromPage:r&&r.length&&r[0].f7PageData,reload:t.reload,reloadPrevious:t.reloadPrevious}),u&&i.navbarInitCallback(e,n[0],d[0],p[0],f,t.reload?h:"right"),t.reload)return e.allowPageChange=!0,void(M&&e.refreshPreviousPage());u&&C&&i.router.prepareNavbar(p,c,"right");n[0].clientLeft;i.pageAnimCallback("before",e,{pageContainer:n[0],url:f,position:"right",oldPage:r,newPage:n,query:t.query,fromPage:r&&r.length&&r[0].f7PageData}),C?(i.params.material&&i.params.materialPageLoadDelay?setTimeout(function(){i.router.animatePages(r,n,"to-left",e)},i.params.materialPageLoadDelay):i.router.animatePages(r,n,"to-left",e),u&&setTimeout(function(){i.router.animateNavbars(c,p,"to-left",e)},0),n.animationEnd(function(e){a()})):(u&&p.find(".sliding, .sliding .back .icon").transform(""),a())},i.router.load=function(e,t){function a(a){i.router.preprocess(e,a,n,function(a){t.content=a,i.router._load(e,t)})}if(i.router.preroute(e,t))return!1;t=t||{};var n=t.url,r=t.content,o=t.pageName;o&&o.indexOf("?")>0&&(t.query=s.parseUrlQuery(o),t.pageName=o=o.split("?")[0]);var l=t.template;return e.params.reloadPages===!0&&(t.reload=!0),e.allowPageChange&&(!n||e.url!==n||t.reload||e.params.allowDuplicateUrls)?(e.allowPageChange=!1,i.xhr&&e.xhr&&e.xhr===i.xhr&&(i.xhr.abort(),i.xhr=!1),r||o?void a(r):l?void i.router._load(e,t):t.url&&"#"!==t.url?void i.get(t.url,e,t.ignoreCache,function(t,n){return n?void(e.allowPageChange=!0):void a(t)}):void(e.allowPageChange=!0)):!1},i.router._back=function(e,t){function a(){i.pageBackCallback("after",e,{pageContainer:l[0],url:m,position:"center",oldPage:l,newPage:c}),i.pageAnimCallback("after",e,{pageContainer:c[0],url:m,position:"left",oldPage:l,newPage:c,query:t.query,fromPage:l&&l.length&&l[0].f7PageData}),i.router.afterBack(e,l[0],c[0])}function n(){i.pageBackCallback("before",e,{pageContainer:l[0],url:m,position:"center",oldPage:l,newPage:c}),i.pageAnimCallback("before",e,{pageContainer:c[0],url:m,position:"left",oldPage:l,newPage:c,query:t.query,fromPage:l&&l.length&&l[0].f7PageData}),w?(i.router.animatePages(c,l,"to-right",e),f&&setTimeout(function(){i.router.animateNavbars(d,p,"to-right",e)},0),c.animationEnd(function(){a()})):(f&&d.find(".sliding, .sliding .back .icon").transform(""),a())}function r(){if(i.router.temporaryDom.innerHTML="",m||"string"==typeof g)i.router.temporaryDom.innerHTML=v.content;else if("length"in g&&g.length>1)for(var t=0;t<g.length;t++)s(i.router.temporaryDom).append(g[t]);else s(i.router.temporaryDom).append(g);c=i.router.findElement(".page",i.router.temporaryDom,e),e.params.dynamicNavbar&&(d=i.router.findElement(".navbar-inner",i.router.temporaryDom,e))}function o(){if(!c||0===c.length)return void(e.allowPageChange=!0);if(e.params.dynamicNavbar&&"undefined"==typeof f&&(f=d&&0!==d.length?!0:!1),c.addClass("page-on-left").removeClass("cached"),f&&(u=S.find(".navbar"),h=S.find(".navbar-inner:not(.cached)"),d.addClass("navbar-on-left").removeClass("cached")),x){var a,r;if(a=s(E[E.length-2]),f&&(r=s(a[0]&&a[0].f7RelatedNavbar||h[h.length-2])),e.params.domCache&&e.initialPages.indexOf(a[0])>=0)a.length&&a[0]!==c[0]&&a.addClass("cached"),f&&r.length&&r[0]!==d[0]&&r.addClass("cached");else{var o=f&&r.length;a.length?(i.pageRemoveCallback(e,a[0],"right"),o&&i.navbarRemoveCallback(e,a[0],u[0],r[0]),a.remove(),o&&r.remove()):o&&(i.navbarRemoveCallback(e,a[0],u[0],r[0]),r.remove())}E=T.children(".page:not(.cached)"),f&&(h=S.find(".navbar-inner:not(.cached)")),e.history.indexOf(m)>=0?e.history=e.history.slice(0,e.history.indexOf(m)+2):e.history[[e.history.length-2]]?e.history[e.history.length-2]=m:e.history.unshift(m)}if(l=s(E[E.length-1]),e.params.domCache&&l[0]===c[0]&&(l=T.children(".page.page-on-center"),0===l.length&&e.activePage&&(l=s(e.activePage.container))),f&&!p&&(p=s(h[h.length-1]),e.params.domCache&&(p[0]===d[0]&&(p=u.children(".navbar-inner.navbar-on-center:not(.cached)")),0===p.length&&(p=u.children('.navbar-inner[data-page="'+l.attr("data-page")+'"]'))),(0===p.length||d[0]===p[0])&&(f=!1)),f&&(P&&d.insertBefore(p),d[0].f7RelatedPage=c[0],c[0].f7RelatedNavbar=d[0]),P&&c.insertBefore(l),i.pageInitCallback(e,{pageContainer:c[0],url:m,position:"left",navbarInnerContainer:f?d[0]:void 0,oldNavbarInnerContainer:f?p&&p[0]:void 0,context:v.context,query:t.query,fromPage:l&&l.length&&l[0].f7PageData,preloadOnly:y}),f&&i.navbarInitCallback(e,c[0],u[0],d[0],m,"right"),f&&d.hasClass("navbar-on-left")&&w&&i.router.prepareNavbar(d,p,"left"),y)return void(e.allowPageChange=!0);e.url=m;c[0].clientLeft;n(),i.params.pushState&&e.main&&("undefined"==typeof C&&(C=!0),!y&&history.state&&C&&history.back())}t=t||{};var l,c,p,d,u,h,f,m=t.url,g=t.content,v={content:t.content},b=t.template,w=t.animatePages,y=t.preloadOnly,C=t.pushState,x=(t.ignoreCache,t.force),k=t.pageName,S=s(e.container),T=s(e.pagesContainer),E=T.children(".page:not(.cached)"),P=!0;return"undefined"==typeof w&&(w=e.params.animatePages),i.pluginHook("routerBack",e,t),(i.params.template7Pages&&"string"==typeof g||b)&&(v=i.router.template7Render(e,t),v.content&&!g&&(g=v.content)),E.length>1&&!x?y?void(e.allowPageChange=!0):(e.url=e.history[e.history.length-2],m=e.url,c=s(E[E.length-2]),l=s(E[E.length-1]),e.params.dynamicNavbar&&(f=!0,h=S.find(".navbar-inner:not(.cached)"),d=s(h[0]),p=s(h[1]),(0===d.length||0===p.length||p[0]===d[0])&&(f=!1)),P=!1,void o()):x?m&&m===e.url||k&&e.activePage&&e.activePage.name===k?void(e.allowPageChange=!0):g?(r(),void o()):k&&e.params.domCache?(k&&(m="#"+k),c=s(S).find('.page[data-page="'+k+'"]'),c[0].f7PageData&&c[0].f7PageData.url&&(m=c[0].f7PageData.url),e.params.dynamicNavbar&&(d=s(S).find('.navbar-inner[data-page="'+k+'"]'),0===d.length&&(d=s(c[0].f7RelatedNavbar))),void o()):void(e.allowPageChange=!0):(y||(e.url=e.history[e.history.length-2],m=e.url),g?(r(),void o()):k?(c=s(S).find('.page[data-page="'+k+'"]'),e.params.dynamicNavbar&&(d=s(S).find('.navbar-inner[data-page="'+k+'"]')),void o()):void(e.allowPageChange=!0))},i.router.back=function(e,t){function a(a){i.router.preprocess(e,a,n,function(a){t.content=a,i.router._back(e,t)})}if(i.router.preroute(e,t))return!1;t=t||{};var n=t.url,r=t.content,o=t.pageName;o&&o.indexOf("?")>0&&(t.query=s.parseUrlQuery(o),t.pageName=o=o.split("?")[0]);var l=t.force;if(!e.allowPageChange)return!1;e.allowPageChange=!1,i.xhr&&e.xhr&&e.xhr===i.xhr&&(i.xhr.abort(),i.xhr=!1);var c=s(e.pagesContainer).find(".page:not(.cached)");if(c.length>1&&!l)return void i.router._back(e,t);if(l){if(!n&&r)return void a(r);if(!n&&o)return o&&(n="#"+o),void a();if(n)return void i.get(t.url,e,t.ignoreCache,function(t,n){return n?void(e.allowPageChange=!0):void a(t)})}else{if(n=t.url=e.history[e.history.length-2],!n)return void(e.allowPageChange=!0);if(0===n.indexOf("#")&&e.contentCache[n])return void a(e.contentCache[n]);if(0===n.indexOf("#")&&e.params.domCache)return o||(t.pageName=n.split("#")[1]),void a();if(0!==n.indexOf("#"))return void i.get(t.url,e,t.ignoreCache,function(t,n){return n?void(e.allowPageChange=!0):void a(t)})}e.allowPageChange=!0},i.router.afterBack=function(e,t,a){t=s(t),a=s(a),e.params.domCache&&e.initialPages.indexOf(t[0])>=0?t.removeClass("page-from-center-to-right").addClass("cached"):(i.pageRemoveCallback(e,t[0],"right"),t.remove()),a.removeClass("page-from-left-to-center page-on-left").addClass("page-on-center"),e.allowPageChange=!0;var n,r=e.history.pop();if(e.params.dynamicNavbar){var o=s(e.container).find(".navbar-inner:not(.cached)"),l=s(t[0].f7RelatedNavbar||o[1]);e.params.domCache&&e.initialNavbars.indexOf(l[0])>=0?l.removeClass("navbar-from-center-to-right").addClass("cached"):(i.navbarRemoveCallback(e,t[0],void 0,l[0]),l.remove()),n=s(o[0]).removeClass("navbar-on-left navbar-from-left-to-center").addClass("navbar-on-center")}if(e.params.domCache&&s(e.container).find(".page.cached").each(function(){var t=s(this),a=(t.index(),t[0].f7PageData&&t[0].f7PageData.url);a&&e.history.indexOf(a)<0&&e.initialPages.indexOf(this)<0&&(i.pageRemoveCallback(e,t[0],"right"),
t[0].f7RelatedNavbar&&e.params.dynamicNavbar&&i.navbarRemoveCallback(e,t[0],void 0,t[0].f7RelatedNavbar),t.remove(),t[0].f7RelatedNavbar&&e.params.dynamicNavbar&&s(t[0].f7RelatedNavbar).remove())}),!e.params.domCache&&r&&r.indexOf("#")>-1&&r in e.contentCache&&(e.contentCache[r]=null,delete e.contentCache[r]),i.params.pushState&&e.main&&i.pushStateClearQueue(),e.params.preloadPreviousPage)if(e.params.domCache&&e.history.length>1){var c,p,d=e.history[e.history.length-2];d&&e.pagesCache[d]?(c=s(e.container).find('.page[data-page="'+e.pagesCache[d]+'"]'),c.next(".page")[0]!==a[0]&&c.insertBefore(a),n&&(p=s(e.container).find('.navbar-inner[data-page="'+e.pagesCache[d]+'"]'),p&&0!==p.length||(p=n.prev(".navbar-inner.cached")),p.next(".navbar-inner")[0]!==n[0]&&p.insertBefore(n))):(c=a.prev(".page.cached"),n&&(p=n.prev(".navbar-inner.cached"))),c&&c.length>0&&c.removeClass("cached page-on-right page-on-center").addClass("page-on-left"),p&&p.length>0&&p.removeClass("cached navbar-on-right navbar-on-center").addClass("navbar-on-left")}else i.router.back(e,{preloadOnly:!0})};var f=document.createElement("div");i.modalStack=[],i.modalStackClearQueue=function(){i.modalStack.length&&i.modalStack.shift()()},i.modal=function(e){e=e||{};var t="";if(i.params.modalTemplate)i._compiledTemplates.modal||(i._compiledTemplates.modal=l.compile(i.params.modalTemplate)),t=i._compiledTemplates.modal(e);else{var a="";if(e.buttons&&e.buttons.length>0)for(var n=0;n<e.buttons.length;n++)a+='<span class="modal-button'+(e.buttons[n].bold?" modal-button-bold":"")+'">'+e.buttons[n].text+"</span>";var r=e.title?'<div class="modal-title">'+e.title+"</div>":"",o=e.text?'<div class="modal-text">'+e.text+"</div>":"",c=e.afterText?e.afterText:"",p=e.buttons&&0!==e.buttons.length?"":"modal-no-buttons",d=e.verticalButtons?"modal-buttons-vertical":"";t='<div class="modal '+p+" "+(e.cssClass||"")+'"><div class="modal-inner">'+(r+o+c)+'</div><div class="modal-buttons modal-buttons-'+e.buttons.length+" "+d+'">'+a+"</div></div>"}f.innerHTML=t;var u=s(f).children();return s("body").append(u[0]),u.find(".modal-button").each(function(t,a){s(a).on("click",function(a){e.buttons[t].close!==!1&&i.closeModal(u),e.buttons[t].onClick&&e.buttons[t].onClick(u,a),e.onClick&&e.onClick(u,t)})}),i.openModal(u),u[0]},i.alert=function(e,t,a){return"function"==typeof t&&(a=arguments[1],t=void 0),i.modal({text:e||"",title:"undefined"==typeof t?i.params.modalTitle:t,buttons:[{text:i.params.modalButtonOk,bold:!0,onClick:a}]})},i.confirm=function(e,t,a,n){return"function"==typeof t&&(n=arguments[2],a=arguments[1],t=void 0),i.modal({text:e||"",title:"undefined"==typeof t?i.params.modalTitle:t,buttons:[{text:i.params.modalButtonCancel,onClick:n},{text:i.params.modalButtonOk,bold:!0,onClick:a}]})},i.prompt=function(e,t,a,n){return"function"==typeof t&&(n=arguments[2],a=arguments[1],t=void 0),i.modal({text:e||"",title:"undefined"==typeof t?i.params.modalTitle:t,afterText:'<div class="input-field"><input type="text" class="modal-text-input"></div>',buttons:[{text:i.params.modalButtonCancel},{text:i.params.modalButtonOk,bold:!0}],onClick:function(e,t){0===t&&n&&n(s(e).find(".modal-text-input").val()),1===t&&a&&a(s(e).find(".modal-text-input").val())}})},i.modalLogin=function(e,t,a,n){return"function"==typeof t&&(n=arguments[2],a=arguments[1],t=void 0),i.modal({text:e||"",title:"undefined"==typeof t?i.params.modalTitle:t,afterText:'<div class="input-field modal-input-double"><input type="text" name="modal-username" placeholder="'+i.params.modalUsernamePlaceholder+'" class="modal-text-input"></div><div class="input-field modal-input-double"><input type="password" name="modal-password" placeholder="'+i.params.modalPasswordPlaceholder+'" class="modal-text-input"></div>',buttons:[{text:i.params.modalButtonCancel},{text:i.params.modalButtonOk,bold:!0}],onClick:function(e,t){var r=s(e).find('.modal-text-input[name="modal-username"]').val(),i=s(e).find('.modal-text-input[name="modal-password"]').val();0===t&&n&&n(r,i),1===t&&a&&a(r,i)}})},i.modalPassword=function(e,t,a,n){return"function"==typeof t&&(n=arguments[2],a=arguments[1],t=void 0),i.modal({text:e||"",title:"undefined"==typeof t?i.params.modalTitle:t,afterText:'<div class="input-field"><input type="password" name="modal-password" placeholder="'+i.params.modalPasswordPlaceholder+'" class="modal-text-input"></div>',buttons:[{text:i.params.modalButtonCancel},{text:i.params.modalButtonOk,bold:!0}],onClick:function(e,t){var r=s(e).find('.modal-text-input[name="modal-password"]').val();0===t&&n&&n(r),1===t&&a&&a(r)}})},i.showPreloader=function(e){return i.modal({title:e||i.params.modalPreloaderTitle,text:'<div class="preloader">'+(i.params.material?i.params.materialPreloaderSvg:"")+"</div>",cssClass:"modal-preloader"})},i.hidePreloader=function(){i.closeModal(".modal.modal-in")},i.showIndicator=function(){s("body").append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white">'+(i.params.material?i.params.materialPreloaderSvg:"")+"</span></div>")},i.hideIndicator=function(){s(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},i.actions=function(e,t){var a,n,r,o=!1;1===arguments.length?t=e:i.device.ios?i.device.ipad&&(o=!0):s(window).width()>=768&&(o=!0),t=t||[],t.length>0&&!s.isArray(t[0])&&(t=[t]);var c;if(o){var p=i.params.modalActionsToPopoverTemplate||'<div class="popover actions-popover"><div class="popover-inner">{{#each this}}<div class="list-block"><ul>{{#each this}}{{#if label}}<li class="actions-popover-label {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</li>{{else}}<li><a href="#" class="item-link list-button {{#if color}}color-{{color}}{{/if}} {{#if bg}}bg-{{bg}}{{/if}} {{#if bold}}actions-popover-bold{{/if}} {{#if disabled}}disabled{{/if}}">{{text}}</a></li>{{/if}}{{/each}}</ul></div>{{/each}}</div></div>';i._compiledTemplates.actionsToPopover||(i._compiledTemplates.actionsToPopover=l.compile(p));var d=i._compiledTemplates.actionsToPopover(t);a=s(i.popover(d,e,!0)),n=".list-block ul",r=".list-button"}else{if(i.params.modalActionsTemplate)i._compiledTemplates.actions||(i._compiledTemplates.actions=l.compile(i.params.modalActionsTemplate)),c=i._compiledTemplates.actions(t);else{for(var u="",h=0;h<t.length;h++)for(var m=0;m<t[h].length;m++){0===m&&(u+='<div class="actions-modal-group">');var g=t[h][m],v=g.label?"actions-modal-label":"actions-modal-button";g.bold&&(v+=" actions-modal-button-bold"),g.color&&(v+=" color-"+g.color),g.bg&&(v+=" bg-"+g.bg),g.disabled&&(v+=" disabled"),u+='<div class="'+v+'">'+g.text+"</div>",m===t[h].length-1&&(u+="</div>")}c='<div class="actions-modal">'+u+"</div>"}f.innerHTML=c,a=s(f).children(),s("body").append(a[0]),n=".actions-modal-group",r=".actions-modal-button"}var b=a.find(n);return b.each(function(e,n){var l=e;s(n).children().each(function(e,n){var c,p=e,d=t[l][p];!o&&s(n).is(r)&&(c=s(n)),o&&s(n).find(r).length>0&&(c=s(n).find(r)),c&&c.on("click",function(e){d.close!==!1&&i.closeModal(a),d.onClick&&d.onClick(a,e)})})}),o||i.openModal(a),a[0]},i.popover=function(e,t,a){function n(){e.css({left:"",top:""});var a,n,r,i=e.width(),l=e.height(),c=0;o?e.removeClass("popover-on-left popover-on-right popover-on-top popover-on-bottom").css({left:"",top:""}):(a=e.find(".popover-angle"),c=a.width()/2,a.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""}));var p=t.outerWidth(),d=t.outerHeight(),u=t.offset(),h=t.parents(".page");h.length>0&&(u.top=u.top-h[0].scrollTop);var f=s(window).height(),m=s(window).width(),g=0,v=0,b=0,w=o?"bottom":"top";o?(l<f-u.top-d?(w="bottom",g=u.top):l<u.top?(g=u.top-l+d,w="top"):(w="bottom",g=u.top),0>=g?g=8:g+l>=f&&(g=f-l-8),v=u.left,v+i>=m-8&&(v=u.left+p-i-8),8>v&&(v=8),"top"===w&&e.addClass("popover-on-top"),"bottom"===w&&e.addClass("popover-on-bottom")):(l+c<u.top?g=u.top-l-c:l+c<f-u.top-d?(w="bottom",g=u.top+d+c):(w="middle",g=d/2+u.top-l/2,b=g,0>=g?g=5:g+l>=f&&(g=f-l-5),b-=g),"top"===w||"bottom"===w?(v=p/2+u.left-i/2,b=v,5>v&&(v=5),v+i>m&&(v=m-i-5),"top"===w&&a.addClass("on-bottom"),"bottom"===w&&a.addClass("on-top"),b-=v,n=i/2-c+b,n=Math.max(Math.min(n,i-2*c-13),13),a.css({left:n+"px"})):"middle"===w&&(v=u.left-i-c,a.addClass("on-right"),(5>v||v+i>m)&&(5>v&&(v=u.left+p+c),v+i>m&&(v=m-i-5),a.removeClass("on-right").addClass("on-left")),r=l/2-c+b,r=Math.max(Math.min(r,l-2*c-13),13),a.css({top:r+"px"}))),e.css({top:g+"px",left:v+"px"})}if("undefined"==typeof a&&(a=!0),"string"==typeof e&&e.indexOf("<")>=0){var r=document.createElement("div");if(r.innerHTML=e.trim(),!(r.childNodes.length>0))return!1;e=r.childNodes[0],a&&e.classList.add("remove-on-close"),s("body").append(e)}if(e=s(e),t=s(t),0===e.length||0===t.length)return!1;0!==e.find(".popover-angle").length||i.params.material||e.append('<div class="popover-angle"></div>'),e.show();var o=i.params.material;return n(),s(window).on("resize",n),e.on("close",function(){s(window).off("resize",n)}),i.openModal(e),e[0]},i.popup=function(e,t){if("undefined"==typeof t&&(t=!0),"string"==typeof e&&e.indexOf("<")>=0){var a=document.createElement("div");if(a.innerHTML=e.trim(),!(a.childNodes.length>0))return!1;e=a.childNodes[0],t&&e.classList.add("remove-on-close"),s("body").append(e)}return e=s(e),0===e.length?!1:(e.show(),i.openModal(e),e[0])},i.pickerModal=function(e,t){if("undefined"==typeof t&&(t=!0),"string"==typeof e&&e.indexOf("<")>=0){if(e=s(e),!(e.length>0))return!1;t&&e.addClass("remove-on-close"),s("body").append(e[0])}return e=s(e),0===e.length?!1:(e.show(),i.openModal(e),e[0])},i.loginScreen=function(e){return e||(e=".login-screen"),e=s(e),0===e.length?!1:(e.show(),i.openModal(e),e[0])},i.openModal=function(e){e=s(e);var t=e.hasClass("modal");if(s(".modal.modal-in:not(.modal-out)").length&&i.params.modalStack&&t)return void i.modalStack.push(function(){i.openModal(e)});if(!0!==e.data("f7-modal-shown")){e.data("f7-modal-shown",!0),e.once("close",function(){e.removeData("f7-modal-shown")});var a=(e.hasClass("popover"),e.hasClass("popup")),n=e.hasClass("login-screen"),r=e.hasClass("picker-modal");t&&(e.show(),e.css({marginTop:-Math.round(e.outerHeight()/2)+"px"}));var o;n||r||(0!==s(".modal-overlay").length||a||s("body").append('<div class="modal-overlay"></div>'),0===s(".popup-overlay").length&&a&&s("body").append('<div class="popup-overlay"></div>'),o=s(a?".popup-overlay":".modal-overlay")),i.params.material&&r&&e.hasClass("picker-calendar")&&(0!==s(".picker-modal-overlay").length||a||s("body").append('<div class="picker-modal-overlay"></div>'),o=s(".picker-modal-overlay"));e[0].clientLeft;return e.trigger("open"),r&&s("body").addClass("with-picker-modal"),e.find("."+i.params.viewClass).length>0&&(e.find(".page").each(function(){i.initPageWithCallback(this)}),e.find(".navbar").each(function(){i.initNavbarWithCallback(this)})),n||r||o.addClass("modal-overlay-visible"),i.params.material&&r&&o&&o.addClass("modal-overlay-visible"),e.removeClass("modal-out").addClass("modal-in").transitionEnd(function(t){e.hasClass("modal-out")?e.trigger("closed"):e.trigger("opened")}),!0}},i.closeModal=function(e){if(e=s(e||".modal-in"),"undefined"==typeof e||0!==e.length){var t=e.hasClass("modal"),a=e.hasClass("popover"),n=e.hasClass("popup"),r=e.hasClass("login-screen"),o=e.hasClass("picker-modal"),l=e.hasClass("remove-on-close"),c=s(n?".popup-overlay":o&&i.params.material?".picker-modal-overlay":".modal-overlay");return n?e.length===s(".popup.modal-in").length&&c.removeClass("modal-overlay-visible"):c&&c.length>0&&c.removeClass("modal-overlay-visible"),e.trigger("close"),o&&(s("body").removeClass("with-picker-modal"),s("body").addClass("picker-modal-closing")),!a||i.params.material?(e.removeClass("modal-in").addClass("modal-out").transitionEnd(function(t){e.hasClass("modal-out")?e.trigger("closed"):e.trigger("opened"),o&&s("body").removeClass("picker-modal-closing"),n||r||o||a?(e.removeClass("modal-out").hide(),l&&e.length>0&&e.remove()):e.remove()}),t&&i.params.modalStack&&i.modalStackClearQueue()):(e.removeClass("modal-in modal-out").trigger("closed").hide(),l&&e.remove()),!0}},i.allowPanelOpen=!0,i.openPanel=function(e){function t(){r.transitionEnd(function(e){s(e.target).is(r)?(a.hasClass("active")?a.trigger("opened"):a.trigger("closed"),i.params.material&&s(".panel-overlay").css({display:""}),i.allowPanelOpen=!0):t()})}if(!i.allowPanelOpen)return!1;var a=s(".panel-"+e);if(0===a.length||a.hasClass("active"))return!1;i.closePanel(),i.allowPanelOpen=!1;var n=a.hasClass("panel-reveal")?"reveal":"cover";a.css({display:"block"}).addClass("active"),a.trigger("open"),i.params.material&&s(".panel-overlay").show(),a.find("."+i.params.viewClass).length>0&&i.sizeNavbars&&i.sizeNavbars(a.find("."+i.params.viewClass)[0]);var r=(a[0].clientLeft,"reveal"===n?s("."+i.params.viewsClass):a);return t(),s("body").addClass("with-panel-"+e+"-"+n),!0},i.closePanel=function(){var e=s(".panel.active");if(0===e.length)return!1;var t=e.hasClass("panel-reveal")?"reveal":"cover",a=e.hasClass("panel-left")?"left":"right";e.removeClass("active");var n="reveal"===t?s("."+i.params.viewsClass):e;e.trigger("close"),i.allowPanelOpen=!1,n.transitionEnd(function(){e.hasClass("active")||(e.css({display:""}),e.trigger("closed"),s("body").removeClass("panel-closing"),i.allowPanelOpen=!0)}),s("body").addClass("panel-closing").removeClass("with-panel-"+a+"-"+t)},i.initSwipePanels=function(){function e(e){if(i.allowPanelOpen&&(i.params.swipePanel||i.params.swipePanelOnlyClose)&&!o&&!(s(".modal-in, .photo-browser-in").length>0)&&(i.params.swipePanelCloseOpposite||i.params.swipePanelOnlyClose||!(s(".panel.active").length>0)||n.hasClass("active"))){if(w.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,w.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,i.params.swipePanelCloseOpposite||i.params.swipePanelOnlyClose){if(s(".panel.active").length>0)r=s(".panel.active").hasClass("panel-left")?"left":"right";else{if(i.params.swipePanelOnlyClose)return;r=i.params.swipePanel}if(!r)return}if(n=s(".panel.panel-"+r),f=n.hasClass("active"),i.params.swipePanelActiveArea&&!f){if("left"===r&&w.x>i.params.swipePanelActiveArea)return;if("right"===r&&w.x<window.innerWidth-i.params.swipePanelActiveArea)return}l=!1,o=!0,c=void 0,p=(new Date).getTime(),v=void 0}}function t(e){if(o&&!e.f7PreventPanelSwipe){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof c&&(c=!!(c||Math.abs(a-w.y)>Math.abs(t-w.x))),c)return void(o=!1);if(!v&&(v=t>w.x?"to-right":"to-left","left"===r&&"to-left"===v&&!n.hasClass("active")||"right"===r&&"to-right"===v&&!n.hasClass("active")))return void(o=!1);if(i.params.swipePanelNoFollow){var s=(new Date).getTime()-p;return 300>s&&("to-left"===v&&("right"===r&&i.openPanel(r),"left"===r&&n.hasClass("active")&&i.closePanel()),"to-right"===v&&("left"===r&&i.openPanel(r),"right"===r&&n.hasClass("active")&&i.closePanel())),o=!1,void(l=!1)}l||(g=n.hasClass("panel-cover")?"cover":"reveal",f||(n.show(),b.show()),m=n[0].offsetWidth,n.transition(0),n.find("."+i.params.viewClass).length>0&&i.sizeNavbars&&i.sizeNavbars(n.find("."+i.params.viewClass)[0])),l=!0,e.preventDefault();var C=f?0:-i.params.swipePanelThreshold;"right"===r&&(C=-C),d=t-w.x+C,"right"===r?(u=d-(f?m:0),u>0&&(u=0),-m>u&&(u=-m)):(u=d+(f?m:0),0>u&&(u=0),u>m&&(u=m)),"reveal"===g?(y.transform("translate3d("+u+"px,0,0)").transition(0),b.transform("translate3d("+u+"px,0,0)").transition(0),i.pluginHook("swipePanelSetTransform",y[0],n[0],Math.abs(u/m))):(n.transform("translate3d("+u+"px,0,0)").transition(0),i.params.material&&(b.transition(0),h=Math.abs(u/m),b.css({opacity:h})),i.pluginHook("swipePanelSetTransform",y[0],n[0],Math.abs(u/m)))}}function a(e){if(!o||!l)return o=!1,void(l=!1);o=!1,l=!1;var t,a=(new Date).getTime()-p,c=0===u||Math.abs(u)===m;if(t=f?u===-m?"reset":300>a&&Math.abs(u)>=0||a>=300&&Math.abs(u)<=m/2?"left"===r&&u===m?"reset":"swap":"reset":0===u?"reset":300>a&&Math.abs(u)>0||a>=300&&Math.abs(u)>=m/2?"swap":"reset","swap"===t&&(i.allowPanelOpen=!0,f?(i.closePanel(),c&&(n.css({display:""}),s("body").removeClass("panel-closing"))):i.openPanel(r),c&&(i.allowPanelOpen=!0)),"reset"===t)if(f)i.allowPanelOpen=!0,i.openPanel(r);else if(i.closePanel(),c)i.allowPanelOpen=!0,n.css({display:""});else{var d="reveal"===g?y:n;n.trigger("close"),s("body").addClass("panel-closing"),d.transitionEnd(function(){n.trigger("closed"),n.css({display:""}),s("body").removeClass("panel-closing"),i.allowPanelOpen=!0})}"reveal"===g&&(y.transition(""),y.transform("")),n.transition("").transform(""),b.css({display:""}).transform("").transition("").css("opacity","")}var n,r;if(i.params.swipePanel){if(n=s(".panel.panel-"+i.params.swipePanel),r=i.params.swipePanel,0===n.length)return}else{if(!i.params.swipePanelOnlyClose)return;if(0===s(".panel").length)return}var o,l,c,p,d,u,h,f,m,g,v,b=s(".panel-overlay"),w={},y=s("."+i.params.viewsClass);s(document).on(i.touchEvents.start,e),s(document).on(i.touchEvents.move,t),s(document).on(i.touchEvents.end,a)},i.initImagesLazyLoad=function(e){function t(e){function a(){e.removeClass("lazy").addClass("lazy-loaded"),n?e.css("background-image","url("+r+")"):e.attr("src",r),i.params.imagesLazyLoadSequential&&(u=!1,d.length>0&&t(d.shift()))}e=s(e);var n=e.attr("data-background"),r=n?n:e.attr("data-src");if(r){if(i.params.imagesLazyLoadSequential&&u)return void(d.indexOf(e[0])<0&&d.push(e[0]));u=!0;var o=new Image;o.onload=a,o.onerror=a,o.src=r}}function a(){l=e.find(".lazy"),l.each(function(e,a){a=s(a),a.parents(".tab:not(.active)").length>0||n(a[0])&&t(a)})}function n(e){var t=e.getBoundingClientRect(),a=i.params.imagesLazyLoadThreshold||0;return t.top>=0-a&&t.left>=0-a&&t.top<=window.innerHeight+a&&t.left<=window.innerWidth+a}function r(t){var n=t?"off":"on";l[n]("lazy",a),l.parents(".tab")[n]("show",a),e[n]("lazy",a),c[n]("lazy",a),c[n]("scroll",a),s(window)[n]("resize",a)}function o(){r(!0)}e=s(e);var l;if(e.hasClass("lazy")?(l=e,e=l.parents(".page")):l=e.find(".lazy"),0!==l.length){var c;if(e.hasClass("page-content")?(c=e,e=e.parents(".page")):c=e.find(".page-content"),0!==c.length){var p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXCwsK592mkAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==";"string"==typeof i.params.imagesLazyLoadPlaceholder&&(p=i.params.imagesLazyLoadPlaceholder),i.params.imagesLazyLoadPlaceholder!==!1&&l.each(function(){s(this).attr("data-src")&&s(this).attr("src",p)});var d=[],u=!1;e[0].f7DestroyImagesLazyLoad=o,r(),e.hasClass("page")&&e.once("pageBeforeRemove",o),a(),e.once("pageAfterAnimation",a)}}},i.destroyImagesLazyLoad=function(e){e=s(e),e.length>0&&e[0].f7DestroyImagesLazyLoad&&e[0].f7DestroyLazyLoad()},i.reinitImagesLazyLoad=function(e){e=s(e),e.length>0&&e.trigger("lazy")},i.initPageMaterialPreloader=function(e){s(e).find(".preloader").each(function(){0===s(this).children("svg").length&&s(this).html(i.params.materialPreloaderSvg)})};var m=function(e,t){var a={autoLayout:!0,newMessagesFirst:!1,messageTemplate:'{{#if day}}<div class="messages-date">{{day}} {{#if time}}, <span>{{time}}</span>{{/if}}</div>{{/if}}<div class="message message-{{type}} {{#if hasImage}}message-pic{{/if}} {{#if avatar}}message-with-avatar{{/if}} {{#if position}}message-appear-from-{{position}}{{/if}}">{{#if name}}<div class="message-name">{{name}}</div>{{/if}}<div class="message-text">{{text}}{{#if date}}<div class="message-date">{{date}}</div>{{/if}}</div>{{#if avatar}}<div class="message-avatar" style="background-image:url({{avatar}})"></div>{{/if}}{{#if label}}<div class="message-label">{{label}}</div>{{/if}}</div>'};t=t||{};for(var n in a)("undefined"==typeof t[n]||null===t[n])&&(t[n]=a[n]);var r=this;return r.params=t,r.container=s(e),0!==r.container.length?(r.params.autoLayout&&r.container.addClass("messages-auto-layout"),r.params.newMessagesFirst&&r.container.addClass("messages-new-first"),r.pageContainer=r.container.parents(".page").eq(0),r.pageContent=r.pageContainer.find(".page-content"),r.template=Template7.compile(r.params.messageTemplate),r.layout=function(){r.container.hasClass("messages-auto-layout")||r.container.addClass("messages-auto-layout"),r.container.find(".message").each(function(){var e=s(this);e.find(".message-text img").length>0&&e.addClass("message-pic"),e.find(".message-avatar").length>0&&e.addClass("message-with-avatar")}),r.container.find(".message").each(function(){var e=s(this),t=e.hasClass("message-sent"),a=e.next(".message-"+(t?"sent":"received")),n=e.prev(".message-"+(t?"sent":"received"));0===a.length?e.addClass("message-last message-with-tail"):e.removeClass("message-last message-with-tail"),0===n.length?e.addClass("message-first"):e.removeClass("message-first"),n.length>0&&n.find(".message-name").length>0&&e.find(".message-name").length>0&&n.find(".message-name").text()!==e.find(".message-name").text()&&(n.addClass("message-last message-with-tail"),e.addClass("message-first"))})},r.appendMessage=function(e,t){return r.addMessage(e,"append",t)},r.prependMessage=function(e,t){return r.addMessage(e,"prepend",t)},r.addMessage=function(e,t,a){return r.addMessages([e],t,a)},r.addMessages=function(e,t,a){"undefined"==typeof a&&(a=!0),"undefined"==typeof t&&(t=r.params.newMessagesFirst?"prepend":"append");var n,i="";for(n=0;n<e.length;n++){var o=e[n]||{};o.type=o.type||"sent",o.text&&(o.hasImage=o.text.indexOf("<img")>=0,a&&(o.position="append"===t?"bottom":"top"),i+=r.template(o))}var s,l;"prepend"===t&&(s=r.pageContent[0].scrollHeight,l=r.pageContent[0].scrollTop),r.container[t](i),r.params.autoLayout&&r.layout(),"prepend"===t&&(r.pageContent[0].scrollTop=l+(r.pageContent[0].scrollHeight-s)),("append"===t&&!r.params.newMessagesFirst||"prepend"===t&&r.params.newMessagesFirst)&&r.scrollMessages(a?void 0:0);var c=r.container.find(".message");if(1===e.length)return"append"===t?c[c.length-1]:c[0];var p=[];if("append"===t)for(n=c.length-e.length;n<c.length;n++)p.push(c[n]);else for(n=0;n<e.length;n++)p.push(c[n]);return p},r.removeMessage=function(e){return e=s(e),0===e.length?!1:(e.remove(),r.params.autoLayout&&r.layout(),!0)},r.removeMessages=function(e){r.removeMessage(e)},r.clean=function(){r.container.html("")},r.scrollMessages=function(e,t){"undefined"==typeof e&&(e=400);var a,n=r.pageContent[0].scrollTop;if("undefined"!=typeof t)a=t;else if(a=r.params.newMessagesFirst?0:r.pageContent[0].scrollHeight-r.pageContent[0].offsetHeight,a===n)return;r.pageContent.scrollTop(a,e)},r.init=function(){r.params.messages?r.addMessages(r.params.messages,void 0,!1):(r.params.autoLayout&&r.layout(),r.scrollMessages(0))},r.destroy=function(){r=null},r.init(),r.container[0].f7Messages=r,r):void 0};i.messages=function(e,t){return new m(e,t)},i.initPageMessages=function(e){function t(){n.destroy(),e.off("pageBeforeRemove",t)}e=s(e);var a=e.find(".messages");if(0!==a.length&&a.hasClass("messages-init")){var n=i.messages(a,a.dataset());e.hasClass("page")&&e.on("pageBeforeRemove",t)}},i.swipeoutOpenedEl=void 0,i.allowSwipeout=!0,i.initSwipeout=function(e){function t(e){i.allowSwipeout&&(o=!1,r=!0,l=void 0,M.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,M.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,c=(new Date).getTime())}function a(e){if(r){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof l&&(l=!!(l||Math.abs(a-M.y)>Math.abs(t-M.x))),l)return void(r=!1);if(!o){if(s(".list-block.sortable-opened").length>0)return;d=s(this),u=d.find(".swipeout-content"),h=d.find(".swipeout-actions-right"),f=d.find(".swipeout-actions-left"),m=g=y=C=S=k=null,P=f.hasClass("swipeout-actions-no-fold")||i.params.swipeoutActionsNoFold,_=h.hasClass("swipeout-actions-no-fold")||i.params.swipeoutActionsNoFold,f.length>0&&(m=f.outerWidth(),y=f.children("a"),k=f.find(".swipeout-overswipe")),h.length>0&&(g=h.outerWidth(),C=h.children("a"),S=h.find(".swipeout-overswipe")),b=d.hasClass("swipeout-opened"),b&&(w=d.find(".swipeout-actions-left.swipeout-actions-opened").length>0?"left":"right"),d.removeClass("transitioning"),i.params.swipeoutNoFollow||(d.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),d.removeClass("swipeout-opened"))}if(o=!0,e.preventDefault(),p=t-M.x,v=p,b&&("right"===w?v-=g:v+=m),v>0&&0===f.length||0>v&&0===h.length){if(!b)return r=o=!1,u.transform(""),C&&C.length>0&&C.transform(""),void(y&&y.length>0&&y.transform(""));v=0}x=0>v?"to-left":v>0?"to-right":x?x:"to-left";var n,c,I;if(e.f7PreventPanelSwipe=!0,i.params.swipeoutNoFollow)return b?("right"===w&&p>0&&i.swipeoutClose(d),"left"===w&&0>p&&i.swipeoutClose(d)):(0>p&&h.length>0&&i.swipeoutOpen(d,"right"),p>0&&f.length>0&&i.swipeoutOpen(d,"left")),r=!1,void(o=!1);T=!1,E=!1;var L;if(h.length>0)for(I=v/g,-g>v&&(v=-g-Math.pow(-v-g,.8),S.length>0&&(E=!0)),n=0;n<C.length;n++)"undefined"==typeof C[n]._buttonOffset&&(C[n]._buttonOffset=C[n].offsetLeft),c=C[n]._buttonOffset,L=s(C[n]),S.length>0&&L.hasClass("swipeout-overswipe")&&(L.css({left:(E?-c:0)+"px"}),E?L.addClass("swipeout-overswipe-active"):L.removeClass("swipeout-overswipe-active")),L.transform("translate3d("+(v-c*(1+Math.max(I,-1)))+"px,0,0)");if(f.length>0)for(I=v/m,v>m&&(v=m+Math.pow(v-m,.8),k.length>0&&(T=!0)),n=0;n<y.length;n++)"undefined"==typeof y[n]._buttonOffset&&(y[n]._buttonOffset=m-y[n].offsetLeft-y[n].offsetWidth),c=y[n]._buttonOffset,L=s(y[n]),k.length>0&&L.hasClass("swipeout-overswipe")&&(L.css({left:(T?c:0)+"px"}),T?L.addClass("swipeout-overswipe-active"):L.removeClass("swipeout-overswipe-active")),y.length>1&&L.css("z-index",y.length-n),L.transform("translate3d("+(v+c*(1-Math.min(I,1)))+"px,0,0)");u.transform("translate3d("+v+"px,0,0)")}}function n(e){if(!r||!o)return r=!1,void(o=!1);r=!1,o=!1;var t,a,n,l,w,k,S=(new Date).getTime()-c;if(k="to-left"===x?_:P,n="to-left"===x?h:f,a="to-left"===x?g:m,t=300>S&&(-10>p&&"to-left"===x||p>10&&"to-right"===x)||S>=300&&Math.abs(v)>a/2?"open":"close",300>S&&(0===Math.abs(v)&&(t="close"),Math.abs(v)===a&&(t="open")),"open"===t){i.swipeoutOpenedEl=d,d.trigger("open"),d.addClass("swipeout-opened transitioning");var M="to-left"===x?-a:a;if(u.transform("translate3d("+M+"px,0,0)"),n.addClass("swipeout-actions-opened"),l="to-left"===x?C:y)for(w=0;w<l.length;w++)s(l[w]).transform("translate3d("+M+"px,0,0)");E&&h.find(".swipeout-overswipe")[0].click(),T&&f.find(".swipeout-overswipe")[0].click()}else d.trigger("close"),i.swipeoutOpenedEl=void 0,d.addClass("transitioning").removeClass("swipeout-opened"),u.transform(""),n.removeClass("swipeout-actions-opened");var I;if(y&&y.length>0&&y!==l)for(w=0;w<y.length;w++)I=y[w]._buttonOffset,"undefined"==typeof I&&(y[w]._buttonOffset=m-y[w].offsetLeft-y[w].offsetWidth),s(y[w]).transform("translate3d("+I+"px,0,0)");if(C&&C.length>0&&C!==l)for(w=0;w<C.length;w++)I=C[w]._buttonOffset,"undefined"==typeof I&&(C[w]._buttonOffset=C[w].offsetLeft),s(C[w]).transform("translate3d("+-I+"px,0,0)");u.transitionEnd(function(e){b&&"open"===t||closed&&"close"===t||(d.trigger("open"===t?"opened":"closed"),b&&"close"===t&&(h.length>0&&C.transform(""),f.length>0&&y.transform("")))})}var r,o,l,c,p,d,u,h,f,m,g,v,b,w,y,C,x,k,S,T,E,P,_,M={};s(document).on(i.touchEvents.start,function(e){if(i.swipeoutOpenedEl){var t=s(e.target);i.swipeoutOpenedEl.is(t[0])||t.parents(".swipeout").is(i.swipeoutOpenedEl)||t.hasClass("modal-in")||t.hasClass("modal-overlay")||t.hasClass("actions-modal")||t.parents(".actions-modal.modal-in, .modal.modal-in").length>0||i.swipeoutClose(i.swipeoutOpenedEl)}}),e?(s(e).on(i.touchEvents.start,t),s(e).on(i.touchEvents.move,a),s(e).on(i.touchEvents.end,n)):(s(document).on(i.touchEvents.start,".list-block li.swipeout",t),s(document).on(i.touchEvents.move,".list-block li.swipeout",a),s(document).on(i.touchEvents.end,".list-block li.swipeout",n))},i.swipeoutOpen=function(e,t,a){if(e=s(e),2===arguments.length&&"function"==typeof arguments[1]&&(a=t),0!==e.length&&(e.length>1&&(e=s(e[0])),e.hasClass("swipeout")&&!e.hasClass("swipeout-opened"))){t||(t=e.find(".swipeout-actions-right").length>0?"right":"left");var n=e.find(".swipeout-actions-"+t);if(0!==n.length){n.hasClass("swipeout-actions-no-fold")||i.params.swipeoutActionsNoFold;e.trigger("open").addClass("swipeout-opened").removeClass("transitioning"),n.addClass("swipeout-actions-opened");var r,o=n.children("a"),l=n.outerWidth(),c="right"===t?-l:l;if(o.length>1){for(r=0;r<o.length;r++)"right"===t?s(o[r]).transform("translate3d("+-o[r].offsetLeft+"px,0,0)"):s(o[r]).css("z-index",o.length-r).transform("translate3d("+(l-o[r].offsetWidth-o[r].offsetLeft)+"px,0,0)");o[1].clientLeft}for(e.addClass("transitioning"),r=0;r<o.length;r++)s(o[r]).transform("translate3d("+c+"px,0,0)");e.find(".swipeout-content").transform("translate3d("+c+"px,0,0)").transitionEnd(function(){e.trigger("opened"),a&&a.call(e[0])}),i.swipeoutOpenedEl=e}}},i.swipeoutClose=function(e,t){function a(){i.allowSwipeout=!0,e.hasClass("swipeout-opened")||(e.removeClass("transitioning"),o.transform(""),e.trigger("closed"),t&&t.call(e[0]),c&&clearTimeout(c))}if(e=s(e),0!==e.length&&e.hasClass("swipeout-opened")){var n=e.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left",r=e.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),o=(r.hasClass("swipeout-actions-no-fold")||i.params.swipeoutActionsNoFold,r.children("a")),l=r.outerWidth();i.allowSwipeout=!1,e.trigger("close"),e.removeClass("swipeout-opened").addClass("transitioning");var c;e.find(".swipeout-content").transform("").transitionEnd(a),c=setTimeout(a,500);for(var p=0;p<o.length;p++)"right"===n?s(o[p]).transform("translate3d("+-o[p].offsetLeft+"px,0,0)"):s(o[p]).transform("translate3d("+(l-o[p].offsetWidth-o[p].offsetLeft)+"px,0,0)"),s(o[p]).css({left:"0px"}).removeClass("swipeout-overswipe-active");i.swipeoutOpenedEl&&i.swipeoutOpenedEl[0]===e[0]&&(i.swipeoutOpenedEl=void 0)}},i.swipeoutDelete=function(e,t){if(e=s(e),0!==e.length){e.length>1&&(e=s(e[0])),i.swipeoutOpenedEl=void 0,e.trigger("delete"),e.css({height:e.outerHeight()+"px"});e[0].clientLeft;e.css({height:"0px"}).addClass("deleting transitioning").transitionEnd(function(){if(e.trigger("deleted"),t&&t.call(e[0]),e.parents(".virtual-list").length>0){var a=e.parents(".virtual-list")[0].f7VirtualList,n=e[0].f7VirtualListIndex;a&&"undefined"!=typeof n&&a.deleteItem(n)}else e.remove()});var a="-100%";e.find(".swipeout-content").transform("translate3d("+a+",0,0)")}},i.sortableToggle=function(e){return e=s(e),0===e.length&&(e=s(".list-block.sortable")),e.toggleClass("sortable-opened"),e.hasClass("sortable-opened")?e.trigger("open"):e.trigger("close"),e},i.sortableOpen=function(e){return e=s(e),0===e.length&&(e=s(".list-block.sortable")),e.addClass("sortable-opened"),e.trigger("open"),e},i.sortableClose=function(e){return e=s(e),0===e.length&&(e=s(".list-block.sortable")),e.removeClass("sortable-opened"),e.trigger("close"),e},i.initSortable=function(){function e(e){r=!1,n=!0,o="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,c=s(this).parent(),d=c.parent().find("li"),g=c.parents(".sortable"),e.preventDefault(),i.allowPanelOpen=i.allowSwipeout=!1}function t(e){if(n&&c){var t=("touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY);r||(c.addClass("sorting"),g.addClass("sortable-sorting"),u=c[0].offsetTop,h=c.parent().height()-c[0].offsetTop-c.height(),p=c[0].offsetHeight),r=!0,e.preventDefault(),e.f7PreventPanelSwipe=!0,l=t-o;var a=l;-u>a&&(a=-u),a>h&&(a=h),c.transform("translate3d(0,"+a+"px,0)"),m=f=void 0,d.each(function(){var e=s(this);if(e[0]!==c[0]){var t=e[0].offsetTop,n=e.height(),r=c[0].offsetTop+a;r>=t-n/2&&c.index()<e.index()?(e.transform("translate3d(0, "+-p+"px,0)"),f=e,m=void 0):t+n/2>=r&&c.index()>e.index()?(e.transform("translate3d(0, "+p+"px,0)"),f=void 0,m||(m=e)):s(this).transform("translate3d(0, 0%,0)")}})}}function a(e){if(i.allowPanelOpen=i.allowSwipeout=!0,
!n||!r)return n=!1,void(r=!1);e.preventDefault(),d.transform(""),c.removeClass("sorting"),g.removeClass("sortable-sorting");var t,a,o;f&&(c.insertAfter(f),c.trigger("sort")),m&&(c.insertBefore(m),c.trigger("sort")),(f||m)&&g.hasClass("virtual-list")&&(t=g[0].f7VirtualList,a=c[0].f7VirtualListIndex,o=m?m[0].f7VirtualListIndex:f[0].f7VirtualListIndex,t&&t.moveItem(a,o)),f=m=void 0,n=!1,r=!1}var n,r,o,l,c,p,d,u,h,f,m,g;s(document).on(i.touchEvents.start,".list-block.sortable .sortable-handler",e),i.support.touch?(s(document).on(i.touchEvents.move,".list-block.sortable .sortable-handler",t),s(document).on(i.touchEvents.end,".list-block.sortable .sortable-handler",a)):(s(document).on(i.touchEvents.move,t),s(document).on(i.touchEvents.end,a))},i.initSmartSelects=function(e){e=s(e);var t;t=e.is(".smart-select")?e:e.find(".smart-select"),0!==t.length&&t.each(function(){var e=s(this),t=e.find("select");if(0!==t.length){var a=t[0];if(0!==a.length){for(var n=[],r=0;r<a.length;r++)a[r].selected&&n.push(a[r].textContent.trim());var i=e.find(".item-after");if(0===i.length)e.find(".item-inner").append('<div class="item-after">'+n.join(", ")+"</div>");else{var o=i.text();if(i.hasClass("smart-select-value"))for(r=0;r<a.length;r++)a[r].selected=a[r].textContent.trim()===o.trim();else i.text(n.join(", "))}}}})},i.smartSelectAddOption=function(e,t,a){e=s(e);var n=e.parents(".smart-select");"undefined"==typeof a?e.append(t):s(t).insertBefore(e.find("option").eq(a)),i.initSmartSelects(n);var r=n.find("select").attr("name"),o=s('.page.smart-select-page[data-select-name="'+r+'"]').length>0;o&&i.smartSelectOpen(n,!0)},i.smartSelectOpen=function(e,t){function a(){var t=e.parents(".page-content");if(0!==t.length){var a,n=parseInt(t.css("padding-top"),10),r=parseInt(t.css("padding-bottom"),10),i=t[0].offsetHeight-n-te.height(),o=t[0].scrollHeight-n-te.height(),s=e.offset().top-n+e[0].offsetHeight;if(s>i){var l=t.scrollTop()+s-i;l+i>o&&(a=l+i-o+r,i===o&&(a=te.height()),t.css({"padding-bottom":a+"px"})),t.scrollTop(l,300)}}}function n(t){var a=!0;(t.target===e[0]||s(t.target).parents(e[0]).length>0)&&(a=!1),s(t.target).parents(".picker-modal").length>0&&(a=!1),a&&i.closeModal(".smart-select-picker.modal-in")}function r(t){if(w){var a=i.virtualList(s(t).find(".virtual-list"),{items:R,template:q,height:y||void 0,searchByItem:function(e,t,a){return a.text.toLowerCase().indexOf(e.trim().toLowerCase())>=0?!0:!1}});s(t).once("popup"===p||"picker"===p?"closed":"pageBeforeRemove",function(){a&&a.destroy&&a.destroy()})}s(t).on("change",'input[name="'+j+'"]',function(){var t=this,a=t.value,n=[];if("checkbox"===t.type)for(var r=0;r<x.options.length;r++){var o=x.options[r];o.value===a&&(o.selected=t.checked),o.selected&&n.push(o.textContent.trim())}else n=[e.find('option[value="'+a+'"]').text()],x.value=a;k.trigger("change"),e.find(".item-after").text(n.join(", ")),m&&"radio"===z&&("popup"===p?i.closeModal(ee):"picker"===p?i.closeModal(te):c.router.back())})}function o(e){var t=e.detail.page;t.name===Z&&r(t.container)}if(e=s(e),0!==e.length){var c=e.parents("."+i.params.viewClass);if(0!==c.length){c=c[0].f7View;var p=e.attr("data-open-in")||i.params.smartSelectOpenIn;if("popup"===p){if(s(".popup.smart-select-popup").length>0)return}else if("picker"===p){if(s(".picker-modal.modal-in").length>0&&!t){if(e[0].f7SmartSelectPicker===s(".picker-modal.modal-in:not(.modal-out)")[0])return;i.closeModal(s(".picker-modal.modal-in:not(.modal-out)"))}}else if(!c)return;var d,u=e.dataset(),h=u.pageTitle||e.find(".item-title").text(),f=u.backText||i.params.smartSelectBackText;d="picker"===p?u.pickerCloseText||u.backText||i.params.smartSelectPickerCloseText:u.popupCloseText||u.backText||i.params.smartSelectPopupCloseText;var m=void 0!==u.backOnSelect?u.backOnSelect:i.params.smartSelectBackOnSelect,g=u.formTheme||i.params.smartSelectFormTheme,v=u.navbarTheme||i.params.smartSelectNavbarTheme,b=u.toolbarTheme||i.params.smartSelectToolbarTheme,w=u.virtualList,y=u.virtualListHeight,C=i.params.material,x=e.find("select")[0],k=s(x),S=k.dataset();if(!(x.disabled||e.hasClass("disabled")||k.hasClass("disabled"))){for(var T,E,P,_,M,I,L,O,B,A,D,R=[],N=(new Date).getTime(),z=x.multiple?"checkbox":"radio",j=z+"-"+N,H=x.name,U=0;U<x.length;U++)T=s(x[U]),D=T.dataset(),P=D.optionImage||S.optionImage,_=D.optionIcon||S.optionIcon,E=P||_||"checkbox"===z,C&&(E=P||_),B=D.optionColor,A=D.optionClass,T[0].disabled&&(A+=" disabled"),M=T.parent("optgroup")[0],I=M&&M.label,L=!1,M&&M!==O&&(L=!0,O=M,R.push({groupLabel:I,isLabel:L})),R.push({value:T[0].value,text:T[0].textContent.trim(),selected:T[0].selected,group:M,groupLabel:I,image:P,icon:_,color:B,className:A,disabled:T[0].disabled,inputType:z,id:N,hasMedia:E,checkbox:"checkbox"===z,inputName:j,material:i.params.material});i._compiledTemplates.smartSelectItem||(i._compiledTemplates.smartSelectItem=l.compile(i.params.smartSelectItemTemplate||'{{#if isLabel}}<li class="item-divider">{{groupLabel}}</li>{{else}}<li{{#if className}} class="{{className}}"{{/if}}><label class="label-{{inputType}} item-content"><input type="{{inputType}}" name="{{inputName}}" value="{{value}}" {{#if selected}}checked{{/if}}>{{#if material}}{{#if hasMedia}}<div class="item-media">{{#if icon}}<i class="icon {{icon}}"></i>{{/if}}{{#if image}}<img src="{{image}}">{{/if}}</div><div class="item-inner"><div class="item-title{{#if color}} color-{{color}}{{/if}}">{{text}}</div></div><div class="item-after"><i class="icon icon-form-{{inputType}}"></i></div>{{else}}<div class="item-media"><i class="icon icon-form-{{inputType}}"></i></div><div class="item-inner"><div class="item-title{{#if color}} color-{{color}}{{/if}}">{{text}}</div></div>{{/if}}{{else}}{{#if hasMedia}}<div class="item-media">{{#if checkbox}}<i class="icon icon-form-checkbox"></i>{{/if}}{{#if icon}}<i class="icon {{icon}}"></i>{{/if}}{{#if image}}<img src="{{image}}">{{/if}}</div>{{/if}}<div class="item-inner"><div class="item-title{{#if color}} color-{{color}}{{/if}}">{{text}}</div></div>{{/if}}</label></li>{{/if}}'));var q=i._compiledTemplates.smartSelectItem,F="";if(!w)for(var W=0;W<R.length;W++)F+=q(R[W]);var Y,V,G="",X="",K="";"picker"===p?(i._compiledTemplates.smartSelectToolbar||(i._compiledTemplates.smartSelectToolbar=l.compile(i.params.smartSelectToolbarTemplate||'<div class="toolbar {{#if toolbarTheme}}theme-{{toolbarTheme}}{{/if}}"><div class="toolbar-inner"><div class="left"></div><div class="right"><a href="#" class="link close-picker"><span>{{closeText}}</span></a></div></div></div>')),G=i._compiledTemplates.smartSelectToolbar({pageTitle:h,closeText:d,openIn:p,toolbarTheme:b,inPicker:"picker"===p})):(i._compiledTemplates.smartSelectNavbar||(i._compiledTemplates.smartSelectNavbar=l.compile(i.params.smartSelectNavbarTemplate||'<div class="navbar {{#if navbarTheme}}theme-{{navbarTheme}}{{/if}}"><div class="navbar-inner">{{leftTemplate}}<div class="center sliding">{{pageTitle}}</div></div></div>')),Y=i._compiledTemplates.smartSelectNavbar({pageTitle:h,backText:f,closeText:d,openIn:p,navbarTheme:v,inPopup:"popup"===p,inPage:"page"===p,leftTemplate:"popup"===p?(i.params.smartSelectPopupCloseTemplate||(C?'<div class="left"><a href="#" class="link close-popup icon-only"><i class="icon icon-back"></i></a></div>':'<div class="left"><a href="#" class="link close-popup"><i class="icon icon-back"></i><span>{{closeText}}</span></a></div>')).replace(/{{closeText}}/g,d):(i.params.smartSelectBackTemplate||(C?'<div class="left"><a href="#" class="back link icon-only"><i class="icon icon-back"></i></a></div>':'<div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><span>{{backText}}</span></a></div>')).replace(/{{backText}}/g,f)}),"page"===p?(V="static",e.parents(".navbar-through").length>0&&(V="through"),e.parents(".navbar-fixed").length>0&&(V="fixed"),K=e.parents(".page").hasClass("no-toolbar")?"no-toolbar":"",X=e.parents(".page").hasClass("no-navbar")?"no-navbar":"navbar-"+V):V="fixed");var Q,J,Z="smart-select-"+j,$="undefined"==typeof e.data("searchbar")?i.params.smartSelectSearchbar:"true"===e.data("searchbar")?!0:!1;$&&(Q=e.data("searchbar-placeholder")||"Search",J=e.data("searchbar-cancel")||"Cancel");var ee,te,ae='<form class="searchbar searchbar-init" data-search-list=".smart-select-list-'+N+'" data-search-in=".item-title"><div class="searchbar-input"><input type="search" placeholder="'+Q+'"><a href="#" class="searchbar-clear"></a></div>'+(C?"":'<a href="#" class="searchbar-cancel">'+J+"</a>")+'</form><div class="searchbar-overlay"></div>',ne=("picker"!==p&&"through"===V?Y:"")+'<div class="pages">  <div data-page="'+Z+'" data-select-name="'+H+'" class="page smart-select-page '+X+" "+K+'">'+("picker"!==p&&"fixed"===V?Y:"")+($?ae:"")+'    <div class="page-content">'+("picker"!==p&&"static"===V?Y:"")+'      <div class="list-block '+(w?"virtual-list":"")+" smart-select-list-"+N+" "+(g?"theme-"+g:"")+'">        <ul>'+(w?"":F)+"        </ul>      </div>    </div>  </div></div>";"popup"===p?(t?(ee=s(".popup.smart-select-popup .view"),ee.html(ne)):(ee=i.popup('<div class="popup smart-select-popup smart-select-popup-'+j+'"><div class="view navbar-fixed">'+ne+"</div></div>"),ee=s(ee)),i.initPage(ee.find(".page")),r(ee)):"picker"===p?(t?(te=s(".picker-modal.smart-select-picker .view"),te.html(ne)):(te=i.pickerModal('<div class="picker-modal smart-select-picker smart-select-picker-'+j+'">'+G+'<div class="picker-modal-inner"><div class="view">'+ne+"</div></div></div>"),te=s(te),a(),s("html").on("click",n),te.once("close",function(){e[0].f7SmartSelectPicker=void 0,s("html").off("click",n),e.parents(".page-content").css({paddingBottom:""})}),e[0].f7SmartSelectPicker=te[0]),i.initPage(te.find(".page")),r(te)):(s(document).once("pageInit",".smart-select-page",o),c.router.load({content:ne,reload:t?!0:void 0}))}}}};var g=function(e,t){var a={cols:1,height:i.params.material?48:44,cache:!0,dynamicHeightBufferSize:1};t=t||{};for(var n in a)"undefined"==typeof t[n]&&(t[n]=a[n]);var r=this;r.listBlock=s(e),r.params=t,r.items=t.items,t.template&&("string"==typeof t.template?r.template=l.compile(t.template):"function"==typeof t.template&&(r.template=t.template)),r.pageContent=r.listBlock.parents(".page-content");var o;"undefined"!=typeof r.params.updatableScroll?o=r.params.updatableScroll:(o=!0,i.device.ios&&i.device.osVersion.split(".")[0]<8&&(o=!1)),r.ul=r.params.ul?s(r.params.ul):r.listBlock.children("ul"),0===r.ul.length&&(r.listBlock.append("<ul></ul>"),r.ul=r.listBlock.children("ul")),r.domCache={},r.displayDomCache={},r.tempDomElement=document.createElement("ul"),r.lastRepaintY=null,r.fragment=document.createDocumentFragment(),r.filterItems=function(e,t){r.filteredItems=[];for(var a=(e[0],e[e.length-1],0);a<e.length;a++)r.filteredItems.push(r.items[e[a]]);"undefined"==typeof t&&(t=!0),t&&(r.pageContent[0].scrollTop=0),r.update()},r.resetFilter=function(){r.filteredItems=null,delete r.filteredItems,r.update()};var c,p,d,u,h,f,m=0,g="function"==typeof r.params.height;return r.setListSize=function(){var e=r.filteredItems||r.items;if(c=r.pageContent[0].offsetHeight,g){f=0,r.heights=[];for(var t=0;t<e.length;t++){var a=r.params.height(e[t]);f+=a,r.heights.push(a)}}else f=e.length*r.params.height/r.params.cols,p=Math.ceil(c/r.params.height),d=r.params.rowsBefore||2*p,u=r.params.rowsAfter||p,h=p+d+u,m=d/2*r.params.height;o&&r.ul.css({height:f+"px"})},r.render=function(e,t){e&&(r.lastRepaintY=null);var a=-(r.listBlock[0].getBoundingClientRect().top+r.pageContent[0].getBoundingClientRect().top);if("undefined"!=typeof t&&(a=t),null===r.lastRepaintY||Math.abs(a-r.lastRepaintY)>m||!o&&r.pageContent[0].scrollTop+c>=r.pageContent[0].scrollHeight){r.lastRepaintY=a;var n,i,s=r.filteredItems||r.items,l=0,p=0;if(g){var u,f,v=0;for(m=c,u=0;u<r.heights.length;u++)f=r.heights[u],"undefined"==typeof n&&(v+f>=a-2*c*r.params.dynamicHeightBufferSize?n=u:l+=f),"undefined"==typeof i&&((v+f>=a+2*c*r.params.dynamicHeightBufferSize||u===r.heights.length-1)&&(i=u+1),p+=f),v+=f;i=Math.min(i,s.length)}else n=(parseInt(a/r.params.height)-d)*r.params.cols,0>n&&(n=0),i=Math.min(n+h*r.params.cols,s.length);var b;r.reachEnd=!1;for(var w=n;i>w;w++){var y,C;C=r.items.indexOf(s[w]),w===n&&(r.currentFromIndex=C),w===i-1&&(r.currentToIndex=C),C===r.items.length-1&&(r.reachEnd=!0),r.domCache[C]?y=r.domCache[C]:(r.template?r.tempDomElement.innerHTML=r.template(s[w],{index:C}):r.params.renderItem?r.tempDomElement.innerHTML=r.params.renderItem(C,s[w]):r.tempDomElement.innerHTML=s[w],y=r.tempDomElement.childNodes[0],r.params.cache&&(r.domCache[C]=y)),y.f7VirtualListIndex=C,w===n&&(b=g?l:w*r.params.height/r.params.cols),y.style.top=b+"px",r.params.onItemBeforeInsert&&r.params.onItemBeforeInsert(r,y),r.fragment.appendChild(y)}o||(g?r.ul[0].style.height=p+"px":r.ul[0].style.height=w*r.params.height/r.params.cols+"px"),r.params.onBeforeClear&&r.params.onBeforeClear(r,r.fragment),r.ul[0].innerHTML="",r.params.onItemsBeforeInsert&&r.params.onItemsBeforeInsert(r,r.fragment),r.ul[0].appendChild(r.fragment),r.params.onItemsAfterInsert&&r.params.onItemsAfterInsert(r,r.fragment),"undefined"!=typeof t&&e&&r.pageContent.scrollTop(t,0)}},r.scrollToItem=function(e){if(e>r.items.length)return!1;var t,a=0;if(g)for(var n=0;e>n;n++)a+=r.heights[n];else a=e*r.params.height;return t=r.listBlock[0].offsetTop,r.render(!0,t+a-parseInt(r.pageContent.css("padding-top"),10)),!0},r.handleScroll=function(e){r.render()},r.handleResize=function(e){r.setListSize(),r.render(!0)},r.attachEvents=function(e){var t=e?"off":"on";r.pageContent[t]("scroll",r.handleScroll),s(window)[t]("resize",r.handleResize)},r.init=function(){r.attachEvents(),r.setListSize(),r.render()},r.appendItems=function(e){for(var t=0;t<e.length;t++)r.items.push(e[t]);r.update()},r.appendItem=function(e){r.appendItems([e])},r.replaceAllItems=function(e){r.items=e,delete r.filteredItems,r.domCache={},r.update()},r.replaceItem=function(e,t){r.items[e]=t,r.params.cache&&delete r.domCache[e],r.update()},r.prependItems=function(e){for(var t=e.length-1;t>=0;t--)r.items.unshift(e[t]);if(r.params.cache){var a={};for(var n in r.domCache)a[parseInt(n,10)+e.length]=r.domCache[n];r.domCache=a}r.update()},r.prependItem=function(e){r.prependItems([e])},r.moveItem=function(e,t){if(e!==t){var a=r.items.splice(e,1)[0];if(t>=r.items.length?(r.items.push(a),t=r.items.length-1):r.items.splice(t,0,a),r.params.cache){var n={};for(var i in r.domCache){var o=parseInt(i,10),s=t>e?e:t,l=t>e?t:e,c=t>e?-1:1;(s>o||o>l)&&(n[o]=r.domCache[o]),o===s&&(n[l]=r.domCache[o]),o>s&&l>=o&&(n[o+c]=r.domCache[o])}r.domCache=n}r.update()}},r.insertItemBefore=function(e,t){if(0===e)return void r.prependItem(t);if(e>=r.items.length)return void r.appendItem(t);if(r.items.splice(e,0,t),r.params.cache){var a={};for(var n in r.domCache){var i=parseInt(n,10);i>=e&&(a[i+1]=r.domCache[i])}r.domCache=a}r.update()},r.deleteItems=function(e){for(var t,a=0,n=0;n<e.length;n++){var i=e[n];"undefined"!=typeof t&&i>t&&(a=-n),i+=a,t=e[n];var o=r.items.splice(i,1)[0];if(r.filteredItems&&r.filteredItems.indexOf(o)>=0&&r.filteredItems.splice(r.filteredItems.indexOf(o),1),r.params.cache){var s={};for(var l in r.domCache){var c=parseInt(l,10);c===i?delete r.domCache[i]:parseInt(l,10)>i?s[c-1]=r.domCache[l]:s[c]=r.domCache[l]}r.domCache=s}}r.update()},r.deleteAllItems=function(){r.items=[],delete r.filteredItems,r.params.cache&&(r.domCache={}),r.update()},r.deleteItem=function(e){r.deleteItems([e])},r.clearCache=function(){r.domCache={}},r.update=function(){r.setListSize(),r.render(!0)},r.destroy=function(){r.attachEvents(!0),delete r.items,delete r.domCache},r.init(),r.listBlock[0].f7VirtualList=r,r};i.virtualList=function(e,t){return new g(e,t)},i.reinitVirtualList=function(e){var t=s(e),a=t.find(".virtual-list");if(0!==a.length)for(var n=0;n<a.length;n++){var r=a[n].f7VirtualList;r&&r.update()}},i.initPullToRefresh=function(e){function t(e){if(p){if("android"!==i.device.os)return;if("targetTouches"in e&&e.targetTouches.length>1)return}m=s(this),m.hasClass("refreshing")||(d=!1,p=!0,u=void 0,b=void 0,"touchstart"===e.type&&(c=e.targetTouches[0].identifier),C.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,C.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,f=(new Date).getTime())}function a(e){if(p){var t,a,n;if("touchmove"===e.type){if(c&&e.touches)for(var r=0;r<e.touches.length;r++)e.touches[r].identifier===c&&(n=e.touches[r]);n||(n=e.targetTouches[0]),t=n.pageX,a=n.pageY}else t=e.pageX,a=e.pageY;if(t&&a){if("undefined"==typeof u&&(u=!!(u||Math.abs(a-C.y)>Math.abs(t-C.x))),!u)return void(p=!1);if(v=m[0].scrollTop,"undefined"==typeof b&&0!==v&&(b=!0),!d){if(m.removeClass("transitioning"),v>m[0].offsetHeight)return void(p=!1);y&&(w=m.attr("data-ptr-distance"),w.indexOf("%")>=0&&(w=m[0].offsetHeight*parseInt(w,10)/100)),S=m.hasClass("refreshing")?w:0,k=m[0].scrollHeight===m[0].offsetHeight||"ios"!==i.device.os?!0:!1}return d=!0,h=a-C.y,h>0&&0>=v||0>v?("ios"===i.device.os&&parseInt(i.device.osVersion.split(".")[0],10)>7&&0===v&&!b&&(k=!0),k&&(e.preventDefault(),g=Math.pow(h,.85)+S,m.transform("translate3d(0,"+g+"px,0)")),k&&Math.pow(h,.85)>w||!k&&h>=2*w?(x=!0,m.addClass("pull-up").removeClass("pull-down")):(x=!1,m.removeClass("pull-up").addClass("pull-down")),void 0):(m.removeClass("pull-up pull-down"),void(x=!1))}}}function n(e){if(!("touchend"===e.type&&e.changedTouches&&e.changedTouches.length>0&&c&&e.changedTouches[0].identifier!==c)){if(!p||!d)return p=!1,void(d=!1);g&&(m.addClass("transitioning"),g=0),m.transform(""),x?(m.addClass("refreshing"),m.trigger("refresh",{done:function(){i.pullToRefreshDone(m)}})):m.removeClass("pull-down"),p=!1,d=!1}}function r(){l.off(i.touchEvents.start,t),l.off(i.touchEvents.move,a),l.off(i.touchEvents.end,n)}function o(){r(),T.off("pageBeforeRemove",o)}var l=s(e);if(l.hasClass("pull-to-refresh-content")||(l=l.find(".pull-to-refresh-content")),l&&0!==l.length){var c,p,d,u,h,f,m,g,v,b,w,y,C={},x=!1,k=!1,S=0,T=l.hasClass("page")?l:l.parents(".page"),E=!1;(T.find(".navbar").length>0||T.parents(".navbar-fixed, .navbar-through").length>0||T.hasClass("navbar-fixed")||T.hasClass("navbar-through"))&&(E=!0),T.hasClass("no-navbar")&&(E=!1),E||l.addClass("pull-to-refresh-no-navbar"),m=l,m.attr("data-ptr-distance")?y=!0:w=44,l.on(i.touchEvents.start,t),l.on(i.touchEvents.move,a),l.on(i.touchEvents.end,n),0!==T.length&&(l[0].f7DestroyPullToRefresh=r,T.on("pageBeforeRemove",o))}},i.pullToRefreshDone=function(e){e=s(e),0===e.length&&(e=s(".pull-to-refresh-content.refreshing")),e.removeClass("refreshing").addClass("transitioning"),e.transitionEnd(function(){e.removeClass("transitioning pull-up pull-down")})},i.pullToRefreshTrigger=function(e){e=s(e),0===e.length&&(e=s(".pull-to-refresh-content")),e.hasClass("refreshing")||(e.addClass("transitioning refreshing"),e.trigger("refresh",{done:function(){i.pullToRefreshDone(e)}}))},i.destroyPullToRefresh=function(e){e=s(e);var t=e.hasClass("pull-to-refresh-content")?e:e.find(".pull-to-refresh-content");0!==t.length&&t[0].f7DestroyPullToRefresh&&t[0].f7DestroyPullToRefresh()},i.attachInfiniteScroll=function(e){s(e).on("scroll",n)},i.detachInfiniteScroll=function(e){s(e).off("scroll",n)},i.initInfiniteScroll=function(e){function t(){i.detachInfiniteScroll(a),e.off("pageBeforeRemove",t)}e=s(e);var a=e.find(".infinite-scroll");0!==a.length&&(i.attachInfiniteScroll(a),e.on("pageBeforeRemove",t))},i.initScrollToolbars=function(e){function t(t){e.hasClass("page-on-left")||(h=a[0].scrollTop,v=a[0].scrollHeight,b=a[0].offsetHeight,w=i.params.showBarsOnPageScrollEnd&&h+b>=v-E,C=p.hasClass("navbar-hidden"),x=d.hasClass("toolbar-hidden"),k=c&&c.hasClass("toolbar-hidden"),y=w?"show":u>h?i.params.showBarsOnPageScrollTop||44>=h?"show":"hide":h>44?"hide":"show","show"===y?(f&&n&&C&&(i.showNavbar(p),e.removeClass("no-navbar-by-scroll"),C=!1),m&&r&&x&&(i.showToolbar(d),e.removeClass("no-toolbar-by-scroll"),x=!1),g&&o&&k&&(i.showToolbar(c),e.removeClass("no-tabbar-by-scroll"),k=!1)):(f&&n&&!C&&(i.hideNavbar(p),e.addClass("no-navbar-by-scroll"),C=!0),m&&r&&!x&&(i.hideToolbar(d),e.addClass("no-toolbar-by-scroll"),x=!0),g&&o&&!k&&(i.hideToolbar(c),e.addClass("no-tabbar-by-scroll"),k=!0)),u=h)}e=s(e);var a=e.find(".page-content");if(0!==a.length){var n=(i.params.hideNavbarOnPageScroll||a.hasClass("hide-navbar-on-scroll")||a.hasClass("hide-bars-on-scroll"))&&!(a.hasClass("keep-navbar-on-scroll")||a.hasClass("keep-bars-on-scroll")),r=(i.params.hideToolbarOnPageScroll||a.hasClass("hide-toolbar-on-scroll")||a.hasClass("hide-bars-on-scroll"))&&!(a.hasClass("keep-toolbar-on-scroll")||a.hasClass("keep-bars-on-scroll")),o=(i.params.hideTabbarOnPageScroll||a.hasClass("hide-tabbar-on-scroll"))&&!a.hasClass("keep-tabbar-on-scroll");if(n||r||o){var l=a.parents("."+i.params.viewClass);if(0!==l.length){var c,p=l.find(".navbar"),d=l.find(".toolbar");o&&(c=l.find(".tabbar"),0===c.length&&(c=l.parents("."+i.params.viewsClass).find(".tabbar")));var u,h,f=p.length>0,m=d.length>0,g=c&&c.length>0;u=h=a[0].scrollTop;var v,b,w,y,C,x,k,S=m&&r?d[0].offsetHeight:0,T=g&&o?c[0].offsetHeight:0,E=T||S;a.on("scroll",t),a[0].f7ScrollToolbarsHandler=t}}}},i.destroyScrollToolbars=function(e){e=s(e);var t=e.find(".page-content");if(0!==t.length){var a=t[0].f7ScrollToolbarsHandler;a&&t.off("scroll",t[0].f7ScrollToolbarsHandler)}},i.initPageMaterialTabbar=function(e){e=s(e);var t=s(e).find(".tabbar");if(t.length>0&&0===t.find(".tab-link-highlight").length){t.find(".toolbar-inner").append('<span class="tab-link-highlight"></span>');var a=1/t.find(".tab-link").length*100,n=100*(i.rtl?-t.find(".tab-link.active").index():t.find(".tab-link.active").index());t.find(".tab-link-highlight").css({width:a+"%"}).transform("translate3d("+n+"%,0,0)")}},i.showTab=function(e,t,a){var n=s(e);if(2===arguments.length&&"boolean"==typeof t&&(a=t),0===n.length)return!1;if(n.hasClass("active"))return a&&n.trigger("show"),!1;var r=n.parent(".tabs");if(0===r.length)return!1;i.allowSwipeout=!0;var o=r.parent().hasClass("tabs-animated-wrap");if(o){var l=100*(i.rtl?n.index():-n.index());r.transform("translate3d("+l+"%,0,0)")}var c=r.children(".tab.active").removeClass("active");if(n.addClass("active"),n.trigger("show"),!o&&n.find(".navbar").length>0){var p;p=n.hasClass(i.params.viewClass)?n[0]:n.parents("."+i.params.viewClass)[0],i.sizeNavbars(p)}if(t?t=s(t):(t=s("string"==typeof e?'.tab-link[href="'+e+'"]':'.tab-link[href="#'+n.attr("id")+'"]'),(!t||t&&0===t.length)&&s("[data-tab]").each(function(){n.is(s(this).attr("data-tab"))&&(t=s(this))})),0!==t.length){var d;if(c&&c.length>0){var u=c.attr("id");u&&(d=s('.tab-link[href="#'+u+'"]')),(!d||d&&0===d.length)&&s("[data-tab]").each(function(){c.is(s(this).attr("data-tab"))&&(d=s(this))})}if(t&&t.length>0&&(t.addClass("active"),i.params.material)){var h=t.parents(".tabbar");if(h.length>0){if(0===h.find(".tab-link-highlight").length){h.find(".toolbar-inner").append('<span class="tab-link-highlight"></span>');h[0].clientLeft}var f=1/h.find(".tab-link").length*100,m=100*(i.rtl?-t.index():t.index());h.find(".tab-link-highlight").css({width:f+"%"}).transform("translate3d("+m+"%,0,0)")}}return d&&d.length>0&&d.removeClass("active"),!0}},i.accordionToggle=function(e){e=s(e),0!==e.length&&(e.hasClass("accordion-item-expanded")?i.accordionClose(e):i.accordionOpen(e))},i.accordionOpen=function(e){e=s(e);var t=e.parents(".accordion-list").eq(0),a=e.children(".accordion-item-content");0===a.length&&(a=e.find(".accordion-item-content"));var n=t.length>0&&e.parent().children(".accordion-item-expanded");n.length>0&&i.accordionClose(n),a.css("height",a[0].scrollHeight+"px").transitionEnd(function(){if(e.hasClass("accordion-item-expanded")){a.transition(0),a.css("height","auto");a[0].clientLeft;a.transition(""),e.trigger("opened")}else a.css("height",""),e.trigger("closed")}),e.trigger("open"),e.addClass("accordion-item-expanded")},i.accordionClose=function(e){e=s(e);var t=e.children(".accordion-item-content");0===t.length&&(t=e.find(".accordion-item-content")),e.removeClass("accordion-item-expanded"),t.transition(0),t.css("height",t[0].scrollHeight+"px");t[0].clientLeft;t.transition(""),t.css("height","").transitionEnd(function(){if(e.hasClass("accordion-item-expanded")){t.transition(0),t.css("height","auto");t[0].clientLeft;t.transition(""),e.trigger("opened")}else t.css("height",""),e.trigger("closed")}),e.trigger("close")},i.initFastClicks=function(){function e(e){var t,a=s(e),n=a.parents(i.params.activeStateElements);return a.is(i.params.activeStateElements)&&(t=a),n.length>0&&(t=t?t.add(n):n),t?t:a}function t(e){var t=e.parents(".page-content, .panel");return 0===t.length?!1:("yes"!==t.prop("scrollHandlerSet")&&(t.on("scroll",function(){clearTimeout(z),clearTimeout(W)}),t.prop("scrollHandlerSet","yes")),!0)}function a(){N.addClass("active-state")}function n(e){N.removeClass("active-state")}function r(e){var t="input select textarea label".split(" ");return e.nodeName&&t.indexOf(e.nodeName.toLowerCase())>=0?!0:!1}function o(e){var t="button input textarea select".split(" ");return document.activeElement&&e!==document.activeElement&&document.activeElement!==document.body?t.indexOf(e.nodeName.toLowerCase())>=0?!1:!0:!1}function l(e){var t=s(e);return"input"===e.nodeName.toLowerCase()&&"file"===e.type?!1:t.hasClass("no-fastclick")||t.parents(".no-fastclick").length>0?!1:!0}function c(e){if(document.activeElement===e)return!1;var t=e.nodeName.toLowerCase(),a="button checkbox file image radio submit".split(" ");return e.disabled||e.readOnly?!1:"textarea"===t?!0:"select"===t?i.device.android?!1:!0:"input"===t&&a.indexOf(e.type)<0?!0:void 0}function p(e){e=s(e);var t=!0;return(e.is("label")||e.parents("label").length>0)&&(t=i.device.android?!1:i.device.ios&&e.is("input")?!0:!1),t}function d(t){e(t.target).addClass("active-state"),"which"in t&&3===t.which&&setTimeout(function(){s(".active-state").removeClass("active-state")},0),i.params.material&&i.params.materialRipple&&(E=t.pageX,P=t.pageY,v(t.target,t.pageX,t.pageY))}function u(e){s(".active-state").removeClass("active-state"),i.params.material&&i.params.materialRipple&&b()}function h(e){s(".active-state").removeClass("active-state"),i.params.material&&i.params.materialRipple&&w()}function f(e){var t=i.params.materialRippleElements,a=s(e);if(a.is(t))return a.hasClass("no-ripple")?!1:a;if(a.parents(t).length>0){var n=a.parents(t).eq(0);return n.hasClass("no-ripple")?!1:n}return!1}function m(e,t,a){var n=a[0].getBoundingClientRect(),r={x:e-n.left,y:t-n.top},i=n.height,o=n.width,l=Math.max(Math.pow(Math.pow(i,2)+Math.pow(o,2),.5),48);U=s('<div class="ripple-wave" style="width: '+l+"px; height: "+l+"px; margin-top:-"+l/2+"px; margin-left:-"+l/2+"px; left:"+r.x+"px; top:"+r.y+'px;"></div>'),a.prepend(U);U[0].clientLeft;F="translate3d("+(-r.x+o/2)+"px, "+(-r.y+i/2)+"px, 0) scale(1)",U.transform(F)}function g(){U&&(U.addClass("ripple-wave-fill").transform(F.replace("scale(1)","scale(1.01)")).transitionEnd(function(){var e=s(this).addClass("ripple-wave-out").transform(F.replace("scale(1)","scale(1.01)"));setTimeout(function(){e.transitionEnd(function(){s(this).remove()})},0)}),U=q=void 0)}function v(e,a,n){return q=f(e),q&&0!==q.length?void(t(q)?W=setTimeout(function(){m(E,P,q)},80):m(E,P,q)):void(q=void 0)}function b(){clearTimeout(W),g()}function w(){U?g():q&&!A?(clearTimeout(W),m(E,P,q),setTimeout(g,0)):g()}function y(e){var t=e.changedTouches[0],a=document.createEvent("MouseEvents"),n="click";i.device.android&&"select"===M.nodeName.toLowerCase()&&(n="mousedown"),a.initMouseEvent(n,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),a.forwardedTouchEvent=!0,M.dispatchEvent(a)}function C(n){if(A=!1,D=!1,n.targetTouches.length>1)return!0;if(i.params.tapHold&&(R&&clearTimeout(R),R=setTimeout(function(){D=!0,n.preventDefault(),s(n.target).trigger("taphold")},i.params.tapHoldDelay)),H&&clearTimeout(H),j=l(n.target),!j)return I=!1,!0;if(i.device.ios){var r=window.getSelection();if(r.rangeCount&&r.focusNode!==document.body&&(!r.isCollapsed||document.activeElement===r.focusNode))return L=!0,!0;L=!1}i.device.android&&o(n.target)&&document.activeElement.blur(),I=!0,M=n.target,_=(new Date).getTime(),E=n.targetTouches[0].pageX,P=n.targetTouches[0].pageY,i.device.ios&&(O=void 0,s(M).parents().each(function(){var e=this;e.scrollHeight>e.offsetHeight&&!O&&(O=e,O.f7ScrollTop=O.scrollTop)})),n.timeStamp-B<i.params.fastClicksDelayBetweenClicks&&n.preventDefault(),i.params.activeState&&(N=e(M),t(N)?z=setTimeout(a,80):a()),i.params.material&&i.params.materialRipple&&v(M,E,P)}function x(e){if(I){var t=!1,a=i.params.fastClicksDistanceThreshold;if(a){var r=e.targetTouches[0].pageX,o=e.targetTouches[0].pageY;(Math.abs(r-E)>a||Math.abs(o-P)>a)&&(t=!0)}else t=!0;t&&(I=!1,M=null,A=!0,i.params.tapHold&&clearTimeout(R),i.params.activeState&&(clearTimeout(z),n()),i.params.material&&i.params.materialRipple&&b())}}function k(e){if(clearTimeout(z),clearTimeout(R),!I)return!L&&j&&(!i.device.android||e.cancelable)&&e.preventDefault(),!0;if(document.activeElement===e.target)return i.params.activeState&&n(),i.params.material&&i.params.materialRipple&&w(),!0;if(L||e.preventDefault(),e.timeStamp-B<i.params.fastClicksDelayBetweenClicks)return setTimeout(n,0),!0;if(B=e.timeStamp,I=!1,i.device.ios&&O&&O.scrollTop!==O.f7ScrollTop)return!1;if(i.params.activeState&&(a(),setTimeout(n,0)),i.params.material&&i.params.materialRipple&&w(),c(M)){if(i.device.ios&&i.device.webView)return event.timeStamp-_>159?(M=null,!1):(M.focus(),!1);M.focus()}return document.activeElement&&M!==document.activeElement&&document.activeElement!==document.body&&"label"!==M.nodeName.toLowerCase()&&document.activeElement.blur(),e.preventDefault(),y(e),!1}function S(e){I=!1,M=null,clearTimeout(z),clearTimeout(R),i.params.activeState&&n(),i.params.material&&i.params.materialRipple&&w()}function T(e){var t=!1;return I?(M=null,I=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(M||r(e.target)||(t=!0),j||(t=!0),document.activeElement===M&&(t=!0),e.forwardedTouchEvent&&(t=!0),e.cancelable||(t=!0),i.params.tapHold&&i.params.tapHoldPreventClicks&&D&&(t=!1),t||(e.stopImmediatePropagation(),e.stopPropagation(),M?(p(M)||A)&&e.preventDefault():e.preventDefault(),M=null),H=setTimeout(function(){j=!1},i.device.ios||i.device.androidChrome?100:400),i.params.tapHold&&(R=setTimeout(function(){D=!1},i.device.ios||i.device.androidChrome?100:400)),t)}i.params.activeState&&s("html").addClass("watch-active-state"),i.device.ios&&i.device.webView&&window.addEventListener("touchstart",function(){});var E,P,_,M,I,L,O,B,A,D,R,N,z,j,H,U,q,F,W;i.support.touch?(document.addEventListener("click",T,!0),document.addEventListener("touchstart",C),document.addEventListener("touchmove",x),document.addEventListener("touchend",k),document.addEventListener("touchcancel",S)):i.params.activeState&&(document.addEventListener("mousedown",d),document.addEventListener("mousemove",u),document.addEventListener("mouseup",h)),i.params.material&&i.params.materialRipple&&document.addEventListener("contextmenu",function(e){N&&n(),w()})},i.initClickEvents=function(){function e(e){var t=s(this),a=s(e.target),n="a"===t[0].nodeName.toLowerCase()||t.parents("a").length>0||"a"===a[0].nodeName.toLowerCase()||a.parents("a").length>0;if(!n){var r;if(i.params.scrollTopOnNavbarClick&&t.is(".navbar .center")){var o=t.parents(".navbar");r=o.parents(".page-content"),0===r.length&&(o.parents(".page").length>0&&(r=o.parents(".page").find(".page-content")),0===r.length&&o.nextAll(".pages").length>0&&(r=o.nextAll(".pages").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content")))}i.params.scrollTopOnStatusbarClick&&t.is(".statusbar-overlay")&&(r=s(".popup.modal-in").length>0?s(".popup.modal-in").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content"):s(".panel.active").length>0?s(".panel.active").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content"):s(".views > .view.active").length>0?s(".views > .view.active").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content"):s(".views").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content")),
r&&r.length>0&&(r.hasClass("tab")&&(r=r.parent(".tabs").children(".page-content.active")),r.length>0&&r.scrollTop(0,300))}}function t(e){var t=s(this),a=t.attr("href"),n="a"===t[0].nodeName.toLowerCase();if(n&&(t.is(i.params.externalLinks)||a&&a.indexOf("javascript:")>=0))return void(a&&"_system"===t.attr("target")&&(e.preventDefault(),window.open(a,"_system")));var r=t.dataset();if(t.hasClass("smart-select")&&i.smartSelectOpen&&i.smartSelectOpen(t),t.hasClass("open-panel")&&(1===s(".panel").length?s(".panel").hasClass("panel-left")?i.openPanel("left"):i.openPanel("right"):"right"===r.panel?i.openPanel("right"):i.openPanel("left")),t.hasClass("close-panel")&&i.closePanel(),t.hasClass("panel-overlay")&&i.params.panelsCloseByOutside&&i.closePanel(),t.hasClass("open-popover")){var o;o=r.popover?r.popover:".popover",i.popover(o,t)}t.hasClass("close-popover")&&i.closeModal(".popover.modal-in");var p;t.hasClass("open-popup")&&(p=r.popup?r.popup:".popup",i.popup(p)),t.hasClass("close-popup")&&(p=r.popup?r.popup:".popup.modal-in",i.closeModal(p));var d;if(t.hasClass("open-login-screen")&&(d=r.loginScreen?r.loginScreen:".login-screen",i.loginScreen(d)),t.hasClass("close-login-screen")&&i.closeModal(".login-screen.modal-in"),t.hasClass("modal-overlay")&&(s(".modal.modal-in").length>0&&i.params.modalCloseByOutside&&i.closeModal(".modal.modal-in"),s(".actions-modal.modal-in").length>0&&i.params.actionsCloseByOutside&&i.closeModal(".actions-modal.modal-in"),s(".popover.modal-in").length>0&&i.closeModal(".popover.modal-in")),t.hasClass("popup-overlay")&&s(".popup.modal-in").length>0&&i.params.popupCloseByOutside&&i.closeModal(".popup.modal-in"),t.hasClass("picker-modal-overlay")&&s(".picker-modal.modal-in").length>0&&i.closeModal(".picker-modal.modal-in"),t.hasClass("close-picker")){var u=s(".picker-modal.modal-in");u.length>0?i.closeModal(u):(u=s(".popover.modal-in .picker-modal"),u.length>0&&i.closeModal(u.parents(".popover")))}if(t.hasClass("open-picker")){var h;h=r.picker?r.picker:".picker-modal",i.pickerModal(h,t)}var f;if(t.hasClass("tab-link")&&(f=!0,i.showTab(r.tab||t.attr("href"),t)),t.hasClass("swipeout-close")&&i.swipeoutClose(t.parents(".swipeout-opened")),t.hasClass("swipeout-delete"))if(r.confirm){var m=r.confirm,g=r.confirmTitle;g?i.confirm(m,g,function(){i.swipeoutDelete(t.parents(".swipeout"))}):i.confirm(m,function(){i.swipeoutDelete(t.parents(".swipeout"))})}else i.swipeoutDelete(t.parents(".swipeout"));if(t.hasClass("toggle-sortable")&&i.sortableToggle(r.sortable),t.hasClass("open-sortable")&&i.sortableOpen(r.sortable),t.hasClass("close-sortable")&&i.sortableClose(r.sortable),t.hasClass("accordion-item-toggle")||t.hasClass("item-link")&&t.parent().hasClass("accordion-item")){var v=t.parent(".accordion-item");0===v.length&&(v=t.parents(".accordion-item")),0===v.length&&(v=t.parents("li")),i.accordionToggle(v)}if((!i.params.ajaxLinks||t.is(i.params.ajaxLinks))&&n&&i.params.router){n&&e.preventDefault();var b=a&&a.length>0&&"#"!==a&&!f,w=r.template;if(b||t.hasClass("back")||w){var y;if(r.view?y=s(r.view)[0].f7View:(y=t.parents("."+i.params.viewClass)[0]&&t.parents("."+i.params.viewClass)[0].f7View,y&&y.params.linksView&&("string"==typeof y.params.linksView?y=s(y.params.linksView)[0].f7View:y.params.linksView instanceof c&&(y=y.params.linksView))),y||i.mainView&&(y=i.mainView),!y)return;var C;if(w)a=void 0;else{if(0===a.indexOf("#")&&"#"!==a){if(!y.params.domCache)return;C=a.split("#")[1],a=void 0}if("#"===a&&!t.hasClass("back"))return}var x;"undefined"!=typeof r.animatePages?x=r.animatePages:(t.hasClass("with-animation")&&(x=!0),t.hasClass("no-animation")&&(x=!1));var k={animatePages:x,ignoreCache:r.ignoreCache,force:r.force,reload:r.reload,reloadPrevious:r.reloadPrevious,pageName:C,pushState:r.pushState,url:a};if(i.params.template7Pages){k.contextName=r.contextName;var S=r.context;S&&(k.context=JSON.parse(S))}w&&w in l.templates&&(k.template=l.templates[w]),t.hasClass("back")?y.router.back(k):y.router.load(k)}}}function a(e){e.preventDefault()}s(document).on("click","a, .open-panel, .close-panel, .panel-overlay, .modal-overlay, .popup-overlay, .swipeout-delete, .swipeout-close, .close-popup, .open-popup, .open-popover, .open-login-screen, .close-login-screen .smart-select, .toggle-sortable, .open-sortable, .close-sortable, .accordion-item-toggle, .close-picker, .picker-modal-overlay",t),(i.params.scrollTopOnNavbarClick||i.params.scrollTopOnStatusbarClick)&&s(document).on("click",".statusbar-overlay, .navbar .center",e),i.support.touch&&!i.device.android&&s(document).on(i.params.fastClicks?"touchstart":"touchmove",".panel-overlay, .modal-overlay, .preloader-indicator-overlay, .popup-overlay, .searchbar-overlay",a)},i.initResize=function(){s(window).on("resize",i.resize),s(window).on("orientationchange",i.orientationchange)},i.resize=function(){i.sizeNavbars&&i.sizeNavbars(),r()},i.orientationchange=function(){i.device&&i.device.minimalUi&&(90===window.orientation||-90===window.orientation)&&(document.body.scrollTop=0),r()},i.formsData={},i.formStoreData=function(e,t){i.formsData[e]=t,i.ls["f7form-"+e]=JSON.stringify(t)},i.formDeleteData=function(e){i.formsData[e]&&(i.formsData[e]="",delete i.formsData[e]),i.ls["f7form-"+e]&&(i.ls["f7form-"+e]="",i.ls.removeItem("f7form-"+e))},i.formGetData=function(e){return i.ls["f7form-"+e]?JSON.parse(i.ls["f7form-"+e]):i.formsData[e]?i.formsData[e]:void 0},i.formToJSON=function(e){if(e=s(e),1!==e.length)return!1;var t={},a=["submit","image","button","file"],n=[];return e.find("input, select, textarea").each(function(){var r=s(this),i=r.attr("name"),o=r.attr("type"),l=this.nodeName.toLowerCase();if(!(a.indexOf(o)>=0)&&!(n.indexOf(i)>=0)&&i)if("select"===l&&r.prop("multiple"))n.push(i),t[i]=[],e.find('select[name="'+i+'"] option').each(function(){this.selected&&t[i].push(this.value)});else switch(o){case"checkbox":n.push(i),t[i]=[],e.find('input[name="'+i+'"]').each(function(){this.checked&&t[i].push(this.value)});break;case"radio":n.push(i),e.find('input[name="'+i+'"]').each(function(){this.checked&&(t[i]=this.value)});break;default:t[i]=r.val()}}),e.trigger("formToJSON",{formData:t}),t},i.formFromJSON=function(e,t){if(e=s(e),1!==e.length)return!1;var a=["submit","image","button","file"],n=[];e.find("input, select, textarea").each(function(){var r=s(this),i=r.attr("name"),o=r.attr("type"),l=this.nodeName.toLowerCase();if(t[i]&&!(a.indexOf(o)>=0)&&!(n.indexOf(i)>=0)&&i)if("select"===l&&r.prop("multiple"))n.push(i),e.find('select[name="'+i+'"] option').each(function(){t[i].indexOf(this.value)>=0?this.selected=!0:this.selected=!1});else switch(o){case"checkbox":n.push(i),e.find('input[name="'+i+'"]').each(function(){t[i].indexOf(this.value)>=0?this.checked=!0:this.checked=!1});break;case"radio":n.push(i),e.find('input[name="'+i+'"]').each(function(){t[i]===this.value?this.checked=!0:this.checked=!1});break;default:r.val(t[i])}}),e.trigger("formFromJSON",{formData:t})},i.initFormsStorage=function(e){function t(){var e=s(this),t=e[0].id;if(t){var a=i.formToJSON(e);a&&(i.formStoreData(t,a),e.trigger("store",{data:a}))}}function a(){n.off("change submit",t),e.off("pageBeforeRemove",a)}e=s(e);var n=e.find("form.store-data");0!==n.length&&(n.each(function(){var e=this.getAttribute("id");if(e){var t=i.formGetData(e);t&&i.formFromJSON(this,t)}}),n.on("change submit",t),e.on("pageBeforeRemove",a))},s(document).on("submit change","form.ajax-submit, form.ajax-submit-onchange",function(e){var t=s(this);if("change"!==e.type||t.hasClass("ajax-submit-onchange")){"submit"===e.type&&e.preventDefault();var a=t.attr("method")||"GET",n=t.prop("enctype")||t.attr("enctype"),r=t.attr("action");if(r){var o;o="POST"===a?new FormData(t[0]):s.serializeObject(i.formToJSON(t[0]));var l=s.ajax({method:a,url:r,contentType:n,data:o,beforeSend:function(e){t.trigger("beforeSubmit",{data:o,xhr:e})},error:function(e){t.trigger("submitError",{data:o,xhr:e})},success:function(e){t.trigger("submitted",{data:e,xhr:l})}})}}}),i.resizeTextarea=function(e){if(e=s(e),e.hasClass("resizable")){e.css({height:""});var t=e[0].offsetHeight,a=t-e[0].clientHeight,n=e[0].scrollHeight;if(n+a>t){var r=n+a;e.css("height",r+"px")}}},i.resizableTextarea=function(e){function t(){clearTimeout(a),a=setTimeout(function(){i.resizeTextarea(e)},0)}if(e=s(e),0!==e.length){var a;return e.on("change keydown keypress keyup paste cut",t)}},i.initPageResizableTextareas=function(e){e=s(e);var t=e.find("textarea.resizable");t.each(function(){i.resizableTextarea(this)})},i.initPageMaterialInputs=function(e){e=s(e);e.find("textarea.resizable");e.find(".item-input").each(function(){var e=s(this),t=["checkbox","button","submit","range","radio","image"];e.find("input, select, textarea").each(function(){var a=s(this);t.indexOf(a.attr("type"))<0&&(e.addClass("item-input-field"),""!==a.val().trim()&&a.parents(".item-input, .input-field").add(a.parents(".item-inner")).addClass("not-empty-state"))}),e.parents(".input-item, .inputs-list").length>0||e.parents(".list-block").eq(0).addClass("inputs-list")})},i.initMaterialWatchInputs=function(){function e(e){var t=s(this),n=t.attr("type");if(!(a.indexOf(n)>=0)){var r=t.add(t.parents(".item-input, .input-field")).add(t.parents(".item-inner").eq(0));r.addClass("focus-state")}}function t(e){var t=s(this),n=t.val(),r=t.attr("type");if(!(a.indexOf(r)>=0)){var i=t.add(t.parents(".item-input, .input-field")).add(t.parents(".item-inner").eq(0));i.removeClass("focus-state"),n&&""!==n.trim()?i.addClass("not-empty-state"):i.removeClass("not-empty-state")}}var a=["checkbox","button","submit","range","radio","image"];s(document).on("focus",".item-input input, .item-input select, .item-input textarea, input, textarea, select",e,!0),s(document).on("blur",".item-input input, .item-input select, .item-input textarea, input, textarea, select",t,!0)},i.pushStateQueue=[],i.pushStateClearQueue=function(){if(0!==i.pushStateQueue.length){var e,t=i.pushStateQueue.pop();i.params.pushStateNoAnimation===!0&&(e=!1),"back"===t.action&&i.router.back(t.view,{animatePages:e}),"loadPage"===t.action&&i.router.load(t.view,{url:t.stateUrl,animatePages:e,pushState:!1}),"loadContent"===t.action&&i.router.load(t.view,{content:t.stateContent,animatePages:e,pushState:!1}),"loadPageName"===t.action&&i.router.load(t.view,{pageName:t.statePageName,animatePages:e,pushState:!1})}},i.initPushState=function(){function e(e){if(!t){var a=i.mainView;if(a){var n=e.state;if(n||(n={viewIndex:i.views.indexOf(a),url:a.history[0]}),!(n.viewIndex<0)){var r,o=i.views[n.viewIndex],s=n&&n.url||void 0,l=n&&n.content||void 0,c=n&&n.pageName||void 0;i.params.pushStateNoAnimation===!0&&(r=!1),s!==o.url&&(o.history.indexOf(s)>=0?o.allowPageChange?i.router.back(o,{url:void 0,animatePages:r,pushState:!1,preloadOnly:!1}):i.pushStateQueue.push({action:"back",view:o}):l?o.allowPageChange?i.router.load(o,{content:l,animatePages:r,pushState:!1}):i.pushStateQueue.unshift({action:"loadContent",stateContent:l,view:o}):c?o.allowPageChange?i.router.load(o,{pageName:c,animatePages:r,pushState:!1}):i.pushStateQueue.unshift({action:"loadPageName",statePageName:c,view:o}):o.allowPageChange?i.router.load(o,{url:s,animatePages:r,pushState:!1}):i.pushStateQueue.unshift({action:"loadPage",stateUrl:s,view:o}))}}}}var t;i.params.pushStatePreventOnLoad&&(t=!0,s(window).on("load",function(){setTimeout(function(){t=!1},0)})),s(window).on("popstate",e)},i.swiper=function(e,t){return new Swiper(e,t)},i.initPageSwiper=function(e){function t(t){function a(){t.destroy(),e.off("pageBeforeRemove",a)}e.on("pageBeforeRemove",a)}e=s(e);var a=e.find(".swiper-init");if(0!==a.length)for(var n=0;n<a.length;n++){var r,o=a.eq(n);r=o.data("swiper")?JSON.parse(o.data("swiper")):o.dataset();var l=i.swiper(o[0],r);t(l)}},i.reinitPageSwiper=function(e){e=s(e);var t=e.find(".swiper-init");if(0!==t.length)for(var a=0;a<t.length;a++){var n=t[0].swiper;n&&n.update(!0)}};var v=function(e){var t=this,a={photos:[],initialSlide:0,spaceBetween:20,speed:300,zoom:!0,maxZoom:3,minZoom:1,exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",swipeToClose:!0,backLinkText:"Close",ofText:"of",loop:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,material:i.params.material,materialPreloaderSvg:i.params.materialPreloaderSvg};e=e||{},!e.backLinkText&&i.params.material&&(a.backLinkText="");for(var n in a)"undefined"==typeof e[n]&&(e[n]=a[n]);t.params=e,t.params.iconsColorClass=t.params.iconsColor?"color-"+t.params.iconsColor:"dark"===t.params.theme?"color-white":"",t.params.preloaderColorClass="dark"===t.params.theme?"preloader-white":"";var r=t.params.photoTemplate||'<div class="photo-browser-slide swiper-slide"><span class="photo-browser-zoom-container"><img src="{{js "this.url || this"}}"></span></div>',o=t.params.lazyPhotoTemplate||'<div class="photo-browser-slide photo-browser-slide-lazy swiper-slide"><div class="preloader {{@root.preloaderColorClass}}">{{#if @root.material}}{{@root.materialPreloaderSvg}}{{/if}}</div><span class="photo-browser-zoom-container"><img data-src="{{js "this.url || this"}}" class="swiper-lazy"></span></div>',c=t.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide swiper-slide">{{js "this.html || this"}}</div>',p=t.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{@index}}">{{caption}}</div>',d=t.params.navbarTemplate||'<div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="link close-popup photo-browser-close-link {{#unless backLinkText}}icon-only{{/unless}} {{js "this.type === \'page\' ? \'back\' : \'\'"}}"><i class="icon icon-back {{iconsColorClass}}"></i>{{#if backLinkText}}<span>{{backLinkText}}</span>{{/if}}</a></div><div class="center sliding"><span class="photo-browser-current"></span> <span class="photo-browser-of">{{ofText}}</span> <span class="photo-browser-total"></span></div><div class="right"></div></div></div>',u=t.params.toolbarTemplate||'<div class="toolbar tabbar"><div class="toolbar-inner"><a href="#" class="link photo-browser-prev"><i class="icon icon-prev {{iconsColorClass}}"></i></a><a href="#" class="link photo-browser-next"><i class="icon icon-next {{iconsColorClass}}"></i></a></div></div>',h=l.compile('<div class="photo-browser photo-browser-{{theme}}"><div class="view navbar-fixed toolbar-fixed">{{#unless material}}{{#if navbar}}'+d+'{{/if}}{{/unless}}<div class="page no-toolbar {{#unless navbar}}no-navbar{{/unless}} toolbar-fixed navbar-fixed" data-page="photo-browser-slides">{{#if material}}{{#if navbar}}'+d+"{{/if}}{{/if}}{{#if toolbar}}"+u+'{{/if}}<div class="photo-browser-captions photo-browser-captions-{{js "this.captionsTheme || this.theme"}}">{{#each photos}}{{#if caption}}'+p+"{{/if}}{{/each}}</div><div class=\"photo-browser-swiper-container swiper-container\"><div class=\"photo-browser-swiper-wrapper swiper-wrapper\">{{#each photos}}{{#js_compare \"this.html || ((typeof this === 'string' || this instanceof String) && (this.indexOf('<') >= 0 || this.indexOf('>') >= 0))\"}}"+c+"{{else}}{{#if @root.lazyLoading}}"+o+"{{else}}"+r+"{{/if}}{{/js_compare}}{{/each}}</div></div></div></div></div>")(t.params);t.activeIndex=t.params.initialSlide,t.openIndex=t.activeIndex,t.opened=!1,t.open=function(e){return"undefined"==typeof e&&(e=t.activeIndex),e=parseInt(e,10),t.opened&&t.swiper?void t.swiper.slideTo(e):(t.opened=!0,t.openIndex=e,"standalone"===t.params.type&&s("body").append(h),"popup"===t.params.type&&(t.popup=i.popup('<div class="popup photo-browser-popup">'+h+"</div>"),s(t.popup).on("closed",t.onPopupClose)),"page"===t.params.type?(s(document).on("pageBeforeInit",t.onPageBeforeInit),s(document).on("pageBeforeRemove",t.onPageBeforeRemove),t.params.view||(t.params.view=i.mainView),void t.params.view.loadContent(h)):(t.layout(t.openIndex),void(t.params.onOpen&&t.params.onOpen(t))))},t.close=function(){t.opened=!1,t.swiperContainer&&0!==t.swiperContainer.length&&(t.params.onClose&&t.params.onClose(t),t.attachEvents(!0),"standalone"===t.params.type&&t.container.removeClass("photo-browser-in").addClass("photo-browser-out").animationEnd(function(){t.container.remove()}),t.swiper.destroy(),t.swiper=t.swiperContainer=t.swiperWrapper=t.slides=f=m=g=void 0)},t.onPopupClose=function(e){t.close(),s(t.popup).off("pageBeforeInit",t.onPopupClose)},t.onPageBeforeInit=function(e){"photo-browser-slides"===e.detail.page.name&&t.layout(t.openIndex),s(document).off("pageBeforeInit",t.onPageBeforeInit)},t.onPageBeforeRemove=function(e){"photo-browser-slides"===e.detail.page.name&&t.close(),s(document).off("pageBeforeRemove",t.onPageBeforeRemove)},t.onSliderTransitionStart=function(e){t.activeIndex=e.activeIndex;var a=e.activeIndex+1,n=e.slides.length;if(t.params.loop&&(n-=2,a-=e.loopedSlides,1>a&&(a=n+a),a>n&&(a-=n)),t.container.find(".photo-browser-current").text(a),t.container.find(".photo-browser-total").text(n),s(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive"),e.isBeginning&&!t.params.loop&&s(".photo-browser-prev").addClass("photo-browser-link-inactive"),e.isEnd&&!t.params.loop&&s(".photo-browser-next").addClass("photo-browser-link-inactive"),t.captions.length>0){t.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active");var r=t.params.loop?e.slides.eq(e.activeIndex).attr("data-swiper-slide-index"):t.activeIndex;t.captionsContainer.find('[data-caption-index="'+r+'"]').addClass("photo-browser-caption-active")}var i=e.slides.eq(e.previousIndex).find("video");i.length>0&&"pause"in i[0]&&i[0].pause(),t.params.onTransitionStart&&t.params.onTransitionStart(e)},t.onSliderTransitionEnd=function(e){t.params.zoom&&f&&e.previousIndex!==e.activeIndex&&(m.transform("translate3d(0,0,0) scale(1)"),g.transform("translate3d(0,0,0)"),f=m=g=void 0,v=b=1),t.params.onTransitionEnd&&t.params.onTransitionEnd(e)},t.layout=function(e){"page"===t.params.type?t.container=s(".photo-browser-swiper-container").parents(".view"):t.container=s(".photo-browser"),"standalone"===t.params.type&&(t.container.addClass("photo-browser-in"),i.sizeNavbars(t.container)),t.swiperContainer=t.container.find(".photo-browser-swiper-container"),t.swiperWrapper=t.container.find(".photo-browser-swiper-wrapper"),t.slides=t.container.find(".photo-browser-slide"),t.captionsContainer=t.container.find(".photo-browser-captions"),t.captions=t.container.find(".photo-browser-caption");var a={nextButton:t.params.nextButton||".photo-browser-next",prevButton:t.params.prevButton||".photo-browser-prev",indexButton:t.params.indexButton,initialSlide:e,spaceBetween:t.params.spaceBetween,speed:t.params.speed,loop:t.params.loop,lazyLoading:t.params.lazyLoading,lazyLoadingInPrevNext:t.params.lazyLoadingInPrevNext,lazyLoadingOnTransitionStart:t.params.lazyLoadingOnTransitionStart,preloadImages:t.params.lazyLoading?!1:!0,onTap:function(e,a){t.params.onTap&&t.params.onTap(e,a)},onClick:function(e,a){t.params.exposition&&t.toggleExposition(),t.params.onClick&&t.params.onClick(e,a)},onDoubleTap:function(e,a){t.toggleZoom(a),t.params.onDoubleTap&&t.params.onDoubleTap(e,a)},onTransitionStart:function(e){t.onSliderTransitionStart(e)},onTransitionEnd:function(e){t.onSliderTransitionEnd(e)},onSlideChangeStart:t.params.onSlideChangeStart,onSlideChangeEnd:t.params.onSlideChangeEnd,onLazyImageLoad:function(e,a,n){t.params.onLazyImageLoad&&t.params.onLazyImageLoad(t,a,n)},onLazyImageReady:function(e,a,n){s(a).removeClass("photo-browser-slide-lazy"),t.params.onLazyImageReady&&t.params.onLazyImageReady(t,a,n)}};t.params.swipeToClose&&"page"!==t.params.type&&(a.onTouchStart=t.swipeCloseTouchStart,a.onTouchMoveOpposite=t.swipeCloseTouchMove,a.onTouchEnd=t.swipeCloseTouchEnd),t.swiper=i.swiper(t.swiperContainer,a),0===e&&t.onSliderTransitionStart(t.swiper),t.attachEvents()},t.attachEvents=function(e){var a=e?"off":"on";if(t.params.zoom){var n=t.params.loop?t.swiper.slides:t.slides;n[a]("gesturestart",t.onSlideGestureStart),n[a]("gesturechange",t.onSlideGestureChange),n[a]("gestureend",t.onSlideGestureEnd),n[a](i.touchEvents.start,t.onSlideTouchStart),n[a](i.touchEvents.move,t.onSlideTouchMove),n[a](i.touchEvents.end,t.onSlideTouchEnd)}t.container.find(".photo-browser-close-link")[a]("click",t.close)};t.exposed=!1,t.toggleExposition=function(){t.container&&t.container.toggleClass("photo-browser-exposed"),t.params.expositionHideCaptions&&t.captionsContainer.toggleClass("photo-browser-captions-exposed"),t.exposed=!t.exposed},t.enableExposition=function(){t.container&&t.container.addClass("photo-browser-exposed"),t.params.expositionHideCaptions&&t.captionsContainer.addClass("photo-browser-captions-exposed"),t.exposed=!0},t.disableExposition=function(){t.container&&t.container.removeClass("photo-browser-exposed"),t.params.expositionHideCaptions&&t.captionsContainer.removeClass("photo-browser-captions-exposed"),t.exposed=!1};var f,m,g,v=1,b=1,w=!1;t.onSlideGestureStart=function(e){return f&&f.length||(f=s(this),0===f.length&&(f=t.swiper.slides.eq(t.swiper.activeIndex)),m=f.find("img, svg, canvas"),g=m.parent(".photo-browser-zoom-container"),0!==g.length)?(m.transition(0),void(w=!0)):void(m=void 0)},t.onSlideGestureChange=function(e){m&&0!==m.length&&(v=e.scale*b,v>t.params.maxZoom&&(v=t.params.maxZoom-1+Math.pow(v-t.params.maxZoom+1,.5)),v<t.params.minZoom&&(v=t.params.minZoom+1-Math.pow(t.params.minZoom-v+1,.5)),m.transform("translate3d(0,0,0) scale("+v+")"))},t.onSlideGestureEnd=function(e){m&&0!==m.length&&(v=Math.max(Math.min(v,t.params.maxZoom),t.params.minZoom),m.transition(t.params.speed).transform("translate3d(0,0,0) scale("+v+")"),b=v,w=!1,1===v&&(f=void 0))},t.toggleZoom=function(e){if(f||(f=t.swiper.slides.eq(t.swiper.activeIndex),m=f.find("img, svg, canvas"),g=m.parent(".photo-browser-zoom-container")),m&&0!==m.length){var a,n,r,i,o,s,l,c,p,d,u,h,w,y,C,x;"undefined"==typeof N.x&&e?(a="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,n="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(a=N.x,n=N.y),v&&1!==v?(v=b=1,g.transition(300).transform("translate3d(0,0,0)"),m.transition(300).transform("translate3d(0,0,0) scale(1)"),f=void 0):(v=b=t.params.maxZoom,e?(r=t.container.offset().left,i=t.container.offset().top,o=r+t.container[0].offsetWidth/2-a,s=i+t.container[0].offsetHeight/2-n,p=m[0].offsetWidth,d=m[0].offsetHeight,u=p*v,h=d*v,w=Math.min(t.swiper.width/2-u/2,0),y=Math.min(t.swiper.height/2-h/2,0),C=-w,x=-y,l=o*v,c=s*v,w>l&&(l=w),l>C&&(l=C),y>c&&(c=y),c>x&&(c=x)):(l=0,c=0),g.transition(300).transform("translate3d("+l+"px, "+c+"px,0)"),m.transition(300).transform("translate3d(0,0,0) scale("+v+")"))}};var y,C,x,k,S,T,E,P,_,M,I,L,O,B,A,D,R,N={},z={};t.onSlideTouchStart=function(e){m&&0!==m.length&&(y||("android"===i.device.os&&e.preventDefault(),y=!0,N.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,N.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},t.onSlideTouchMove=function(e){if(m&&0!==m.length&&(t.swiper.allowClick=!1,y&&f)){C||(_=m[0].offsetWidth,M=m[0].offsetHeight,I=s.getTranslate(g[0],"x")||0,L=s.getTranslate(g[0],"y")||0,g.transition(0));var a=_*v,n=M*v;if(!(a<t.swiper.width&&n<t.swiper.height)){if(S=Math.min(t.swiper.width/2-a/2,0),E=-S,T=Math.min(t.swiper.height/2-n/2,0),P=-T,z.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,z.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!C&&!w&&(Math.floor(S)===Math.floor(I)&&z.x<N.x||Math.floor(E)===Math.floor(I)&&z.x>N.x))return void(y=!1);e.preventDefault(),e.stopPropagation(),C=!0,x=z.x-N.x+I,k=z.y-N.y+L,S>x&&(x=S+1-Math.pow(S-x+1,.8)),x>E&&(x=E-1+Math.pow(x-E+1,.8)),T>k&&(k=T+1-Math.pow(T-k+1,.8)),k>P&&(k=P-1+Math.pow(k-P+1,.8)),O||(O=z.x),D||(D=z.y),B||(B=Date.now()),A=(z.x-O)/(Date.now()-B)/2,R=(z.y-D)/(Date.now()-B)/2,Math.abs(z.x-O)<2&&(A=0),Math.abs(z.y-D)<2&&(R=0),O=z.x,D=z.y,B=Date.now(),g.transform("translate3d("+x+"px, "+k+"px,0)")}}},t.onSlideTouchEnd=function(e){if(m&&0!==m.length){if(!y||!C)return y=!1,void(C=!1);y=!1,C=!1;var a=300,n=300,r=A*a,i=x+r,o=R*n,s=k+o;0!==A&&(a=Math.abs((i-x)/A)),0!==R&&(n=Math.abs((s-k)/R));var l=Math.max(a,n);x=i,k=s;var c=_*v,p=M*v;S=Math.min(t.swiper.width/2-c/2,0),E=-S,T=Math.min(t.swiper.height/2-p/2,0),P=-T,x=Math.max(Math.min(x,E),S),k=Math.max(Math.min(k,P),T),g.transition(l).transform("translate3d("+x+"px, "+k+"px,0)")}};var j,H,U,q,F,W=!1,Y=!0,V=!1;return t.swipeCloseTouchStart=function(e,t){Y&&(W=!0)},t.swipeCloseTouchMove=function(e,a){if(W){V||(V=!0,H="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,q=t.swiper.slides.eq(t.swiper.activeIndex),F=(new Date).getTime()),a.preventDefault(),U="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,j=H-U;var n=1-Math.abs(j)/300;q.transform("translate3d(0,"+-j+"px,0)"),t.swiper.container.css("opacity",n).transition(0)}},t.swipeCloseTouchEnd=function(e,a){if(W=!1,!V)return void(V=!1);V=!1,Y=!1;var n=Math.abs(j),r=(new Date).getTime()-F;return 300>r&&n>20||r>=300&&n>100?void setTimeout(function(){"standalone"===t.params.type&&t.close(),"popup"===t.params.type&&i.closeModal(t.popup),t.params.onSwipeToClose&&t.params.onSwipeToClose(t),Y=!0},0):(0!==n?q.addClass("transitioning").transitionEnd(function(){Y=!0,q.removeClass("transitioning")}):Y=!0,t.swiper.container.css("opacity","").transition(""),void q.transform(""))},t};i.photoBrowser=function(e){return new v(e)};var b=function(e){function t(){var e=!1;return c.params.convertToPopover||c.params.onlyInPopover?(!c.inline&&c.params.input&&(c.params.onlyInPopover?e=!0:i.device.ios?e=i.device.ipad?!0:!1:s(window).width()>=768&&(e=!0)),e):e}function a(){return c.opened&&c.container&&c.container.length>0&&c.container.parents(".popover").length>0?!0:!1}function n(){if(c.opened)for(var e=0;e<c.cols.length;e++)c.cols[e].divider||(c.cols[e].calcSize(),c.cols[e].setValue(c.cols[e].value,0,!1))}function r(e){if(e.preventDefault(),!c.opened&&(c.open(),c.params.scrollToInput&&!t())){var a=c.input.parents(".page-content");if(0===a.length)return;var n,r=parseInt(a.css("padding-top"),10),i=parseInt(a.css("padding-bottom"),10),o=a[0].offsetHeight-r-c.container.height(),s=a[0].scrollHeight-r-c.container.height(),l=c.input.offset().top-r+c.input[0].offsetHeight;if(l>o){var p=a.scrollTop()+l-o;p+o>s&&(n=p+o-s+i,o===s&&(n=c.container.height()),a.css({"padding-bottom":n+"px"})),a.scrollTop(p,300)}}}function o(e){a()||(c.input&&c.input.length>0?e.target!==c.input[0]&&0===s(e.target).parents(".picker-modal").length&&c.close():0===s(e.target).parents(".picker-modal").length&&c.close())}function l(){c.opened=!1,c.input&&c.input.length>0&&(c.input.parents(".page-content").css({"padding-bottom":""}),i.params.material&&c.input.trigger("blur")),c.params.onClose&&c.params.onClose(c),c.container.find(".picker-items-col").each(function(){c.destroyPickerCol(this)})}var c=this,p={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,closeByOutsideClick:!0,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,onlyInPopover:!1,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner"><div class="left"></div><div class="right"><a href="#" class="link close-picker">{{closeText}}</a></div></div></div>'};e=e||{};for(var d in p)"undefined"==typeof e[d]&&(e[d]=p[d]);c.params=e,c.cols=[],c.initialized=!1,c.inline=c.params.container?!0:!1;var u=i.device.ios||navigator.userAgent.toLowerCase().indexOf("safari")>=0&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!i.device.android;return c.setValue=function(e,t){var a=0;if(0===c.cols.length)return c.value=e,void c.updateValue(e);for(var n=0;n<c.cols.length;n++)c.cols[n]&&!c.cols[n].divider&&(c.cols[n].setValue(e[a],t),a++)},c.updateValue=function(e){for(var t=e||[],a=[],n=0;n<c.cols.length;n++)c.cols[n].divider||(t.push(c.cols[n].value),a.push(c.cols[n].displayValue));t.indexOf(void 0)>=0||(c.value=t,c.displayValue=a,c.params.onChange&&c.params.onChange(c,c.value,c.displayValue),c.input&&c.input.length>0&&(s(c.input).val(c.params.formatValue?c.params.formatValue(c,c.value,c.displayValue):c.value.join(" ")),s(c.input).trigger("change")))},c.initPickerCol=function(e,t){function a(){w=s.requestAnimationFrame(function(){h.updateItems(void 0,void 0,0),a()})}function n(e){C||y||(e.preventDefault(),y=!0,x=k="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,S=(new Date).getTime(),O=!0,E=_=s.getTranslate(h.wrapper[0],"y"))}function r(e){if(y){e.preventDefault(),O=!1,k="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,C||(s.cancelAnimationFrame(w),C=!0,E=_=s.getTranslate(h.wrapper[0],"y"),h.wrapper.transition(0)),e.preventDefault();var t=k-x;_=E+t,P=void 0,v>_&&(_=v-Math.pow(v-_,.8),P="min"),_>b&&(_=b+Math.pow(_-b,.8),P="max"),h.wrapper.transform("translate3d(0,"+_+"px,0)"),h.updateItems(void 0,_,0,c.params.updateValuesOnTouchmove),I=_-M||_,L=(new Date).getTime(),M=_}}function o(e){if(!y||!C)return void(y=C=!1);y=C=!1,h.wrapper.transition(""),P&&("min"===P?h.wrapper.transform("translate3d(0,"+v+"px,0)"):h.wrapper.transform("translate3d(0,"+b+"px,0)")),T=(new Date).getTime();var t,n;T-S>300?n=_:(t=Math.abs(I/(T-L)),n=_+I*c.params.momentumRatio),n=Math.max(Math.min(n,b),v);var r=-Math.floor((n-b)/m);c.params.freeMode||(n=-r*m+b),h.wrapper.transform("translate3d(0,"+parseInt(n,10)+"px,0)"),h.updateItems(r,n,"",!0),c.params.updateValuesOnMomentum&&(a(),h.wrapper.transitionEnd(function(){s.cancelAnimationFrame(w)})),setTimeout(function(){O=!0},100)}function l(e){if(O){s.cancelAnimationFrame(w);var t=s(this).attr("data-picker-value");h.setValue(t)}}var p=s(e),d=p.index(),h=c.cols[d];if(!h.divider){h.container=p,h.wrapper=h.container.find(".picker-items-col-wrapper"),h.items=h.wrapper.find(".picker-item");var f,m,g,v,b;h.replaceValues=function(e,t){h.destroyEvents(),h.values=e,h.displayValues=t;var a=c.columnHTML(h,!0);h.wrapper.html(a),h.items=h.wrapper.find(".picker-item"),h.calcSize(),h.setValue(h.values[0],0,!0),h.initEvents()},h.calcSize=function(){c.params.rotateEffect&&(h.container.removeClass("picker-items-col-absolute"),h.width||h.container.css({width:""}));var e,t;e=0,t=h.container[0].offsetHeight,f=h.wrapper[0].offsetHeight,m=h.items[0].offsetHeight,g=m*h.items.length,v=t/2-g+m/2,b=t/2-m/2,h.width&&(e=h.width,parseInt(e,10)===e&&(e+="px"),h.container.css({width:e})),c.params.rotateEffect&&(h.width||(h.items.each(function(){var t=s(this);t.css({width:"auto"}),e=Math.max(e,t[0].offsetWidth),t.css({width:""})}),h.container.css({width:e+2+"px"})),h.container.addClass("picker-items-col-absolute"))},h.calcSize(),h.wrapper.transform("translate3d(0,"+b+"px,0)").transition(0);var w;h.setValue=function(e,t,n){"undefined"==typeof t&&(t="");var r=h.wrapper.find('.picker-item[data-picker-value="'+e+'"]').index();if("undefined"!=typeof r&&-1!==r){var i=-r*m+b;h.wrapper.transition(t),h.wrapper.transform("translate3d(0,"+i+"px,0)"),c.params.updateValuesOnMomentum&&h.activeIndex&&h.activeIndex!==r&&(s.cancelAnimationFrame(w),h.wrapper.transitionEnd(function(){s.cancelAnimationFrame(w)}),a()),h.updateItems(r,i,t,n)}},h.updateItems=function(e,t,a,n){"undefined"==typeof t&&(t=s.getTranslate(h.wrapper[0],"y")),"undefined"==typeof e&&(e=-Math.round((t-b)/m)),0>e&&(e=0),e>=h.items.length&&(e=h.items.length-1);var r=h.activeIndex;h.activeIndex=e,h.wrapper.find(".picker-selected").removeClass("picker-selected"),h.items.transition(a);var i=h.items.eq(e).addClass("picker-selected").transform("");if(c.params.rotateEffect){(t-(Math.floor((t-b)/m)*m+b))/m;h.items.each(function(){var e=s(this),a=e.index()*m,n=b-t,r=a-n,i=r/m,o=Math.ceil(h.height/m/2)+1,l=-18*i;l>180&&(l=180),-180>l&&(l=-180),Math.abs(i)>o?e.addClass("picker-item-far"):e.removeClass("picker-item-far"),e.transform("translate3d(0, "+(-t+b)+"px, "+(u?-110:0)+"px) rotateX("+l+"deg)")})}(n||"undefined"==typeof n)&&(h.value=i.attr("data-picker-value"),h.displayValue=h.displayValues?h.displayValues[e]:h.value,r!==e&&(h.onChange&&h.onChange(c,h.value,h.displayValue),c.updateValue()))},t&&h.updateItems(0,b,0);var y,C,x,k,S,T,E,P,_,M,I,L,O=!0;h.initEvents=function(e){
var t=e?"off":"on";h.container[t](i.touchEvents.start,n),h.container[t](i.touchEvents.move,r),h.container[t](i.touchEvents.end,o),h.items[t]("click",l)},h.destroyEvents=function(){h.initEvents(!0)},h.container[0].f7DestroyPickerCol=function(){h.destroyEvents()},h.initEvents()}},c.destroyPickerCol=function(e){e=s(e),"f7DestroyPickerCol"in e[0]&&e[0].f7DestroyPickerCol()},s(window).on("resize",n),c.columnHTML=function(e,t){var a="",n="";if(e.divider)n+='<div class="picker-items-col picker-items-col-divider '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'">'+e.content+"</div>";else{for(var r=0;r<e.values.length;r++)a+='<div class="picker-item" data-picker-value="'+e.values[r]+'">'+(e.displayValues?e.displayValues[r]:e.values[r])+"</div>";n+='<div class="picker-items-col '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'"><div class="picker-items-col-wrapper">'+a+"</div></div>"}return t?a:n},c.layout=function(){var e,t="",a="";c.cols=[];var n="";for(e=0;e<c.params.cols.length;e++){var r=c.params.cols[e];n+=c.columnHTML(c.params.cols[e]),c.cols.push(r)}a="picker-modal picker-columns "+(c.params.cssClass||"")+(c.params.rotateEffect?" picker-3d":""),t='<div class="'+a+'">'+(c.params.toolbar?c.params.toolbarTemplate.replace(/{{closeText}}/g,c.params.toolbarCloseText):"")+'<div class="picker-modal-inner picker-items">'+n+'<div class="picker-center-highlight"></div></div></div>',c.pickerHTML=t},c.params.input&&(c.input=s(c.params.input),c.input.length>0&&(c.params.inputReadOnly&&c.input.prop("readOnly",!0),c.inline||c.input.on("click",r),c.params.inputReadOnly&&c.input.on("focus mousedown",function(e){e.preventDefault()}))),!c.inline&&c.params.closeByOutsideClick&&s("html").on("click",o),c.opened=!1,c.open=function(){var e=t();c.opened||(c.layout(),e?(c.pickerHTML='<div class="popover popover-picker-columns"><div class="popover-inner">'+c.pickerHTML+"</div></div>",c.popover=i.popover(c.pickerHTML,c.params.input,!0),c.container=s(c.popover).find(".picker-modal"),s(c.popover).on("close",function(){l()})):c.inline?(c.container=s(c.pickerHTML),c.container.addClass("picker-modal-inline"),s(c.params.container).append(c.container)):(c.container=s(i.pickerModal(c.pickerHTML)),s(c.container).on("close",function(){l()})),c.container[0].f7Picker=c,c.container.find(".picker-items-col").each(function(){var e=!0;(!c.initialized&&c.params.value||c.initialized&&c.value)&&(e=!1),c.initPickerCol(this,e)}),c.initialized?c.value&&c.setValue(c.value,0):c.value?c.setValue(c.value,0):c.params.value&&c.setValue(c.params.value,0),c.input&&c.input.length>0&&i.params.material&&c.input.trigger("focus")),c.opened=!0,c.initialized=!0,c.params.onOpen&&c.params.onOpen(c)},c.close=function(){return c.opened&&!c.inline?a()?void i.closeModal(c.popover):void i.closeModal(c.container):void 0},c.destroy=function(){c.close(),c.params.input&&c.input.length>0&&c.input.off("click focus",r),s("html").off("click",o),s(window).off("resize",n)},c.inline?c.open():!c.initialized&&c.params.value&&c.setValue(c.params.value),c};i.picker=function(e){return new b(e)};var w=function(e){function t(){var e=!1;return c.params.convertToPopover||c.params.onlyInPopover?(!c.inline&&c.params.input&&(c.params.onlyInPopover?e=!0:i.device.ios?e=i.device.ipad?!0:!1:s(window).width()>=768&&(e=!0)),e):e}function a(){return c.opened&&c.container&&c.container.length>0&&c.container.parents(".popover").length>0?!0:!1}function n(e){e=new Date(e);var t=e.getFullYear(),a=e.getMonth(),n=a+1,r=e.getDate(),i=e.getDay();return c.params.dateFormat.replace(/yyyy/g,t).replace(/yy/g,(t+"").substring(2)).replace(/mm/g,10>n?"0"+n:n).replace(/m(\W+)/g,n+"$1").replace(/MM/g,c.params.monthNames[a]).replace(/M(\W+)/g,c.params.monthNamesShort[a]+"$1").replace(/dd/g,10>r?"0"+r:r).replace(/d(\W+)/g,r+"$1").replace(/DD/g,c.params.dayNames[i]).replace(/D(\W+)/g,c.params.dayNamesShort[i]+"$1")}function r(e){if(e.preventDefault(),!c.opened&&(c.open(),c.params.scrollToInput&&!t()&&!i.params.material)){var a=c.input.parents(".page-content");if(0===a.length)return;var n,r=parseInt(a.css("padding-top"),10),o=parseInt(a.css("padding-bottom"),10),s=a[0].offsetHeight-r-c.container.height(),l=a[0].scrollHeight-r-c.container.height(),p=c.input.offset().top-r+c.input[0].offsetHeight;if(p>s){var d=a.scrollTop()+p-s;d+s>l&&(n=d+s-l+o,s===l&&(n=c.container.height()),a.css({"padding-bottom":n+"px"})),a.scrollTop(d,300)}}}function o(e){a()||(c.input&&c.input.length>0?e.target!==c.input[0]&&0===s(e.target).parents(".picker-modal").length&&c.close():0===s(e.target).parents(".picker-modal").length&&c.close())}function l(){c.opened=!1,c.input&&c.input.length>0&&(c.input.parents(".page-content").css({"padding-bottom":""}),i.params.material&&c.input.trigger("blur")),c.params.onClose&&c.params.onClose(c),c.destroyCalendarEvents()}var c=this,p={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDay:1,weekendDays:[0,6],multiple:!1,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,touchMove:!0,animate:!0,closeOnSelect:!1,monthPicker:!0,monthPickerTemplate:'<div class="picker-calendar-month-picker"><a href="#" class="link icon-only picker-calendar-prev-month"><i class="icon icon-prev"></i></a><span class="current-month-value"></span><a href="#" class="link icon-only picker-calendar-next-month"><i class="icon icon-next"></i></a></div>',yearPicker:!0,yearPickerTemplate:'<div class="picker-calendar-year-picker"><a href="#" class="link icon-only picker-calendar-prev-year"><i class="icon icon-prev"></i></a><span class="current-year-value"></span><a href="#" class="link icon-only picker-calendar-next-year"><i class="icon icon-next"></i></a></div>',weekHeader:!0,closeByOutsideClick:!0,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,onlyInPopover:!1,toolbar:!0,toolbarCloseText:"Done",headerPlaceholder:"Select date",header:i.params.material,footer:i.params.material,toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner">{{monthPicker}}{{yearPicker}}</div></div>',headerTemplate:'<div class="picker-header"><div class="picker-calendar-selected-date">{{placeholder}}</div></div>',footerTemplate:'<div class="picker-footer"><a href="#" class="button close-picker">{{closeText}}</a></div>'};e=e||{};for(var d in p)"undefined"==typeof e[d]&&(e[d]=p[d]);c.params=e,c.initialized=!1,c.inline=c.params.container?!0:!1,c.isH="horizontal"===c.params.direction;var u=c.isH&&i.rtl?-1:1;return c.animating=!1,c.addValue=function(e){if(c.params.multiple){c.value||(c.value=[]);for(var t,a=0;a<c.value.length;a++)new Date(e).getTime()===new Date(c.value[a]).getTime()&&(t=a);"undefined"==typeof t?c.value.push(e):c.value.splice(t,1),c.updateValue()}else c.value=[e],c.updateValue()},c.setValue=function(e){c.value=e,c.updateValue()},c.updateValue=function(e){c.wrapper.find(".picker-calendar-day-selected").removeClass("picker-calendar-day-selected");var t,a;for(t=0;t<c.value.length;t++){var r=new Date(c.value[t]);c.wrapper.find('.picker-calendar-day[data-date="'+r.getFullYear()+"-"+r.getMonth()+"-"+r.getDate()+'"]').addClass("picker-calendar-day-selected")}if(c.params.onChange&&c.params.onChange(c,c.value),c.input&&c.input.length>0||i.params.material&&c.params.header){if(c.params.formatValue)a=c.params.formatValue(c,c.value);else{for(a=[],t=0;t<c.value.length;t++)a.push(n(c.value[t]));a=a.join(", ")}i.params.material&&c.params.header&&c.container.find(".picker-calendar-selected-date").text(a),c.input&&c.input.length>0&&!e&&(s(c.input).val(a),s(c.input).trigger("change"))}},c.initCalendarEvents=function(){function e(e){o||r||(r=!0,l=h="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,p=h="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,f=(new Date).getTime(),y=0,k=!0,x=void 0,g=v=c.monthsTranslate)}function t(e){if(r){if(d="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,h="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof x&&(x=!!(x||Math.abs(h-p)>Math.abs(d-l))),c.isH&&x)return void(r=!1);if(e.preventDefault(),c.animating)return void(r=!1);k=!1,o||(o=!0,b=c.wrapper[0].offsetWidth,w=c.wrapper[0].offsetHeight,c.wrapper.transition(0)),e.preventDefault(),C=c.isH?d-l:h-p,y=C/(c.isH?b:w),v=100*(c.monthsTranslate*u+y),c.wrapper.transform("translate3d("+(c.isH?v:0)+"%, "+(c.isH?0:v)+"%, 0)")}}function a(e){return r&&o?(r=o=!1,m=(new Date).getTime(),300>m-f?Math.abs(C)<10?c.resetMonth():C>=10?i.rtl?c.nextMonth():c.prevMonth():i.rtl?c.prevMonth():c.nextMonth():-.5>=y?i.rtl?c.prevMonth():c.nextMonth():y>=.5?i.rtl?c.nextMonth():c.prevMonth():c.resetMonth(),void setTimeout(function(){k=!0},100)):void(r=o=!1)}function n(e){if(k){var t=s(e.target).parents(".picker-calendar-day");if(0===t.length&&s(e.target).hasClass("picker-calendar-day")&&(t=s(e.target)),0!==t.length&&(!t.hasClass("picker-calendar-day-selected")||c.params.multiple)&&!t.hasClass("picker-calendar-day-disabled")){t.hasClass("picker-calendar-day-next")&&c.nextMonth(),t.hasClass("picker-calendar-day-prev")&&c.prevMonth();var a=t.attr("data-year"),n=t.attr("data-month"),r=t.attr("data-day");c.params.onDayClick&&c.params.onDayClick(c,t[0],a,n,r),c.addValue(new Date(a,n,r).getTime()),c.params.closeOnSelect&&c.close()}}}var r,o,l,p,d,h,f,m,g,v,b,w,y,C,x,k=!0;c.container.find(".picker-calendar-prev-month").on("click",c.prevMonth),c.container.find(".picker-calendar-next-month").on("click",c.nextMonth),c.container.find(".picker-calendar-prev-year").on("click",c.prevYear),c.container.find(".picker-calendar-next-year").on("click",c.nextYear),c.wrapper.on("click",n),c.params.touchMove&&(c.wrapper.on(i.touchEvents.start,e),c.wrapper.on(i.touchEvents.move,t),c.wrapper.on(i.touchEvents.end,a)),c.container[0].f7DestroyCalendarEvents=function(){c.container.find(".picker-calendar-prev-month").off("click",c.prevMonth),c.container.find(".picker-calendar-next-month").off("click",c.nextMonth),c.container.find(".picker-calendar-prev-year").off("click",c.prevYear),c.container.find(".picker-calendar-next-year").off("click",c.nextYear),c.wrapper.off("click",n),c.params.touchMove&&(c.wrapper.off(i.touchEvents.start,e),c.wrapper.off(i.touchEvents.move,t),c.wrapper.off(i.touchEvents.end,a))}},c.destroyCalendarEvents=function(e){"f7DestroyCalendarEvents"in c.container[0]&&c.container[0].f7DestroyCalendarEvents()},c.daysInMonth=function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},c.monthHTML=function(e,t){e=new Date(e);var a=e.getFullYear(),n=e.getMonth();e.getDate();"next"===t&&(e=11===n?new Date(a+1,0):new Date(a,n+1,1)),"prev"===t&&(e=0===n?new Date(a-1,11):new Date(a,n-1,1)),("next"===t||"prev"===t)&&(n=e.getMonth(),a=e.getFullYear());var r=c.daysInMonth(new Date(e.getFullYear(),e.getMonth()).getTime()-864e6),i=c.daysInMonth(e),o=new Date(e.getFullYear(),e.getMonth()).getDay();0===o&&(o=7);var s,l,p,d=[],u=6,h=7,f="",m=0+(c.params.firstDay-1),g=(new Date).setHours(0,0,0,0),v=c.params.minDate?new Date(c.params.minDate).getTime():null,b=c.params.maxDate?new Date(c.params.maxDate).getTime():null;if(c.value&&c.value.length)for(l=0;l<c.value.length;l++)d.push(new Date(c.value[l]).setHours(0,0,0,0));for(l=1;u>=l;l++){var w="";for(p=1;h>=p;p++){var y=p;m++;var C=m-o,x=y-1+c.params.firstDay>6?y-1-7+c.params.firstDay:y-1+c.params.firstDay,k="";0>C?(C=r+C+1,k+=" picker-calendar-day-prev",s=new Date(0>n-1?a-1:a,0>n-1?11:n-1,C).getTime()):(C+=1,C>i?(C-=i,k+=" picker-calendar-day-next",s=new Date(n+1>11?a+1:a,n+1>11?0:n+1,C).getTime()):s=new Date(a,n,C).getTime()),s===g&&(k+=" picker-calendar-day-today"),d.indexOf(s)>=0&&(k+=" picker-calendar-day-selected"),c.params.weekendDays.indexOf(x)>=0&&(k+=" picker-calendar-day-weekend"),(v&&v>s||b&&s>b)&&(k+=" picker-calendar-day-disabled"),s=new Date(s);var S=s.getFullYear(),T=s.getMonth();w+='<div data-year="'+S+'" data-month="'+T+'" data-day="'+C+'" class="picker-calendar-day'+k+'" data-date="'+(S+"-"+T+"-"+C)+'"><span>'+C+"</span></div>"}f+='<div class="picker-calendar-row">'+w+"</div>"}return f='<div class="picker-calendar-month" data-year="'+a+'" data-month="'+n+'">'+f+"</div>"},c.animating=!1,c.updateCurrentMonthYear=function(e){"undefined"==typeof e?(c.currentMonth=parseInt(c.months.eq(1).attr("data-month"),10),c.currentYear=parseInt(c.months.eq(1).attr("data-year"),10)):(c.currentMonth=parseInt(c.months.eq("next"===e?c.months.length-1:0).attr("data-month"),10),c.currentYear=parseInt(c.months.eq("next"===e?c.months.length-1:0).attr("data-year"),10)),c.container.find(".current-month-value").text(c.params.monthNames[c.currentMonth]),c.container.find(".current-year-value").text(c.currentYear)},c.onMonthChangeStart=function(e){c.updateCurrentMonthYear(e),c.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t="next"===e?c.months.length-1:0;c.months.eq(t).addClass("picker-calendar-month-current"),c.months.eq("next"===e?t-1:t+1).addClass("next"===e?"picker-calendar-month-prev":"picker-calendar-month-next"),c.params.onMonthYearChangeStart&&c.params.onMonthYearChangeStart(c,c.currentYear,c.currentMonth)},c.onMonthChangeEnd=function(e,t){c.animating=!1;var a,n,r;c.wrapper.find(".picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)").remove(),"undefined"==typeof e&&(e="next",t=!0),t?(c.wrapper.find(".picker-calendar-month-next, .picker-calendar-month-prev").remove(),n=c.monthHTML(new Date(c.currentYear,c.currentMonth),"prev"),a=c.monthHTML(new Date(c.currentYear,c.currentMonth),"next")):r=c.monthHTML(new Date(c.currentYear,c.currentMonth),e),("next"===e||t)&&c.wrapper.append(r||a),("prev"===e||t)&&c.wrapper.prepend(r||n),c.months=c.wrapper.find(".picker-calendar-month"),c.setMonthsTranslate(c.monthsTranslate),c.params.onMonthAdd&&c.params.onMonthAdd(c,"next"===e?c.months.eq(c.months.length-1)[0]:c.months.eq(0)[0]),c.params.onMonthYearChangeEnd&&c.params.onMonthYearChangeEnd(c,c.currentYear,c.currentMonth)},c.setMonthsTranslate=function(e){e=e||c.monthsTranslate||0,"undefined"==typeof c.monthsTranslate&&(c.monthsTranslate=e),c.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t=100*-(e+1)*u,a=100*-e*u,n=100*-(e-1)*u;c.months.eq(0).transform("translate3d("+(c.isH?t:0)+"%, "+(c.isH?0:t)+"%, 0)").addClass("picker-calendar-month-prev"),c.months.eq(1).transform("translate3d("+(c.isH?a:0)+"%, "+(c.isH?0:a)+"%, 0)").addClass("picker-calendar-month-current"),c.months.eq(2).transform("translate3d("+(c.isH?n:0)+"%, "+(c.isH?0:n)+"%, 0)").addClass("picker-calendar-month-next")},c.nextMonth=function(e){("undefined"==typeof e||"object"==typeof e)&&(e="",c.params.animate||(e=0));var t=parseInt(c.months.eq(c.months.length-1).attr("data-month"),10),a=parseInt(c.months.eq(c.months.length-1).attr("data-year"),10),n=new Date(a,t),r=n.getTime(),i=c.animating?!1:!0;if(c.params.maxDate&&r>new Date(c.params.maxDate).getTime())return c.resetMonth();if(c.monthsTranslate--,t===c.currentMonth){var o=100*-c.monthsTranslate*u,l=s(c.monthHTML(r,"next")).transform("translate3d("+(c.isH?o:0)+"%, "+(c.isH?0:o)+"%, 0)").addClass("picker-calendar-month-next");c.wrapper.append(l[0]),c.months=c.wrapper.find(".picker-calendar-month"),c.params.onMonthAdd&&c.params.onMonthAdd(c,c.months.eq(c.months.length-1)[0])}c.animating=!0,c.onMonthChangeStart("next");var p=100*c.monthsTranslate*u;c.wrapper.transition(e).transform("translate3d("+(c.isH?p:0)+"%, "+(c.isH?0:p)+"%, 0)"),i&&c.wrapper.transitionEnd(function(){c.onMonthChangeEnd("next")}),c.params.animate||c.onMonthChangeEnd("next")},c.prevMonth=function(e){("undefined"==typeof e||"object"==typeof e)&&(e="",c.params.animate||(e=0));var t=parseInt(c.months.eq(0).attr("data-month"),10),a=parseInt(c.months.eq(0).attr("data-year"),10),n=new Date(a,t+1,-1),r=n.getTime(),i=c.animating?!1:!0;if(c.params.minDate&&r<new Date(c.params.minDate).getTime())return c.resetMonth();if(c.monthsTranslate++,t===c.currentMonth){var o=100*-c.monthsTranslate*u,l=s(c.monthHTML(r,"prev")).transform("translate3d("+(c.isH?o:0)+"%, "+(c.isH?0:o)+"%, 0)").addClass("picker-calendar-month-prev");c.wrapper.prepend(l[0]),c.months=c.wrapper.find(".picker-calendar-month"),c.params.onMonthAdd&&c.params.onMonthAdd(c,c.months.eq(0)[0])}c.animating=!0,c.onMonthChangeStart("prev");var p=100*c.monthsTranslate*u;c.wrapper.transition(e).transform("translate3d("+(c.isH?p:0)+"%, "+(c.isH?0:p)+"%, 0)"),i&&c.wrapper.transitionEnd(function(){c.onMonthChangeEnd("prev")}),c.params.animate||c.onMonthChangeEnd("prev")},c.resetMonth=function(e){"undefined"==typeof e&&(e="");var t=100*c.monthsTranslate*u;c.wrapper.transition(e).transform("translate3d("+(c.isH?t:0)+"%, "+(c.isH?0:t)+"%, 0)")},c.setYearMonth=function(e,t,a){"undefined"==typeof e&&(e=c.currentYear),"undefined"==typeof t&&(t=c.currentMonth),("undefined"==typeof a||"object"==typeof a)&&(a="",c.params.animate||(a=0));var n;if(n=e<c.currentYear?new Date(e,t+1,-1).getTime():new Date(e,t).getTime(),c.params.maxDate&&n>new Date(c.params.maxDate).getTime())return!1;if(c.params.minDate&&n<new Date(c.params.minDate).getTime())return!1;var r=new Date(c.currentYear,c.currentMonth).getTime(),i=n>r?"next":"prev",o=c.monthHTML(new Date(e,t));c.monthsTranslate=c.monthsTranslate||0;var s,l,p=c.monthsTranslate,d=c.animating?!1:!0;n>r?(c.monthsTranslate--,c.animating||c.months.eq(c.months.length-1).remove(),c.wrapper.append(o),c.months=c.wrapper.find(".picker-calendar-month"),s=100*-(p-1)*u,c.months.eq(c.months.length-1).transform("translate3d("+(c.isH?s:0)+"%, "+(c.isH?0:s)+"%, 0)").addClass("picker-calendar-month-next")):(c.monthsTranslate++,c.animating||c.months.eq(0).remove(),c.wrapper.prepend(o),c.months=c.wrapper.find(".picker-calendar-month"),s=100*-(p+1)*u,c.months.eq(0).transform("translate3d("+(c.isH?s:0)+"%, "+(c.isH?0:s)+"%, 0)").addClass("picker-calendar-month-prev")),c.params.onMonthAdd&&c.params.onMonthAdd(c,"next"===i?c.months.eq(c.months.length-1)[0]:c.months.eq(0)[0]),c.animating=!0,c.onMonthChangeStart(i),l=100*c.monthsTranslate*u,c.wrapper.transition(a).transform("translate3d("+(c.isH?l:0)+"%, "+(c.isH?0:l)+"%, 0)"),d&&c.wrapper.transitionEnd(function(){c.onMonthChangeEnd(i,!0)}),c.params.animate||c.onMonthChangeEnd(i)},c.nextYear=function(){c.setYearMonth(c.currentYear+1)},c.prevYear=function(){c.setYearMonth(c.currentYear-1)},c.layout=function(){var e,t="",a="",n=c.value&&c.value.length?c.value[0]:(new Date).setHours(0,0,0,0),r=c.monthHTML(n,"prev"),i=c.monthHTML(n),o=c.monthHTML(n,"next"),s='<div class="picker-calendar-months"><div class="picker-calendar-months-wrapper">'+(r+i+o)+"</div></div>",l="";if(c.params.weekHeader){for(e=0;7>e;e++){var p=e+c.params.firstDay>6?e-7+c.params.firstDay:e+c.params.firstDay,d=c.params.dayNamesShort[p];l+='<div class="picker-calendar-week-day '+(c.params.weekendDays.indexOf(p)>=0?"picker-calendar-week-day-weekend":"")+'"> '+d+"</div>"}l='<div class="picker-calendar-week-days">'+l+"</div>"}a="picker-modal picker-calendar "+(c.params.cssClass||"");var u=c.params.toolbar?c.params.toolbarTemplate.replace(/{{closeText}}/g,c.params.toolbarCloseText):"";c.params.toolbar&&(u=c.params.toolbarTemplate.replace(/{{closeText}}/g,c.params.toolbarCloseText).replace(/{{monthPicker}}/g,c.params.monthPicker?c.params.monthPickerTemplate:"").replace(/{{yearPicker}}/g,c.params.yearPicker?c.params.yearPickerTemplate:""));var h=c.params.header?c.params.headerTemplate.replace(/{{closeText}}/g,c.params.toolbarCloseText).replace(/{{placeholder}}/g,c.params.headerPlaceholder):"",f=c.params.footer?c.params.footerTemplate.replace(/{{closeText}}/g,c.params.toolbarCloseText):"";t='<div class="'+a+'">'+h+f+u+'<div class="picker-modal-inner">'+l+s+"</div></div>",c.pickerHTML=t},c.params.input&&(c.input=s(c.params.input),c.input.length>0&&(c.params.inputReadOnly&&c.input.prop("readOnly",!0),c.inline||c.input.on("click",r),c.params.inputReadOnly&&c.input.on("focus mousedown",function(e){e.preventDefault()}))),!c.inline&&c.params.closeByOutsideClick&&s("html").on("click",o),c.opened=!1,c.open=function(){var e=t(),a=!1;c.opened||(c.value||c.params.value&&(c.value=c.params.value,a=!0),c.layout(),e?(c.pickerHTML='<div class="popover popover-picker-calendar"><div class="popover-inner">'+c.pickerHTML+"</div></div>",c.popover=i.popover(c.pickerHTML,c.params.input,!0),c.container=s(c.popover).find(".picker-modal"),s(c.popover).on("close",function(){l()})):c.inline?(c.container=s(c.pickerHTML),c.container.addClass("picker-modal-inline"),s(c.params.container).append(c.container)):(c.container=s(i.pickerModal(c.pickerHTML)),s(c.container).on("close",function(){l()})),c.container[0].f7Calendar=c,c.wrapper=c.container.find(".picker-calendar-months-wrapper"),c.months=c.wrapper.find(".picker-calendar-month"),c.updateCurrentMonthYear(),c.monthsTranslate=0,c.setMonthsTranslate(),c.initCalendarEvents(),a?c.updateValue():i.params.material&&c.value&&c.updateValue(!0),c.input&&c.input.length>0&&i.params.material&&c.input.trigger("focus")),c.opened=!0,c.initialized=!0,c.params.onMonthAdd&&c.months.each(function(){c.params.onMonthAdd(c,this)}),c.params.onOpen&&c.params.onOpen(c)},c.close=function(){return c.opened&&!c.inline?a()?void i.closeModal(c.popover):void i.closeModal(c.container):void 0},c.destroy=function(){c.close(),c.params.input&&c.input.length>0&&c.input.off("click focus",r),s("html").off("click",o)},c.inline&&c.open(),c};i.calendar=function(e){return new w(e)};var y;i.addNotification=function(e){if(e){"undefined"==typeof e.media&&(e.media=i.params.notificationMedia),"undefined"==typeof e.title&&(e.title=i.params.notificationTitle),"undefined"==typeof e.subtitle&&(e.subtitle=i.params.notificationSubtitle),"undefined"==typeof e.closeIcon&&(e.closeIcon=i.params.notificationCloseIcon),"undefined"==typeof e.hold&&(e.hold=i.params.notificationHold),"undefined"==typeof e.closeOnClick&&(e.closeOnClick=i.params.notificationCloseOnClick),"undefined"==typeof e.button&&(e.button=i.params.notificationCloseButtonText&&{text:i.params.notificationCloseButtonText,close:!0}),y||(y=document.createElement("div")),e.material=i.params.material;var t=s(".notifications");0===t.length&&(s("body").append('<div class="notifications list-block'+(e.material?"":" media-list")+'"><ul></ul></div>'),t=s(".notifications"));var a=t.children("ul"),n=i.params.notificationTemplate||'{{#if custom}}<li>{{custom}}</li>{{else}}<li class="notification-item notification-hidden"><div class="item-content">{{#if material}}<div class="item-inner"><div class="item-title">{{js "this.message || this.title || this.subtitle"}}</div>{{#if ../button}}{{#button}}<div class="item-after"><a href="#" class="button {{#if color}}color-{{color}}{{/if}} {{#js_compare "this.close !== false"}}close-notification{{/js_compare}}">{{text}}</a></div>{{/button}}{{/if}}</div>{{else}}{{#if media}}<div class="item-media">{{media}}</div>{{/if}}<div class="item-inner"><div class="item-title-row">{{#if title}}<div class="item-title">{{title}}</div>{{/if}}{{#if closeIcon}}<div class="item-after"><a href="#" class="close-notification"><span></span></a></div>{{/if}}</div>{{#if subtitle}}<div class="item-subtitle">{{subtitle}}</div>{{/if}}{{#if message}}<div class="item-text">{{message}}</div></div>{{/if}}{{/if}}</div></li>{{/if}}';i._compiledTemplates.notification||(i._compiledTemplates.notification=l.compile(n)),y.innerHTML=i._compiledTemplates.notification(e);var r=s(y).children();r.on("click",function(t){var a=!1,n=s(t.target);e.material&&n.hasClass("button")&&e.button&&e.button.onClick&&e.button.onClick.call(n[0],t,r[0]),n.is(".close-notification")||s(t.target).parents(".close-notification").length>0?a=!0:(e.onClick&&e.onClick(t,r[0]),e.closeOnClick&&(a=!0)),a&&i.closeNotification(r[0])}),e.onClose&&r.data("f7NotificationOnClose",function(){e.onClose(r[0])}),e.additionalClass&&r.addClass(e.additionalClass),e.hold&&setTimeout(function(){r.length>0&&i.closeNotification(r[0])},e.hold),a[e.material?"append":"prepend"](r[0]),t.show();var o,c=r.outerHeight();return e.material?(t.transform("translate3d(0, "+c+"px, 0)"),t.transition(0),o=r[0].clientLeft,t.transform("translate3d(0, 0, 0)"),t.transition("")):(r.css("marginTop",-c+"px"),r.transition(0),o=r[0].clientLeft,r.transition(""),r.css("marginTop","0px")),t.transform("translate3d(0, 0,0)"),r.removeClass("notification-hidden"),r[0]}},i.closeNotification=function(e){if(e=s(e),0!==e.length&&!e.hasClass("notification-item-removing")){var t=s(".notifications"),a=e.outerHeight();e.css("height",a+"px").transition(0);e[0].clientLeft;e.css("height","0px").transition("").addClass("notification-item-removing"),e.data("f7NotificationOnClose")&&e.data("f7NotificationOnClose")(),0===t.find(".notification-item:not(.notification-item-removing)").length&&t.transform(""),e.addClass("notification-hidden").transitionEnd(function(){e.remove(),0===t.find(".notification-item").length&&t.hide()})}},i.initTemplate7Templates=function(){window.Template7&&(Template7.templates=Template7.templates||i.params.templates||{},Template7.data=Template7.data||i.params.template7Data||{},Template7.cache=Template7.cache||{},i.templates=Template7.templates,i.template7Data=Template7.data,i.template7Cache=Template7.cache,i.params.precompileTemplates&&s('script[type="text/template7"]').each(function(){var e=s(this).attr("id");e&&(Template7.templates[e]=Template7.compile(s(this).html()))}))};var C=[];return i.initPlugins=function(){for(var e in i.plugins){var t=i.plugins[e](i,i.params[e]);t&&C.push(t)}},i.pluginHook=function(e){for(var t=0;t<C.length;t++)C[t].hooks&&e in C[t].hooks&&C[t].hooks[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},i.pluginPrevent=function(e){for(var t=!1,a=0;a<C.length;a++)C[a].prevents&&e in C[a].prevents&&C[a].prevents[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])&&(t=!0);return t},i.pluginProcess=function(e,t){for(var a=t,n=0;n<C.length;n++)C[n].preprocess&&e in C[n].preprocess&&(a=C[n].preprocess[e](t,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]));return a},i.init=function(){i.initTemplate7Templates&&i.initTemplate7Templates(),i.initPlugins&&i.initPlugins(),i.getDeviceInfo&&i.getDeviceInfo(),i.initFastClicks&&i.params.fastClicks&&i.initFastClicks(),i.initClickEvents&&i.initClickEvents(),s(".page:not(.cached)").each(function(){i.initPageWithCallback(this)}),s(".navbar:not(.cached)").each(function(){i.initNavbarWithCallback(this)}),i.initResize&&i.initResize(),i.initPushState&&i.params.pushState&&i.initPushState(),i.initSwipeout&&i.params.swipeout&&i.initSwipeout(),i.initSortable&&i.params.sortable&&i.initSortable(),i.initSwipePanels&&(i.params.swipePanel||i.params.swipePanelOnlyClose)&&i.initSwipePanels(),i.params.material&&i.initMaterialWatchInputs&&i.initMaterialWatchInputs(),i.params.onAppInit&&i.params.onAppInit(),i.pluginHook("appInit")},i.params.init&&i.init(),i};var e=function(){var e=function(e){var t=this,a=0;for(a=0;a<e.length;a++)t[a]=e[a];return t.length=e.length,this},t=function(t,a){var n=[],r=0;if(t&&!a&&t instanceof e)return t;if(t)if("string"==typeof t){var i,o,s=t.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var l="div";for(0===s.indexOf("<li")&&(l="ul"),0===s.indexOf("<tr")&&(l="tbody"),(0===s.indexOf("<td")||0===s.indexOf("<th"))&&(l="tr"),0===s.indexOf("<tbody")&&(l="table"),0===s.indexOf("<option")&&(l="select"),o=document.createElement(l),o.innerHTML=t,r=0;r<o.childNodes.length;r++)n.push(o.childNodes[r])}else for(i=a||"#"!==t[0]||t.match(/[ .<>:~]/)?(a||document).querySelectorAll(t):[document.getElementById(t.split("#")[1])],r=0;r<i.length;r++)i[r]&&n.push(i[r])}else if(t.nodeType||t===window||t===document)n.push(t);else if(t.length>0&&t[0].nodeType)for(r=0;r<t.length;r++)n.push(t[r]);return new e(n)};e.prototype={addClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),a=0;a<t.length;a++)for(var n=0;n<this.length;n++)"undefined"!=typeof this[n].classList&&this[n].classList.add(t[a]);return this},removeClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a++)for(var n=0;n<this.length;n++)"undefined"!=typeof this[n].classList&&this[n].classList.remove(t[a]);return this},hasClass:function(e){return this[0]?this[0].classList.contains(e):!1},toggleClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a++)for(var n=0;n<this.length;n++)"undefined"!=typeof this[n].classList&&this[n].classList.toggle(t[a]);return this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var a=0;a<this.length;a++)if(2===arguments.length)this[a].setAttribute(e,t);else for(var n in e)this[a][n]=e[n],this[a].setAttribute(n,e[n]);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},prop:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0][e]:void 0;for(var a=0;a<this.length;a++)if(2===arguments.length)this[a][e]=t;else for(var n in e)this[a][n]=e[n];return this},data:function(e,t){if("undefined"==typeof t){if(this[0]){if(this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage)return this[0].dom7ElementDataStorage[e];var a=this[0].getAttribute("data-"+e);return a?a:void 0}return void 0}for(var n=0;n<this.length;n++){var r=this[n];r.dom7ElementDataStorage||(r.dom7ElementDataStorage={}),r.dom7ElementDataStorage[e]=t}return this},removeData:function(e){for(var t=0;t<this.length;t++){var a=this[t];a.dom7ElementDataStorage&&a.dom7ElementDataStorage[e]&&(a.dom7ElementDataStorage[e]=null,delete a.dom7ElementDataStorage[e])}},dataset:function(){var e=this[0];if(e){var a={};if(e.dataset)for(var n in e.dataset)a[n]=e.dataset[n];else for(var r=0;r<e.attributes.length;r++){var i=e.attributes[r];i.name.indexOf("data-")>=0&&(a[t.toCamelCase(i.name.split("data-")[1])]=i.value)}for(var o in a)"false"===a[o]?a[o]=!1:"true"===a[o]?a[o]=!0:parseFloat(a[o])===1*a[o]&&(a[o]=1*a[o]);return a}return void 0},val:function(e){if("undefined"==typeof e)return this[0]?this[0].value:void 0;for(var t=0;t<this.length;t++)this[t].value=e;return this},transform:function(e){for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransform=a.MsTransform=a.msTransform=a.MozTransform=a.OTransform=a.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransitionDuration=a.MsTransitionDuration=a.msTransitionDuration=a.MozTransitionDuration=a.OTransitionDuration=a.transitionDuration=e}return this},on:function(e,a,n,r){function i(e){var r=e.target;if(t(r).is(a))n.call(r,e);else for(var i=t(r).parents(),o=0;o<i.length;o++)t(i[o]).is(a)&&n.call(i[o],e)}var o,s,l=e.split(" ");for(o=0;o<this.length;o++)if("function"==typeof a||a===!1)for("function"==typeof a&&(n=arguments[1],r=arguments[2]||!1),s=0;s<l.length;s++)this[o].addEventListener(l[s],n,r);else for(s=0;s<l.length;s++)this[o].dom7LiveListeners||(this[o].dom7LiveListeners=[]),this[o].dom7LiveListeners.push({listener:n,liveListener:i}),this[o].addEventListener(l[s],i,r);return this},off:function(e,t,a,n){for(var r=e.split(" "),i=0;i<r.length;i++)for(var o=0;o<this.length;o++)if("function"==typeof t||t===!1)"function"==typeof t&&(a=arguments[1],n=arguments[2]||!1),this[o].removeEventListener(r[i],a,n);else if(this[o].dom7LiveListeners)for(var s=0;s<this[o].dom7LiveListeners.length;s++)this[o].dom7LiveListeners[s].listener===a&&this[o].removeEventListener(r[i],this[o].dom7LiveListeners[s].liveListener,n);return this},once:function(e,t,a,n){function r(o){a(o),i.off(e,t,r,n)}var i=this;"function"==typeof t&&(a=arguments[1],n=arguments[2],t=!1),i.on(e,t,r,n)},trigger:function(e,t){for(var a=0;a<this.length;a++){var n;try{n=new CustomEvent(e,{detail:t,bubbles:!0,
cancelable:!0})}catch(r){n=document.createEvent("Event"),n.initEvent(e,!0,!0),n.detail=t}this[a].dispatchEvent(n)}return this},transitionEnd:function(e){function t(i){if(i.target===this)for(e.call(this,i),a=0;a<n.length;a++)r.off(n[a],t)}var a,n=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=this;if(e)for(a=0;a<n.length;a++)r.on(n[a],t);return this},animationEnd:function(e){function t(i){for(e(i),a=0;a<n.length;a++)r.off(n[a],t)}var a,n=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],r=this;if(e)for(a=0;a<n.length;a++)r.on(n[a],t);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),a=document.body,n=e.clientTop||a.clientTop||0,r=e.clientLeft||a.clientLeft||0,i=window.pageYOffset||e.scrollTop,o=window.pageXOffset||e.scrollLeft;return{top:t.top+i-n,left:t.left+o-r}}return null},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)this[e].style.display="block";return this},styles:function(){return this[0]?window.getComputedStyle(this[0],null):void 0},css:function(e,t){var a;if(1===arguments.length){if("string"!=typeof e){for(a=0;a<this.length;a++)for(var n in e)this[a].style[n]=e[n];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(a=0;a<this.length;a++)this[a].style[e]=t;return this}return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},filter:function(t){for(var a=[],n=this,r=0;r<n.length;r++)t.call(n[r],r,n[r])&&a.push(n[r]);return new e(a)},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if("undefined"==typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e},is:function(a){if(!this[0]||"undefined"==typeof a)return!1;var n,r;if("string"==typeof a){var i=this[0];if(i===document)return a===document;if(i===window)return a===window;if(i.matches)return i.matches(a);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(a);if(i.mozMatchesSelector)return i.mozMatchesSelector(a);if(i.msMatchesSelector)return i.msMatchesSelector(a);for(n=t(a),r=0;r<n.length;r++)if(n[r]===this[0])return!0;return!1}if(a===document)return this[0]===document;if(a===window)return this[0]===window;if(a.nodeType||a instanceof e){for(n=a.nodeType?[a]:a,r=0;r<n.length;r++)if(n[r]===this[0])return!0;return!1}return!1},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}return void 0},eq:function(t){if("undefined"==typeof t)return this;var a,n=this.length;return t>n-1?new e([]):0>t?(a=n+t,new e(0>a?[]:[this[a]])):new e([this[t]])},append:function(t){var a,n;for(a=0;a<this.length;a++)if("string"==typeof t){var r=document.createElement("div");for(r.innerHTML=t;r.firstChild;)this[a].appendChild(r.firstChild)}else if(t instanceof e)for(n=0;n<t.length;n++)this[a].appendChild(t[n]);else this[a].appendChild(t);return this},appendTo:function(e){return t(e).append(this),this},prepend:function(t){var a,n;for(a=0;a<this.length;a++)if("string"==typeof t){var r=document.createElement("div");for(r.innerHTML=t,n=r.childNodes.length-1;n>=0;n--)this[a].insertBefore(r.childNodes[n],this[a].childNodes[0])}else if(t instanceof e)for(n=0;n<t.length;n++)this[a].insertBefore(t[n],this[a].childNodes[0]);else this[a].insertBefore(t,this[a].childNodes[0]);return this},prependTo:function(e){return t(e).prepend(this),this},insertBefore:function(e){for(var a=t(e),n=0;n<this.length;n++)if(1===a.length)a[0].parentNode.insertBefore(this[n],a[0]);else if(a.length>1)for(var r=0;r<a.length;r++)a[r].parentNode.insertBefore(this[n].cloneNode(!0),a[r])},insertAfter:function(e){for(var a=t(e),n=0;n<this.length;n++)if(1===a.length)a[0].parentNode.insertBefore(this[n],a[0].nextSibling);else if(a.length>1)for(var r=0;r<a.length;r++)a[r].parentNode.insertBefore(this[n].cloneNode(!0),a[r].nextSibling)},next:function(a){return new e(this.length>0?a?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(a)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(a){var n=[],r=this[0];if(!r)return new e([]);for(;r.nextElementSibling;){var i=r.nextElementSibling;a?t(i).is(a)&&n.push(i):n.push(i),r=i}return new e(n)},prev:function(a){return new e(this.length>0?a?this[0].previousElementSibling&&t(this[0].previousElementSibling).is(a)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(a){var n=[],r=this[0];if(!r)return new e([]);for(;r.previousElementSibling;){var i=r.previousElementSibling;a?t(i).is(a)&&n.push(i):n.push(i),r=i}return new e(n)},parent:function(e){for(var a=[],n=0;n<this.length;n++)e?t(this[n].parentNode).is(e)&&a.push(this[n].parentNode):a.push(this[n].parentNode);return t(t.unique(a))},parents:function(e){for(var a=[],n=0;n<this.length;n++)for(var r=this[n].parentNode;r;)e?t(r).is(e)&&a.push(r):a.push(r),r=r.parentNode;return t(t.unique(a))},find:function(t){for(var a=[],n=0;n<this.length;n++)for(var r=this[n].querySelectorAll(t),i=0;i<r.length;i++)a.push(r[i]);return new e(a)},children:function(a){for(var n=[],r=0;r<this.length;r++)for(var i=this[r].childNodes,o=0;o<i.length;o++)a?1===i[o].nodeType&&t(i[o]).is(a)&&n.push(i[o]):1===i[o].nodeType&&n.push(i[o]);return new e(t.unique(n))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},detach:function(){return this.remove()},add:function(){var e,a,n=this;for(e=0;e<arguments.length;e++){var r=t(arguments[e]);for(a=0;a<r.length;a++)n[n.length]=r[a],n.length++}return n}},function(){function a(a){e.prototype[a]=function(e,n,i){var o;if("undefined"==typeof e){for(o=0;o<this.length;o++)r.indexOf(a)<0&&(a in this[o]?this[o][a]():t(this[o]).trigger(a));return this}return this.on(a,e,n,i)}}for(var n="click blur focus focusin focusout keyup keydown keypress submit change mousedown mousemove mouseup mouseenter mouseleave mouseout mouseover touchstart touchend touchmove resize scroll".split(" "),r="resize scroll".split(" "),i=0;i<n.length;i++)a(n[i])}();var a={};t.ajaxSetup=function(e){e.type&&(e.method=e.type),t.each(e,function(e,t){a[e]=t})};var n=0;return t.ajax=function(e){function r(n,r,i){var o=arguments;n&&t(document).trigger(n,r),i&&(i in a&&a[i](o[3],o[4],o[5],o[6]),e[i]&&e[i](o[3],o[4],o[5],o[6]))}var i={method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0},o=["beforeSend","error","complete","success","statusCode"];e.type&&(e.method=e.type),t.each(a,function(e,t){o.indexOf(e)<0&&(i[e]=t)}),t.each(i,function(t,a){t in e||(e[t]=a)}),e.url||(e.url=window.location.toString());var s=e.url.indexOf("?")>=0?"&":"?",l=e.method.toUpperCase();if(("GET"===l||"HEAD"===l)&&e.data){var c;c="string"==typeof e.data?e.data.indexOf("?")>=0?e.data.split("?")[1]:e.data:t.serializeObject(e.data),c.length&&(e.url+=s+c,"?"===s&&(s="&"))}if("json"===e.dataType&&e.url.indexOf("callback=")>=0){var p,d="f7jsonp_"+Date.now()+n++,u=e.url.split("callback="),h=u[0]+"callback="+d;if(u[1].indexOf("&")>=0){var f=u[1].split("&").filter(function(e){return e.indexOf("=")>0}).join("&");f.length>0&&(h+="&"+f)}var m=document.createElement("script");return m.type="text/javascript",m.onerror=function(){clearTimeout(p),r(void 0,void 0,"error",null,"scripterror")},m.src=h,window[d]=function(e){clearTimeout(p),r(void 0,void 0,"success",e),m.parentNode.removeChild(m),m=null,delete window[d]},document.querySelector("head").appendChild(m),void(e.timeout>0&&(p=setTimeout(function(){m.parentNode.removeChild(m),m=null,r(void 0,void 0,"error",null,"timeout")},e.timeout)))}("GET"===l||"HEAD"===l)&&e.cache===!1&&(e.url+=s+"_nocache="+Date.now());var g=new XMLHttpRequest;g.requestUrl=e.url,g.requestParameters=e,g.open(l,e.url,e.async,e.user,e.password);var v=null;if(("POST"===l||"PUT"===l)&&e.data)if(e.processData){var b=[ArrayBuffer,Blob,Document,FormData];if(b.indexOf(e.data.constructor)>=0)v=e.data;else{var w="---------------------------"+Date.now().toString(16);"multipart/form-data"===e.contentType?g.setRequestHeader("Content-Type","multipart/form-data; boundary="+w):g.setRequestHeader("Content-Type",e.contentType),v="";var y=t.serializeObject(e.data);if("multipart/form-data"===e.contentType){w="---------------------------"+Date.now().toString(16),y=y.split("&");for(var C=[],x=0;x<y.length;x++)C.push('Content-Disposition: form-data; name="'+y[x].split("=")[0]+'"\r\n\r\n'+y[x].split("=")[1]+"\r\n");v="--"+w+"\r\n"+C.join("--"+w+"\r\n")+"--"+w+"--\r\n"}else v="application/x-www-form-urlencoded"===e.contentType?y:y.replace(/&/g,"\r\n")}}else v=e.data;e.headers&&t.each(e.headers,function(e,t){g.setRequestHeader(e,t)}),"undefined"==typeof e.crossDomain&&(e.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(e.url)&&RegExp.$2!==window.location.host),e.crossDomain||g.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.xhrFields&&t.each(e.xhrFields,function(e,t){g[e]=t});var k;return g.onload=function(t){if(k&&clearTimeout(k),g.status>=200&&g.status<300||0===g.status){var n;if("json"===e.dataType)try{n=JSON.parse(g.responseText),r("ajaxSuccess",{xhr:g},"success",n,g.status,g)}catch(i){r("ajaxError",{xhr:g,parseerror:!0},"error",g,"parseerror")}else n="text"===g.responseType||""===g.responseType?g.responseText:g.response,r("ajaxSuccess",{xhr:g},"success",n,g.status,g)}else r("ajaxError",{xhr:g},"error",g,g.status);e.statusCode&&(a.statusCode&&a.statusCode[g.status]&&a.statusCode[g.status](g),e.statusCode[g.status]&&e.statusCode[g.status](g)),r("ajaxComplete",{xhr:g},"complete",g,g.status)},g.onerror=function(e){k&&clearTimeout(k),r("ajaxError",{xhr:g},"error",g,g.status)},r("ajaxStart",{xhr:g},"start",g),r(void 0,void 0,"beforeSend",g),g.send(v),e.timeout>0&&(k=setTimeout(function(){g.abort(),r("ajaxError",{xhr:g,timeout:!0},"error",g,"timeout"),r("ajaxComplete",{xhr:g,timeout:!0},"complete",g,"timeout")},e.timeout)),g},function(){function e(e){t[e]=function(a,n,r){return t.ajax({url:a,method:"post"===e?"POST":"GET",data:"function"==typeof n?void 0:n,success:"function"==typeof n?n:r,dataType:"getJSON"===e?"json":void 0})}}for(var a="get post getJSON".split(" "),n=0;n<a.length;n++)e(a[n])}(),t.parseUrlQuery=function(e){var t,a,n,r={};if(!(e.indexOf("?")>=0))return r;for(e=e.split("?")[1],a=e.split("&"),t=0;t<a.length;t++)n=a[t].split("="),r[n[0]]=n[1];return r},t.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)?!0:!1},t.each=function(a,n){if("object"==typeof a&&n){var r,i;if(t.isArray(a)||a instanceof e)for(r=0;r<a.length;r++)n(r,a[r]);else for(i in a)a.hasOwnProperty(i)&&n(i,a[i])}},t.unique=function(e){for(var t=[],a=0;a<e.length;a++)-1===t.indexOf(e[a])&&t.push(e[a]);return t},t.serializeObject=function(e,a){function n(e){if(a.length>0){for(var t="",n=0;n<a.length;n++)t+=0===n?a[n]:"["+encodeURIComponent(a[n])+"]";return t+"["+encodeURIComponent(e)+"]"}return encodeURIComponent(e)}function r(e){return encodeURIComponent(e)}if("string"==typeof e)return e;var i=[],o="&";a=a||[];for(var s in e)if(e.hasOwnProperty(s)){var l;if(t.isArray(e[s])){l=[];for(var c=0;c<e[s].length;c++)l.push(n(s)+"[]="+r(e[s][c]));l.length>0&&i.push(l.join(o))}else if("object"==typeof e[s]){var p=a.slice();p.push(s),l=t.serializeObject(e[s],p),""!==l&&i.push(l)}else"undefined"!=typeof e[s]&&""!==e[s]&&i.push(n(s)+"="+r(e[s]))}return i.join(o)},t.toCamelCase=function(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})},t.dataset=function(e){return t(e).dataset()},t.getTranslate=function(e,t){var a,n,r,i;return"undefined"==typeof t&&(t="x"),r=window.getComputedStyle(e,null),window.WebKitCSSMatrix?i=new WebKitCSSMatrix("none"===r.webkitTransform?"":r.webkitTransform):(i=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=i.toString().split(",")),"x"===t&&(n=window.WebKitCSSMatrix?i.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),"y"===t&&(n=window.WebKitCSSMatrix?i.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),n||0},t.requestAnimationFrame=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(e):window.setTimeout(e,1e3/60)},t.cancelAnimationFrame=function(e){return window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(e):window.clearTimeout(e)},t.supportTouch=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),t.fn=e.prototype,t.fn.scrollTo=function(e,a,n,r,i){return 4===arguments.length&&"function"==typeof r&&(i=r,r=void 0),this.each(function(){function o(e){void 0===e&&(e=(new Date).getTime()),null===b&&(b=e);var a,c=Math.max(Math.min((e-b)/n,1),0),p="linear"===r?c:.5-Math.cos(c*Math.PI)/2;return g&&(h=s+p*(d-s)),v&&(f=l+p*(u-l)),g&&d>s&&h>=d&&(m.scrollTop=d,a=!0),g&&s>d&&d>=h&&(m.scrollTop=d,a=!0),v&&u>l&&f>=u&&(m.scrollLeft=u,a=!0),v&&l>u&&u>=f&&(m.scrollLeft=u,a=!0),a?void(i&&i()):(g&&(m.scrollTop=h),v&&(m.scrollLeft=f),void t.requestAnimationFrame(o))}var s,l,c,p,d,u,h,f,m=this,g=a>0||0===a,v=e>0||0===e;if("undefined"==typeof r&&(r="swing"),g&&(s=m.scrollTop,n||(m.scrollTop=a)),v&&(l=m.scrollLeft,n||(m.scrollLeft=e)),n){g&&(c=m.scrollHeight-m.offsetHeight,d=Math.max(Math.min(a,c),0)),v&&(p=m.scrollWidth-m.offsetWidth,u=Math.max(Math.min(e,p),0));var b=null;g&&d===s&&(g=!1),v&&u===l&&(v=!1),t.requestAnimationFrame(o)}})},t.fn.scrollTop=function(e,t,a,n){3===arguments.length&&"function"==typeof a&&(n=a,a=void 0);var r=this;return"undefined"==typeof e?r.length>0?r[0].scrollTop:null:r.scrollTo(void 0,e,t,a,n)},t.fn.scrollLeft=function(e,t,a,n){3===arguments.length&&"function"==typeof a&&(n=a,a=void 0);var r=this;return"undefined"==typeof e?r.length>0?r[0].scrollLeft:null:r.scrollTo(e,void 0,t,a,n)},t}();Framework7.$=e;var t=e;window.Dom7=e,Framework7.prototype.support=function(){var e={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)};return e}(),Framework7.prototype.device=function(){var t={},a=navigator.userAgent,n=e,r=a.match(/(Android);?[\s\/]+([\d.]+)?/),i=a.match(/(iPad).*OS\s([\d_]+)/),o=a.match(/(iPod)(.*OS\s([\d_]+))?/),s=!i&&a.match(/(iPhone\sOS)\s([\d_]+)/);if(t.ios=t.android=t.iphone=t.ipad=t.androidChrome=!1,r&&(t.os="android",t.osVersion=r[2],t.android=!0,t.androidChrome=a.toLowerCase().indexOf("chrome")>=0),(i||s||o)&&(t.os="ios",t.ios=!0),s&&!o&&(t.osVersion=s[2].replace(/_/g,"."),t.iphone=!0),i&&(t.osVersion=i[2].replace(/_/g,"."),t.ipad=!0),o&&(t.osVersion=o[3]?o[3].replace(/_/g,"."):null,t.iphone=!0),t.ios&&t.osVersion&&a.indexOf("Version/")>=0&&"10"===t.osVersion.split(".")[0]&&(t.osVersion=a.toLowerCase().split("version/")[1].split(" ")[0]),t.webView=(s||i||o)&&a.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&"ios"===t.os){var l=t.osVersion.split(".");t.minimalUi=!t.webView&&(o||s)&&(1*l[0]===7?1*l[1]>=1:1*l[0]>7)&&n('meta[name="viewport"]').length>0&&n('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var c=n(window).width(),p=n(window).height();t.statusBar=!1,t.webView&&c*p===screen.width*screen.height?t.statusBar=!0:t.statusBar=!1;var d=[];if(t.pixelRatio=window.devicePixelRatio||1,d.push("pixel-ratio-"+Math.floor(t.pixelRatio)),t.pixelRatio>=2&&d.push("retina"),t.os&&(d.push(t.os,t.os+"-"+t.osVersion.split(".")[0],t.os+"-"+t.osVersion.replace(/\./g,"-")),"ios"===t.os))for(var u=parseInt(t.osVersion.split(".")[0],10),h=u-1;h>=6;h--)d.push("ios-gt-"+h);return t.statusBar?d.push("with-statusbar-overlay"):n("html").removeClass("with-statusbar-overlay"),d.length>0&&n("html").addClass(d.join(" ")),t}(),Framework7.prototype.plugins={},window.Template7=function(){function e(e){return"[object Array]"===Object.prototype.toString.apply(e)}function t(e){return"function"==typeof e}function a(e){var t,a,n,r=e.replace(/[{}#}]/g,"").split(" "),i=[];for(a=0;a<r.length;a++){var o=r[a];if(0===a)i.push(o);else if(0===o.indexOf('"'))if(2===o.match(/"/g).length)i.push(o);else{for(t=0,n=a+1;n<r.length;n++)if(o+=" "+r[n],r[n].indexOf('"')>=0){t=n,i.push(o);break}t&&(a=t)}else if(o.indexOf("=")>0){var s=o.split("="),l=s[0],c=s[1];if(2!==c.match(/"/g).length){for(t=0,n=a+1;n<r.length;n++)if(c+=" "+r[n],r[n].indexOf('"')>=0){t=n;break}t&&(a=t)}var p=[l,c.replace(/"/g,"")];i.push(p)}else i.push(o)}return i}function n(t){var n,r,i=[];if(!t)return[];var o=t.split(/({{[^{^}]*}})/);for(n=0;n<o.length;n++){var s=o[n];if(""!==s)if(s.indexOf("{{")<0)i.push({type:"plain",content:s});else{if(s.indexOf("{/")>=0)continue;if(s.indexOf("{#")<0&&s.indexOf(" ")<0&&s.indexOf("else")<0){i.push({type:"variable",contextName:s.replace(/[{}]/g,"")});continue}var l=a(s),c=l[0],p=">"===c,d=[],u={};for(r=1;r<l.length;r++){var h=l[r];e(h)?u[h[0]]="false"===h[1]?!1:h[1]:d.push(h)}if(s.indexOf("{#")>=0){var f,m="",g="",v=0,b=!1,w=!1,y=0;for(r=n+1;r<o.length;r++)if(o[r].indexOf("{{#")>=0&&y++,o[r].indexOf("{{/")>=0&&y--,o[r].indexOf("{{#"+c)>=0)m+=o[r],w&&(g+=o[r]),v++;else if(o[r].indexOf("{{/"+c)>=0){if(!(v>0)){f=r,b=!0;break}v--,m+=o[r],w&&(g+=o[r])}else o[r].indexOf("else")>=0&&0===y?w=!0:(w||(m+=o[r]),w&&(g+=o[r]));b&&(f&&(n=f),i.push({type:"helper",helperName:c,contextName:d,content:m,inverseContent:g,hash:u}))}else s.indexOf(" ")>0&&(p&&(c="_partial",d[0]&&(d[0]='"'+d[0].replace(/"|'/g,"")+'"')),i.push({type:"helper",helperName:c,contextName:d,hash:u}))}}return i}var r=function(e){function t(e,t){return e.content?o(e.content,t):function(){return""}}function a(e,t){return e.inverseContent?o(e.inverseContent,t):function(){return""}}function r(e,t){var a,n,r=0;if(0===e.indexOf("../")){r=e.split("../").length-1;var i=t.split("_")[1]-r;t="ctx_"+(i>=1?i:1),n=e.split("../")[r].split(".")}else 0===e.indexOf("@global")?(t="Template7.global",n=e.split("@global.")[1].split(".")):0===e.indexOf("@root")?(t="ctx_1",n=e.split("@root.")[1].split(".")):n=e.split(".");a=t;for(var o=0;o<n.length;o++){var s=n[o];0===s.indexOf("@")?o>0?a+="[(data && data."+s.replace("@","")+")]":a="(data && data."+e.replace("@","")+")":isFinite(s)?a+="["+s+"]":0===s.indexOf("this")?a=s.replace("this",t):a+="."+s}return a}function i(e,t){for(var a=[],n=0;n<e.length;n++)0===e[n].indexOf('"')?a.push(e[n]):a.push(r(e[n],t));return a.join(", ")}function o(e,o){if(o=o||1,e=e||s.template,"string"!=typeof e)throw new Error("Template7: Template must be a string");var l=n(e);if(0===l.length)return function(){return""};var c="ctx_"+o,p="(function ("+c+", data) {\n";1===o&&(p+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",p+="function isFunction(func){return (typeof func === 'function');}\n",p+='function c(val, ctx) {if (typeof val !== "undefined") {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n'),p+="var r = '';\n";var d;for(d=0;d<l.length;d++){var u=l[d];if("plain"!==u.type){var h,f;if("variable"===u.type&&(h=r(u.contextName,c),p+="r += c("+h+", "+c+");"),"helper"===u.type)if(u.helperName in s.helpers)f=i(u.contextName,c),p+="r += (Template7.helpers."+u.helperName+").call("+c+", "+(f&&f+", ")+"{hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+t(u,o+1)+", inverse: "+a(u,o+1)+", root: ctx_1});";else{if(u.contextName.length>0)throw new Error('Template7: Missing helper: "'+u.helperName+'"');h=r(u.helperName,c),p+="if ("+h+") {",p+="if (isArray("+h+")) {",p+="r += (Template7.helpers.each).call("+c+", "+h+", {hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+t(u,o+1)+", inverse: "+a(u,o+1)+", root: ctx_1});",p+="}else {",p+="r += (Template7.helpers.with).call("+c+", "+h+", {hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+t(u,o+1)+", inverse: "+a(u,o+1)+", root: ctx_1});",p+="}}"}}else p+="r +='"+u.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return p+="\nreturn r;})",eval.call(window,p)}var s=this;s.template=e,s.compile=function(e){return s.compiled||(s.compiled=o(e)),s.compiled}};r.prototype={options:{},partials:{},helpers:{_partial:function(e,t){var a=r.prototype.partials[e];if(!a||a&&!a.template)return"";a.compiled||(a.compiled=i.compile(a.template));var n=this;for(var o in t.hash)n[o]=t.hash[o];return a.compiled(n)},escape:function(e,t){if("string"!=typeof e)throw new Error('Template7: Passed context to "escape" helper should be a string');return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},"if":function(e,a){return t(e)&&(e=e.call(this)),e?a.fn(this,a.data):a.inverse(this,a.data)},unless:function(e,a){return t(e)&&(e=e.call(this)),e?a.inverse(this,a.data):a.fn(this,a.data)},each:function(a,n){var r="",i=0;if(t(a)&&(a=a.call(this)),e(a)){for(n.hash.reverse&&(a=a.reverse()),i=0;i<a.length;i++)r+=n.fn(a[i],{first:0===i,last:i===a.length-1,index:i});n.hash.reverse&&(a=a.reverse())}else for(var o in a)i++,r+=n.fn(a[o],{key:o});return i>0?r:n.inverse(this)},"with":function(e,a){return t(e)&&(e=e.call(this)),a.fn(e)},join:function(e,a){return t(e)&&(e=e.call(this)),e.join(a.hash.delimiter||a.hash.delimeter)},js:function(e,t){var a;return a=e.indexOf("return")>=0?"(function(){"+e+"})":"(function(){return ("+e+")})",eval.call(this,a).call(this)},js_compare:function(e,t){var a;a=e.indexOf("return")>=0?"(function(){"+e+"})":"(function(){return ("+e+")})";var n=eval.call(this,a).call(this);return n?t.fn(this,t.data):t.inverse(this,t.data)}}};var i=function(e,t){if(2===arguments.length){var a=new r(e),n=a.compile()(t);return a=null,n}return new r(e)};return i.registerHelper=function(e,t){r.prototype.helpers[e]=t},i.unregisterHelper=function(e){r.prototype.helpers[e]=void 0,delete r.prototype.helpers[e]},i.registerPartial=function(e,t){r.prototype.partials[e]={template:t}},i.unregisterPartial=function(e,t){r.prototype.partials[e]&&(r.prototype.partials[e]=void 0,delete r.prototype.partials[e])},i.compile=function(e,t){var a=new r(e,t);return a.compile()},i.options=r.prototype.options,i.helpers=r.prototype.helpers,i.partials=r.prototype.partials,i}(),window.Swiper=function(a,n){function r(){return"horizontal"===m.params.direction}function i(e){return Math.floor(e)}function o(){m.autoplayTimeoutId=setTimeout(function(){m.params.loop?(m.fixLoop(),m._slideNext()):m.isEnd?n.autoplayStopOnLast?m.stopAutoplay():m._slideTo(0):m._slideNext()},m.params.autoplay)}function s(e,a){var n=t(e.target);if(!n.is(a))if("string"==typeof a)n=n.parents(a);else if(a.nodeType){var r;return n.parents().each(function(e,t){t===a&&(r=a)}),r?a:void 0}return 0===n.length?void 0:n[0]}function l(e,t){t=t||{};var a=window.MutationObserver||window.WebkitMutationObserver,n=new a(function(e){e.forEach(function(e){m.onResize(!0),m.emit("onObserverUpdate",m,e)})});n.observe(e,{attributes:"undefined"==typeof t.attributes?!0:t.attributes,childList:"undefined"==typeof t.childList?!0:t.childList,characterData:"undefined"==typeof t.characterData?!0:t.characterData}),m.observers.push(n)}function c(e,a){e=t(e);var n,i,o;n=e.attr("data-swiper-parallax")||"0",i=e.attr("data-swiper-parallax-x"),o=e.attr("data-swiper-parallax-y"),i||o?(i=i||"0",o=o||"0"):r()?(i=n,o="0"):(o=n,i="0"),i=i.indexOf("%")>=0?parseInt(i,10)*a+"%":i*a+"px",o=o.indexOf("%")>=0?parseInt(o,10)*a+"%":o*a+"px",e.transform("translate3d("+i+", "+o+",0px)")}function p(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof Swiper))return new Swiper(a,n);var d={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},u=n&&n.virtualTranslate;n=n||{};for(var h in d)if("undefined"==typeof n[h])n[h]=d[h];else if("object"==typeof n[h])for(var f in d[h])"undefined"==typeof n[h][f]&&(n[h][f]=d[h][f]);var m=this;if(m.version="3.1.0",m.params=n,m.classNames=[],"undefined"!=typeof t&&"undefined"!=typeof e&&(t=e),("undefined"!=typeof t||(t="undefined"==typeof e?window.Dom7||window.Zepto||window.jQuery:e))&&(m.$=t,m.container=t(a),0!==m.container.length)){if(m.container.length>1)return void m.container.each(function(){new Swiper(this,n)});m.container[0].swiper=m,m.container.data("swiper",m),m.classNames.push("swiper-container-"+m.params.direction),m.params.freeMode&&m.classNames.push("swiper-container-free-mode"),m.support.flexbox||(m.classNames.push("swiper-container-no-flexbox"),m.params.slidesPerColumn=1),(m.params.parallax||m.params.watchSlidesVisibility)&&(m.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(m.params.effect)>=0&&(m.support.transforms3d?(m.params.watchSlidesProgress=!0,m.classNames.push("swiper-container-3d")):m.params.effect="slide"),"slide"!==m.params.effect&&m.classNames.push("swiper-container-"+m.params.effect),"cube"===m.params.effect&&(m.params.resistanceRatio=0,m.params.slidesPerView=1,m.params.slidesPerColumn=1,m.params.slidesPerGroup=1,m.params.centeredSlides=!1,m.params.spaceBetween=0,m.params.virtualTranslate=!0,m.params.setWrapperSize=!1),"fade"===m.params.effect&&(m.params.slidesPerView=1,m.params.slidesPerColumn=1,m.params.slidesPerGroup=1,m.params.watchSlidesProgress=!0,m.params.spaceBetween=0,"undefined"==typeof u&&(m.params.virtualTranslate=!0)),m.params.grabCursor&&m.support.touch&&(m.params.grabCursor=!1),m.wrapper=m.container.children("."+m.params.wrapperClass),m.params.pagination&&(m.paginationContainer=t(m.params.pagination),m.params.paginationClickable&&m.paginationContainer.addClass("swiper-pagination-clickable")),m.rtl=r()&&("rtl"===m.container[0].dir.toLowerCase()||"rtl"===m.container.css("direction")),m.rtl&&m.classNames.push("swiper-container-rtl"),m.rtl&&(m.wrongRTL="-webkit-box"===m.wrapper.css("display")),m.params.slidesPerColumn>1&&m.classNames.push("swiper-container-multirow"),m.device.android&&m.classNames.push("swiper-container-android"),m.container.addClass(m.classNames.join(" ")),m.translate=0,m.progress=0,m.velocity=0,m.lockSwipeToNext=function(){m.params.allowSwipeToNext=!1},m.lockSwipeToPrev=function(){m.params.allowSwipeToPrev=!1},m.lockSwipes=function(){m.params.allowSwipeToNext=m.params.allowSwipeToPrev=!1},m.unlockSwipeToNext=function(){m.params.allowSwipeToNext=!0},m.unlockSwipeToPrev=function(){m.params.allowSwipeToPrev=!0},m.unlockSwipes=function(){m.params.allowSwipeToNext=m.params.allowSwipeToPrev=!0},m.params.grabCursor&&(m.container[0].style.cursor="move",m.container[0].style.cursor="-webkit-grab",m.container[0].style.cursor="-moz-grab",m.container[0].style.cursor="grab"),m.imagesToLoad=[],m.imagesLoaded=0,m.loadImage=function(e,t,a,n){function r(){n&&n()}var i;e.complete&&a?r():t?(i=new window.Image,i.onload=r,i.onerror=r,i.src=t):r()},m.preloadImages=function(){function e(){"undefined"!=typeof m&&null!==m&&(void 0!==m.imagesLoaded&&m.imagesLoaded++,m.imagesLoaded===m.imagesToLoad.length&&(m.params.updateOnImagesReady&&m.update(),m.emit("onImagesReady",m)))}m.imagesToLoad=m.container.find("img");for(var t=0;t<m.imagesToLoad.length;t++)m.loadImage(m.imagesToLoad[t],m.imagesToLoad[t].currentSrc||m.imagesToLoad[t].getAttribute("src"),!0,e)},m.autoplayTimeoutId=void 0,m.autoplaying=!1,m.autoplayPaused=!1,m.startAutoplay=function(){return"undefined"!=typeof m.autoplayTimeoutId?!1:m.params.autoplay?m.autoplaying?!1:(m.autoplaying=!0,m.emit("onAutoplayStart",m),void o()):!1},m.stopAutoplay=function(e){m.autoplayTimeoutId&&(m.autoplayTimeoutId&&clearTimeout(m.autoplayTimeoutId),m.autoplaying=!1,m.autoplayTimeoutId=void 0,m.emit("onAutoplayStop",m))},m.pauseAutoplay=function(e){m.autoplayPaused||(m.autoplayTimeoutId&&clearTimeout(m.autoplayTimeoutId),m.autoplayPaused=!0,0===e?(m.autoplayPaused=!1,o()):m.wrapper.transitionEnd(function(){m&&(m.autoplayPaused=!1,m.autoplaying?o():m.stopAutoplay())}))},m.minTranslate=function(){return-m.snapGrid[0]},m.maxTranslate=function(){return-m.snapGrid[m.snapGrid.length-1]},m.updateContainerSize=function(){var e,t;e="undefined"!=typeof m.params.width?m.params.width:m.container[0].clientWidth,t="undefined"!=typeof m.params.height?m.params.height:m.container[0].clientHeight,0===e&&r()||0===t&&!r()||(e=e-parseInt(m.container.css("padding-left"),10)-parseInt(m.container.css("padding-right"),10),t=t-parseInt(m.container.css("padding-top"),10)-parseInt(m.container.css("padding-bottom"),10),m.width=e,m.height=t,m.size=r()?m.width:m.height)},m.updateSlidesSize=function(){m.slides=m.wrapper.children("."+m.params.slideClass),m.snapGrid=[],m.slidesGrid=[],m.slidesSizesGrid=[];var e,t=m.params.spaceBetween,a=-m.params.slidesOffsetBefore,n=0,o=0;
"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*m.size),m.virtualSize=-t,m.rtl?m.slides.css({marginLeft:"",marginTop:""}):m.slides.css({marginRight:"",marginBottom:""});var s;m.params.slidesPerColumn>1&&(s=Math.floor(m.slides.length/m.params.slidesPerColumn)===m.slides.length/m.params.slidesPerColumn?m.slides.length:Math.ceil(m.slides.length/m.params.slidesPerColumn)*m.params.slidesPerColumn);var l,c=m.params.slidesPerColumn,p=s/c,d=p-(m.params.slidesPerColumn*p-m.slides.length);for(e=0;e<m.slides.length;e++){l=0;var u=m.slides.eq(e);if(m.params.slidesPerColumn>1){var h,f,g;"column"===m.params.slidesPerColumnFill?(f=Math.floor(e/c),g=e-f*c,(f>d||f===d&&g===c-1)&&++g>=c&&(g=0,f++),h=f+g*s/c,u.css({"-webkit-box-ordinal-group":h,"-moz-box-ordinal-group":h,"-ms-flex-order":h,"-webkit-order":h,order:h})):(g=Math.floor(e/p),f=e-g*p),u.css({"margin-top":0!==g&&m.params.spaceBetween&&m.params.spaceBetween+"px"}).attr("data-swiper-column",f).attr("data-swiper-row",g)}"none"!==u.css("display")&&("auto"===m.params.slidesPerView?(l=r()?u.outerWidth(!0):u.outerHeight(!0),m.params.roundLengths&&(l=i(l))):(l=(m.size-(m.params.slidesPerView-1)*t)/m.params.slidesPerView,m.params.roundLengths&&(l=i(l)),r()?m.slides[e].style.width=l+"px":m.slides[e].style.height=l+"px"),m.slides[e].swiperSlideSize=l,m.slidesSizesGrid.push(l),m.params.centeredSlides?(a=a+l/2+n/2+t,0===e&&(a=a-m.size/2-t),Math.abs(a)<.001&&(a=0),o%m.params.slidesPerGroup===0&&m.snapGrid.push(a),m.slidesGrid.push(a)):(o%m.params.slidesPerGroup===0&&m.snapGrid.push(a),m.slidesGrid.push(a),a=a+l+t),m.virtualSize+=l+t,n=l,o++)}m.virtualSize=Math.max(m.virtualSize,m.size)+m.params.slidesOffsetAfter;var v;if(m.rtl&&m.wrongRTL&&("slide"===m.params.effect||"coverflow"===m.params.effect)&&m.wrapper.css({width:m.virtualSize+m.params.spaceBetween+"px"}),(!m.support.flexbox||m.params.setWrapperSize)&&(r()?m.wrapper.css({width:m.virtualSize+m.params.spaceBetween+"px"}):m.wrapper.css({height:m.virtualSize+m.params.spaceBetween+"px"})),m.params.slidesPerColumn>1&&(m.virtualSize=(l+m.params.spaceBetween)*s,m.virtualSize=Math.ceil(m.virtualSize/m.params.slidesPerColumn)-m.params.spaceBetween,m.wrapper.css({width:m.virtualSize+m.params.spaceBetween+"px"}),m.params.centeredSlides)){for(v=[],e=0;e<m.snapGrid.length;e++)m.snapGrid[e]<m.virtualSize+m.snapGrid[0]&&v.push(m.snapGrid[e]);m.snapGrid=v}if(!m.params.centeredSlides){for(v=[],e=0;e<m.snapGrid.length;e++)m.snapGrid[e]<=m.virtualSize-m.size&&v.push(m.snapGrid[e]);m.snapGrid=v,Math.floor(m.virtualSize-m.size)>Math.floor(m.snapGrid[m.snapGrid.length-1])&&m.snapGrid.push(m.virtualSize-m.size)}0===m.snapGrid.length&&(m.snapGrid=[0]),0!==m.params.spaceBetween&&(r()?m.rtl?m.slides.css({marginLeft:t+"px"}):m.slides.css({marginRight:t+"px"}):m.slides.css({marginBottom:t+"px"})),m.params.watchSlidesProgress&&m.updateSlidesOffset()},m.updateSlidesOffset=function(){for(var e=0;e<m.slides.length;e++)m.slides[e].swiperSlideOffset=r()?m.slides[e].offsetLeft:m.slides[e].offsetTop},m.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=m.translate||0),0!==m.slides.length){"undefined"==typeof m.slides[0].swiperSlideOffset&&m.updateSlidesOffset();var t=-e;m.rtl&&(t=e);m.container[0].getBoundingClientRect(),r()?"left":"top",r()?"right":"bottom";m.slides.removeClass(m.params.slideVisibleClass);for(var a=0;a<m.slides.length;a++){var n=m.slides[a],i=(t-n.swiperSlideOffset)/(n.swiperSlideSize+m.params.spaceBetween);if(m.params.watchSlidesVisibility){var o=-(t-n.swiperSlideOffset),s=o+m.slidesSizesGrid[a],l=o>=0&&o<m.size||s>0&&s<=m.size||0>=o&&s>=m.size;l&&m.slides.eq(a).addClass(m.params.slideVisibleClass)}n.progress=m.rtl?-i:i}}},m.updateProgress=function(e){"undefined"==typeof e&&(e=m.translate||0);var t=m.maxTranslate()-m.minTranslate();0===t?(m.progress=0,m.isBeginning=m.isEnd=!0):(m.progress=(e-m.minTranslate())/t,m.isBeginning=m.progress<=0,m.isEnd=m.progress>=1),m.isBeginning&&m.emit("onReachBeginning",m),m.isEnd&&m.emit("onReachEnd",m),m.params.watchSlidesProgress&&m.updateSlidesProgress(e),m.emit("onProgress",m,m.progress)},m.updateActiveIndex=function(){var e,t,a,n=m.rtl?m.translate:-m.translate;for(t=0;t<m.slidesGrid.length;t++)"undefined"!=typeof m.slidesGrid[t+1]?n>=m.slidesGrid[t]&&n<m.slidesGrid[t+1]-(m.slidesGrid[t+1]-m.slidesGrid[t])/2?e=t:n>=m.slidesGrid[t]&&n<m.slidesGrid[t+1]&&(e=t+1):n>=m.slidesGrid[t]&&(e=t);(0>e||"undefined"==typeof e)&&(e=0),a=Math.floor(e/m.params.slidesPerGroup),a>=m.snapGrid.length&&(a=m.snapGrid.length-1),e!==m.activeIndex&&(m.snapIndex=a,m.previousIndex=m.activeIndex,m.activeIndex=e,m.updateClasses())},m.updateClasses=function(){m.slides.removeClass(m.params.slideActiveClass+" "+m.params.slideNextClass+" "+m.params.slidePrevClass);var e=m.slides.eq(m.activeIndex);if(e.addClass(m.params.slideActiveClass),e.next("."+m.params.slideClass).addClass(m.params.slideNextClass),e.prev("."+m.params.slideClass).addClass(m.params.slidePrevClass),m.bullets&&m.bullets.length>0){m.bullets.removeClass(m.params.bulletActiveClass);var a;m.params.loop?(a=Math.ceil(m.activeIndex-m.loopedSlides)/m.params.slidesPerGroup,a>m.slides.length-1-2*m.loopedSlides&&(a-=m.slides.length-2*m.loopedSlides),a>m.bullets.length-1&&(a-=m.bullets.length)):a="undefined"!=typeof m.snapIndex?m.snapIndex:m.activeIndex||0,m.paginationContainer.length>1?m.bullets.each(function(){t(this).index()===a&&t(this).addClass(m.params.bulletActiveClass)}):m.bullets.eq(a).addClass(m.params.bulletActiveClass)}m.params.loop||(m.params.prevButton&&(m.isBeginning?(t(m.params.prevButton).addClass(m.params.buttonDisabledClass),m.params.a11y&&m.a11y&&m.a11y.disable(t(m.params.prevButton))):(t(m.params.prevButton).removeClass(m.params.buttonDisabledClass),m.params.a11y&&m.a11y&&m.a11y.enable(t(m.params.prevButton)))),m.params.nextButton&&(m.isEnd?(t(m.params.nextButton).addClass(m.params.buttonDisabledClass),m.params.a11y&&m.a11y&&m.a11y.disable(t(m.params.nextButton))):(t(m.params.nextButton).removeClass(m.params.buttonDisabledClass),m.params.a11y&&m.a11y&&m.a11y.enable(t(m.params.nextButton)))))},m.updatePagination=function(){if(m.params.pagination&&m.paginationContainer&&m.paginationContainer.length>0){for(var e="",t=m.params.loop?Math.ceil((m.slides.length-2*m.loopedSlides)/m.params.slidesPerGroup):m.snapGrid.length,a=0;t>a;a++)e+=m.params.paginationBulletRender?m.params.paginationBulletRender(a,m.params.bulletClass):"<"+m.params.paginationElement+' class="'+m.params.bulletClass+'"></'+m.params.paginationElement+">";m.paginationContainer.html(e),m.bullets=m.paginationContainer.find("."+m.params.bulletClass),m.params.paginationClickable&&m.params.a11y&&m.a11y&&m.a11y.initPagination()}},m.update=function(e){function t(){n=Math.min(Math.max(m.translate,m.maxTranslate()),m.minTranslate()),m.setWrapperTranslate(n),m.updateActiveIndex(),m.updateClasses()}if(m.updateContainerSize(),m.updateSlidesSize(),m.updateProgress(),m.updatePagination(),m.updateClasses(),m.params.scrollbar&&m.scrollbar&&m.scrollbar.set(),e){var a,n;m.controller&&m.controller.spline&&(m.controller.spline=void 0),m.params.freeMode?t():(a=("auto"===m.params.slidesPerView||m.params.slidesPerView>1)&&m.isEnd&&!m.params.centeredSlides?m.slideTo(m.slides.length-1,0,!1,!0):m.slideTo(m.activeIndex,0,!1,!0),a||t())}},m.onResize=function(e){var t=m.params.allowSwipeToPrev,a=m.params.allowSwipeToNext;if(m.params.allowSwipeToPrev=m.params.allowSwipeToNext=!0,m.updateContainerSize(),m.updateSlidesSize(),("auto"===m.params.slidesPerView||m.params.freeMode||e)&&m.updatePagination(),m.params.scrollbar&&m.scrollbar&&m.scrollbar.set(),m.controller&&m.controller.spline&&(m.controller.spline=void 0),m.params.freeMode){var n=Math.min(Math.max(m.translate,m.maxTranslate()),m.minTranslate());m.setWrapperTranslate(n),m.updateActiveIndex(),m.updateClasses()}else m.updateClasses(),("auto"===m.params.slidesPerView||m.params.slidesPerView>1)&&m.isEnd&&!m.params.centeredSlides?m.slideTo(m.slides.length-1,0,!1,!0):m.slideTo(m.activeIndex,0,!1,!0);m.params.allowSwipeToPrev=t,m.params.allowSwipeToNext=a};var g=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?g=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(g=["MSPointerDown","MSPointerMove","MSPointerUp"]),m.touchEvents={start:m.support.touch||!m.params.simulateTouch?"touchstart":g[0],move:m.support.touch||!m.params.simulateTouch?"touchmove":g[1],end:m.support.touch||!m.params.simulateTouch?"touchend":g[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===m.params.touchEventsTarget?m.container:m.wrapper).addClass("swiper-wp8-"+m.params.direction),m.initEvents=function(e){var a=e?"off":"on",r=e?"removeEventListener":"addEventListener",i="container"===m.params.touchEventsTarget?m.container[0]:m.wrapper[0],o=m.support.touch?i:document,s=m.params.nested?!0:!1;m.browser.ie?(i[r](m.touchEvents.start,m.onTouchStart,!1),o[r](m.touchEvents.move,m.onTouchMove,s),o[r](m.touchEvents.end,m.onTouchEnd,!1)):(m.support.touch&&(i[r](m.touchEvents.start,m.onTouchStart,!1),i[r](m.touchEvents.move,m.onTouchMove,s),i[r](m.touchEvents.end,m.onTouchEnd,!1)),!n.simulateTouch||m.device.ios||m.device.android||(i[r]("mousedown",m.onTouchStart,!1),document[r]("mousemove",m.onTouchMove,s),document[r]("mouseup",m.onTouchEnd,!1))),window[r]("resize",m.onResize),m.params.nextButton&&(t(m.params.nextButton)[a]("click",m.onClickNext),m.params.a11y&&m.a11y&&t(m.params.nextButton)[a]("keydown",m.a11y.onEnterKey)),m.params.prevButton&&(t(m.params.prevButton)[a]("click",m.onClickPrev),m.params.a11y&&m.a11y&&t(m.params.prevButton)[a]("keydown",m.a11y.onEnterKey)),m.params.pagination&&m.params.paginationClickable&&(t(m.paginationContainer)[a]("click","."+m.params.bulletClass,m.onClickIndex),m.params.a11y&&m.a11y&&t(m.paginationContainer)[a]("keydown","."+m.params.bulletClass,m.a11y.onEnterKey)),(m.params.preventClicks||m.params.preventClicksPropagation)&&i[r]("click",m.preventClicks,!0)},m.attachEvents=function(e){m.initEvents()},m.detachEvents=function(){m.initEvents(!0)},m.allowClick=!0,m.preventClicks=function(e){m.allowClick||(m.params.preventClicks&&e.preventDefault(),m.params.preventClicksPropagation&&m.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},m.onClickNext=function(e){e.preventDefault(),(!m.isEnd||m.params.loop)&&m.slideNext()},m.onClickPrev=function(e){e.preventDefault(),(!m.isBeginning||m.params.loop)&&m.slidePrev()},m.onClickIndex=function(e){e.preventDefault();var a=t(this).index()*m.params.slidesPerGroup;m.params.loop&&(a+=m.loopedSlides),m.slideTo(a)},m.updateClickedSlide=function(e){var a=s(e,"."+m.params.slideClass),n=!1;if(a)for(var r=0;r<m.slides.length;r++)m.slides[r]===a&&(n=!0);if(!a||!n)return m.clickedSlide=void 0,void(m.clickedIndex=void 0);if(m.clickedSlide=a,m.clickedIndex=t(a).index(),m.params.slideToClickedSlide&&void 0!==m.clickedIndex&&m.clickedIndex!==m.activeIndex){var i,o=m.clickedIndex;if(m.params.loop)if(i=t(m.clickedSlide).attr("data-swiper-slide-index"),o>m.slides.length-m.params.slidesPerView)m.fixLoop(),o=m.wrapper.children("."+m.params.slideClass+'[data-swiper-slide-index="'+i+'"]').eq(0).index(),setTimeout(function(){m.slideTo(o)},0);else if(o<m.params.slidesPerView-1){m.fixLoop();var l=m.wrapper.children("."+m.params.slideClass+'[data-swiper-slide-index="'+i+'"]');o=l.eq(l.length-1).index(),setTimeout(function(){m.slideTo(o)},0)}else m.slideTo(o);else m.slideTo(o)}};var v,b,w,y,C,x,k,S,T,E="input, select, textarea, button",P=Date.now(),_=[];m.animating=!1,m.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var M,I;m.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),M="touchstart"===e.type,M||!("which"in e)||3!==e.which){if(m.params.noSwiping&&s(e,"."+m.params.noSwipingClass))return void(m.allowClick=!0);if(!m.params.swipeHandler||s(e,m.params.swipeHandler)){var a=m.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,n=m.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY;if(!(m.device.ios&&m.params.iOSEdgeSwipeDetection&&a<=m.params.iOSEdgeSwipeThreshold)){if(v=!0,b=!1,y=void 0,I=void 0,m.touches.startX=a,m.touches.startY=n,w=Date.now(),m.allowClick=!0,m.updateContainerSize(),m.swipeDirection=void 0,m.params.threshold>0&&(k=!1),"touchstart"!==e.type){var r=!0;t(e.target).is(E)&&(r=!1),document.activeElement&&t(document.activeElement).is(E)&&document.activeElement.blur(),r&&e.preventDefault()}m.emit("onTouchStart",m,e)}}}},m.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!(M&&"mousemove"===e.type||e.preventedByNestedSwiper)){if(m.params.onlyExternal)return m.allowClick=!1,void(v&&(m.touches.startX=m.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,m.touches.startY=m.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,w=Date.now()));if(M&&document.activeElement&&e.target===document.activeElement&&t(e.target).is(E))return b=!0,void(m.allowClick=!1);if(m.emit("onTouchMove",m,e),!(e.targetTouches&&e.targetTouches.length>1)){if(m.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,m.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof y){var a=180*Math.atan2(Math.abs(m.touches.currentY-m.touches.startY),Math.abs(m.touches.currentX-m.touches.startX))/Math.PI;y=r()?a>m.params.touchAngle:90-a>m.params.touchAngle}if(y&&m.emit("onTouchMoveOpposite",m,e),"undefined"==typeof I&&m.browser.ieTouch&&(m.touches.currentX!==m.touches.startX||m.touches.currentY!==m.touches.startY)&&(I=!0),v){if(y)return void(v=!1);if(I||!m.browser.ieTouch){m.allowClick=!1,m.emit("onSliderMove",m,e),e.preventDefault(),m.params.touchMoveStopPropagation&&!m.params.nested&&e.stopPropagation(),b||(n.loop&&m.fixLoop(),x=m.getWrapperTranslate(),m.setWrapperTransition(0),m.animating&&m.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),m.params.autoplay&&m.autoplaying&&(m.params.autoplayDisableOnInteraction?m.stopAutoplay():m.pauseAutoplay()),T=!1,m.params.grabCursor&&(m.container[0].style.cursor="move",m.container[0].style.cursor="-webkit-grabbing",m.container[0].style.cursor="-moz-grabbin",m.container[0].style.cursor="grabbing")),b=!0;var i=m.touches.diff=r()?m.touches.currentX-m.touches.startX:m.touches.currentY-m.touches.startY;i*=m.params.touchRatio,m.rtl&&(i=-i),m.swipeDirection=i>0?"prev":"next",C=i+x;var o=!0;if(i>0&&C>m.minTranslate()?(o=!1,m.params.resistance&&(C=m.minTranslate()-1+Math.pow(-m.minTranslate()+x+i,m.params.resistanceRatio))):0>i&&C<m.maxTranslate()&&(o=!1,m.params.resistance&&(C=m.maxTranslate()+1-Math.pow(m.maxTranslate()-x-i,m.params.resistanceRatio))),o&&(e.preventedByNestedSwiper=!0),!m.params.allowSwipeToNext&&"next"===m.swipeDirection&&x>C&&(C=x),!m.params.allowSwipeToPrev&&"prev"===m.swipeDirection&&C>x&&(C=x),m.params.followFinger){if(m.params.threshold>0){if(!(Math.abs(i)>m.params.threshold||k))return void(C=x);if(!k)return k=!0,m.touches.startX=m.touches.currentX,m.touches.startY=m.touches.currentY,C=x,void(m.touches.diff=r()?m.touches.currentX-m.touches.startX:m.touches.currentY-m.touches.startY)}(m.params.freeMode||m.params.watchSlidesProgress)&&m.updateActiveIndex(),m.params.freeMode&&(0===_.length&&_.push({position:m.touches[r()?"startX":"startY"],time:w}),_.push({position:m.touches[r()?"currentX":"currentY"],time:(new window.Date).getTime()})),m.updateProgress(C),m.setWrapperTranslate(C)}}}}}},m.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),m.emit("onTouchEnd",m,e),v){m.params.grabCursor&&b&&v&&(m.container[0].style.cursor="move",m.container[0].style.cursor="-webkit-grab",m.container[0].style.cursor="-moz-grab",m.container[0].style.cursor="grab");var a=Date.now(),n=a-w;if(m.allowClick&&(m.updateClickedSlide(e),m.emit("onTap",m,e),300>n&&a-P>300&&(S&&clearTimeout(S),S=setTimeout(function(){m&&(m.params.paginationHide&&m.paginationContainer.length>0&&!t(e.target).hasClass(m.params.bulletClass)&&m.paginationContainer.toggleClass(m.params.paginationHiddenClass),m.emit("onClick",m,e))},300)),300>n&&300>a-P&&(S&&clearTimeout(S),m.emit("onDoubleTap",m,e))),P=Date.now(),setTimeout(function(){m&&(m.allowClick=!0)},0),!v||!b||!m.swipeDirection||0===m.touches.diff||C===x)return void(v=b=!1);v=b=!1;var r;if(r=m.params.followFinger?m.rtl?m.translate:-m.translate:-C,m.params.freeMode){if(r<-m.minTranslate())return void m.slideTo(m.activeIndex);if(r>-m.maxTranslate())return void(m.slides.length<m.snapGrid.length?m.slideTo(m.snapGrid.length-1):m.slideTo(m.slides.length-1));if(m.params.freeModeMomentum){if(_.length>1){var i=_.pop(),o=_.pop(),s=i.position-o.position,l=i.time-o.time;m.velocity=s/l,m.velocity=m.velocity/2,Math.abs(m.velocity)<.02&&(m.velocity=0),(l>150||(new window.Date).getTime()-i.time>300)&&(m.velocity=0)}else m.velocity=0;_.length=0;var c=1e3*m.params.freeModeMomentumRatio,p=m.velocity*c,d=m.translate+p;m.rtl&&(d=-d);var u,h=!1,f=20*Math.abs(m.velocity)*m.params.freeModeMomentumBounceRatio;if(d<m.maxTranslate())m.params.freeModeMomentumBounce?(d+m.maxTranslate()<-f&&(d=m.maxTranslate()-f),u=m.maxTranslate(),h=!0,T=!0):d=m.maxTranslate();else if(d>m.minTranslate())m.params.freeModeMomentumBounce?(d-m.minTranslate()>f&&(d=m.minTranslate()+f),u=m.minTranslate(),h=!0,T=!0):d=m.minTranslate();else if(m.params.freeModeSticky){var g,y=0;for(y=0;y<m.snapGrid.length;y+=1)if(m.snapGrid[y]>-d){g=y;break}d=Math.abs(m.snapGrid[g]-d)<Math.abs(m.snapGrid[g-1]-d)||"next"===m.swipeDirection?m.snapGrid[g]:m.snapGrid[g-1],m.rtl||(d=-d)}if(0!==m.velocity)c=m.rtl?Math.abs((-d-m.translate)/m.velocity):Math.abs((d-m.translate)/m.velocity);else if(m.params.freeModeSticky)return void m.slideReset();m.params.freeModeMomentumBounce&&h?(m.updateProgress(u),m.setWrapperTransition(c),m.setWrapperTranslate(d),m.onTransitionStart(),m.animating=!0,m.wrapper.transitionEnd(function(){m&&T&&(m.emit("onMomentumBounce",m),m.setWrapperTransition(m.params.speed),m.setWrapperTranslate(u),m.wrapper.transitionEnd(function(){m&&m.onTransitionEnd()}))})):m.velocity?(m.updateProgress(d),m.setWrapperTransition(c),m.setWrapperTranslate(d),m.onTransitionStart(),m.animating||(m.animating=!0,m.wrapper.transitionEnd(function(){m&&m.onTransitionEnd()}))):m.updateProgress(d),m.updateActiveIndex()}return void((!m.params.freeModeMomentum||n>=m.params.longSwipesMs)&&(m.updateProgress(),m.updateActiveIndex()))}var k,E=0,M=m.slidesSizesGrid[0];for(k=0;k<m.slidesGrid.length;k+=m.params.slidesPerGroup)"undefined"!=typeof m.slidesGrid[k+m.params.slidesPerGroup]?r>=m.slidesGrid[k]&&r<m.slidesGrid[k+m.params.slidesPerGroup]&&(E=k,M=m.slidesGrid[k+m.params.slidesPerGroup]-m.slidesGrid[k]):r>=m.slidesGrid[k]&&(E=k,M=m.slidesGrid[m.slidesGrid.length-1]-m.slidesGrid[m.slidesGrid.length-2]);var I=(r-m.slidesGrid[E])/M;if(n>m.params.longSwipesMs){if(!m.params.longSwipes)return void m.slideTo(m.activeIndex);"next"===m.swipeDirection&&(I>=m.params.longSwipesRatio?m.slideTo(E+m.params.slidesPerGroup):m.slideTo(E)),"prev"===m.swipeDirection&&(I>1-m.params.longSwipesRatio?m.slideTo(E+m.params.slidesPerGroup):m.slideTo(E))}else{if(!m.params.shortSwipes)return void m.slideTo(m.activeIndex);"next"===m.swipeDirection&&m.slideTo(E+m.params.slidesPerGroup),"prev"===m.swipeDirection&&m.slideTo(E)}}},m._slideTo=function(e,t){return m.slideTo(e,t,!0,!0)},m.slideTo=function(e,t,a,n){"undefined"==typeof a&&(a=!0),"undefined"==typeof e&&(e=0),0>e&&(e=0),m.snapIndex=Math.floor(e/m.params.slidesPerGroup),m.snapIndex>=m.snapGrid.length&&(m.snapIndex=m.snapGrid.length-1);var i=-m.snapGrid[m.snapIndex];m.params.autoplay&&m.autoplaying&&(n||!m.params.autoplayDisableOnInteraction?m.pauseAutoplay(t):m.stopAutoplay()),m.updateProgress(i);for(var o=0;o<m.slidesGrid.length;o++)-Math.floor(100*i)>=Math.floor(100*m.slidesGrid[o])&&(e=o);if(!m.params.allowSwipeToNext&&i<m.translate&&i<m.minTranslate())return!1;if(!m.params.allowSwipeToPrev&&i>m.translate&&i>m.maxTranslate()&&(m.activeIndex||0)!==e)return!1;if("undefined"==typeof t&&(t=m.params.speed),m.previousIndex=m.activeIndex||0,m.activeIndex=e,i===m.translate)return m.updateClasses(),!1;m.updateClasses(),m.onTransitionStart(a);r()?i:0,r()?0:i;return 0===t?(m.setWrapperTransition(0),m.setWrapperTranslate(i),m.onTransitionEnd(a)):(m.setWrapperTransition(t),m.setWrapperTranslate(i),m.animating||(m.animating=!0,m.wrapper.transitionEnd(function(){m&&m.onTransitionEnd(a)}))),!0},m.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),m.lazy&&m.lazy.onTransitionStart(),e&&(m.emit("onTransitionStart",m),m.activeIndex!==m.previousIndex&&m.emit("onSlideChangeStart",m))},m.onTransitionEnd=function(e){m.animating=!1,m.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),m.lazy&&m.lazy.onTransitionEnd(),e&&(m.emit("onTransitionEnd",m),m.activeIndex!==m.previousIndex&&m.emit("onSlideChangeEnd",m)),m.params.hashnav&&m.hashnav&&m.hashnav.setHash()},m.slideNext=function(e,t,a){if(m.params.loop){if(m.animating)return!1;m.fixLoop();m.container[0].clientLeft;return m.slideTo(m.activeIndex+m.params.slidesPerGroup,t,e,a)}return m.slideTo(m.activeIndex+m.params.slidesPerGroup,t,e,a)},m._slideNext=function(e){return m.slideNext(!0,e,!0)},m.slidePrev=function(e,t,a){if(m.params.loop){if(m.animating)return!1;m.fixLoop();m.container[0].clientLeft;return m.slideTo(m.activeIndex-1,t,e,a)}return m.slideTo(m.activeIndex-1,t,e,a)},m._slidePrev=function(e){return m.slidePrev(!0,e,!0)},m.slideReset=function(e,t,a){return m.slideTo(m.activeIndex,t,e)},m.setWrapperTransition=function(e,t){m.wrapper.transition(e),"slide"!==m.params.effect&&m.effects[m.params.effect]&&m.effects[m.params.effect].setTransition(e),m.params.parallax&&m.parallax&&m.parallax.setTransition(e),m.params.scrollbar&&m.scrollbar&&m.scrollbar.setTransition(e),m.params.control&&m.controller&&m.controller.setTransition(e,t),m.emit("onSetTransition",m,e)},m.setWrapperTranslate=function(e,t,a){var n=0,i=0,o=0;r()?n=m.rtl?-e:e:i=e,m.params.virtualTranslate||(m.support.transforms3d?m.wrapper.transform("translate3d("+n+"px, "+i+"px, "+o+"px)"):m.wrapper.transform("translate("+n+"px, "+i+"px)")),m.translate=r()?n:i,t&&m.updateActiveIndex(),"slide"!==m.params.effect&&m.effects[m.params.effect]&&m.effects[m.params.effect].setTranslate(m.translate),m.params.parallax&&m.parallax&&m.parallax.setTranslate(m.translate),m.params.scrollbar&&m.scrollbar&&m.scrollbar.setTranslate(m.translate),m.params.control&&m.controller&&m.controller.setTranslate(m.translate,a),m.emit("onSetTranslate",m,m.translate)},m.getTranslate=function(e,t){var a,n,r,i;return"undefined"==typeof t&&(t="x"),m.params.virtualTranslate?m.rtl?-m.translate:m.translate:(r=window.getComputedStyle(e,null),window.WebKitCSSMatrix?i=new window.WebKitCSSMatrix("none"===r.webkitTransform?"":r.webkitTransform):(i=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=i.toString().split(",")),"x"===t&&(n=window.WebKitCSSMatrix?i.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),"y"===t&&(n=window.WebKitCSSMatrix?i.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),m.rtl&&n&&(n=-n),n||0)},m.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=r()?"x":"y"),m.getTranslate(m.wrapper[0],e)},m.observers=[],m.initObservers=function(){if(m.params.observeParents)for(var e=m.container.parents(),t=0;t<e.length;t++)l(e[t]);l(m.container[0],{childList:!1}),l(m.wrapper[0],{attributes:!1})},m.disconnectObservers=function(){for(var e=0;e<m.observers.length;e++)m.observers[e].disconnect();m.observers=[]},m.createLoop=function(){m.wrapper.children("."+m.params.slideClass+"."+m.params.slideDuplicateClass).remove();var e=m.wrapper.children("."+m.params.slideClass);"auto"!==m.params.slidesPerView||m.params.loopedSlides||(m.params.loopedSlides=e.length),m.loopedSlides=parseInt(m.params.loopedSlides||m.params.slidesPerView,10),m.loopedSlides=m.loopedSlides+m.params.loopAdditionalSlides,m.loopedSlides>e.length&&(m.loopedSlides=e.length);var a,n=[],r=[];for(e.each(function(a,i){var o=t(this);a<m.loopedSlides&&r.push(i),a<e.length&&a>=e.length-m.loopedSlides&&n.push(i),o.attr("data-swiper-slide-index",a)}),a=0;a<r.length;a++)m.wrapper.append(t(r[a].cloneNode(!0)).addClass(m.params.slideDuplicateClass));for(a=n.length-1;a>=0;a--)m.wrapper.prepend(t(n[a].cloneNode(!0)).addClass(m.params.slideDuplicateClass))},m.destroyLoop=function(){m.wrapper.children("."+m.params.slideClass+"."+m.params.slideDuplicateClass).remove(),m.slides.removeAttr("data-swiper-slide-index")},m.fixLoop=function(){var e;m.activeIndex<m.loopedSlides?(e=m.slides.length-3*m.loopedSlides+m.activeIndex,e+=m.loopedSlides,m.slideTo(e,0,!1,!0)):("auto"===m.params.slidesPerView&&m.activeIndex>=2*m.loopedSlides||m.activeIndex>m.slides.length-2*m.params.slidesPerView)&&(e=-m.slides.length+m.activeIndex+m.loopedSlides,e+=m.loopedSlides,m.slideTo(e,0,!1,!0))},m.appendSlide=function(e){if(m.params.loop&&m.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&m.wrapper.append(e[t]);else m.wrapper.append(e);m.params.loop&&m.createLoop(),m.params.observer&&m.support.observer||m.update(!0)},m.prependSlide=function(e){m.params.loop&&m.destroyLoop();var t=m.activeIndex+1;if("object"==typeof e&&e.length){for(var a=0;a<e.length;a++)e[a]&&m.wrapper.prepend(e[a]);t=m.activeIndex+e.length}else m.wrapper.prepend(e);m.params.loop&&m.createLoop(),m.params.observer&&m.support.observer||m.update(!0),m.slideTo(t,0,!1)},m.removeSlide=function(e){m.params.loop&&(m.destroyLoop(),m.slides=m.wrapper.children("."+m.params.slideClass));var t,a=m.activeIndex;if("object"==typeof e&&e.length){for(var n=0;n<e.length;n++)t=e[n],m.slides[t]&&m.slides.eq(t).remove(),a>t&&a--;a=Math.max(a,0)}else t=e,m.slides[t]&&m.slides.eq(t).remove(),a>t&&a--,a=Math.max(a,0);m.params.loop&&m.createLoop(),m.params.observer&&m.support.observer||m.update(!0),m.params.loop?m.slideTo(a+m.loopedSlides,0,!1):m.slideTo(a,0,!1)},m.removeAllSlides=function(){for(var e=[],t=0;t<m.slides.length;t++)e.push(t);m.removeSlide(e)},m.effects={fade:{setTranslate:function(){for(var e=0;e<m.slides.length;e++){var t=m.slides.eq(e),a=t[0].swiperSlideOffset,n=-a;m.params.virtualTranslate||(n-=m.translate);var i=0;r()||(i=n,n=0);var o=m.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:o}).transform("translate3d("+n+"px, "+i+"px, 0px)")}},setTransition:function(e){if(m.slides.transition(e),m.params.virtualTranslate&&0!==e){var t=!1;m.slides.transitionEnd(function(){if(!t&&m){t=!0,m.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],a=0;a<e.length;a++)m.wrapper.trigger(e[a])}})}}},cube:{setTranslate:function(){var e,a=0;m.params.cube.shadow&&(r()?(e=m.wrapper.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),m.wrapper.append(e)),e.css({height:m.width+"px"})):(e=m.container.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),m.container.append(e))));for(var n=0;n<m.slides.length;n++){var i=m.slides.eq(n),o=90*n,s=Math.floor(o/360);m.rtl&&(o=-o,s=Math.floor(-o/360));var l=Math.max(Math.min(i[0].progress,1),-1),c=0,p=0,d=0;n%4===0?(c=4*-s*m.size,d=0):(n-1)%4===0?(c=0,d=4*-s*m.size):(n-2)%4===0?(c=m.size+4*s*m.size,d=m.size):(n-3)%4===0&&(c=-m.size,d=3*m.size+4*m.size*s),m.rtl&&(c=-c),r()||(p=c,c=0);var u="rotateX("+(r()?0:-o)+"deg) rotateY("+(r()?o:0)+"deg) translate3d("+c+"px, "+p+"px, "+d+"px)";if(1>=l&&l>-1&&(a=90*n+90*l,m.rtl&&(a=90*-n-90*l)),i.transform(u),m.params.cube.slideShadows){var h=r()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),f=r()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===h.length&&(h=t('<div class="swiper-slide-shadow-'+(r()?"left":"top")+'"></div>'),i.append(h)),0===f.length&&(f=t('<div class="swiper-slide-shadow-'+(r()?"right":"bottom")+'"></div>'),i.append(f));i[0].progress;h.length&&(h[0].style.opacity=-i[0].progress),f.length&&(f[0].style.opacity=i[0].progress)}}if(m.wrapper.css({"-webkit-transform-origin":"50% 50% -"+m.size/2+"px","-moz-transform-origin":"50% 50% -"+m.size/2+"px","-ms-transform-origin":"50% 50% -"+m.size/2+"px","transform-origin":"50% 50% -"+m.size/2+"px"}),m.params.cube.shadow)if(r())e.transform("translate3d(0px, "+(m.width/2+m.params.cube.shadowOffset)+"px, "+-m.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+m.params.cube.shadowScale+")");else{var g=Math.abs(a)-90*Math.floor(Math.abs(a)/90),v=1.5-(Math.sin(2*g*Math.PI/360)/2+Math.cos(2*g*Math.PI/360)/2),b=m.params.cube.shadowScale,w=m.params.cube.shadowScale/v,y=m.params.cube.shadowOffset;e.transform("scale3d("+b+", 1, "+w+") translate3d(0px, "+(m.height/2+y)+"px, "+-m.height/2/w+"px) rotateX(-90deg)")}var C=m.isSafari||m.isUiWebView?-m.size/2:0;m.wrapper.transform("translate3d(0px,0,"+C+"px) rotateX("+(r()?0:a)+"deg) rotateY("+(r()?-a:0)+"deg)")},setTransition:function(e){m.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),m.params.cube.shadow&&!r()&&m.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=m.translate,a=r()?-e+m.width/2:-e+m.height/2,n=r()?m.params.coverflow.rotate:-m.params.coverflow.rotate,i=m.params.coverflow.depth,o=0,s=m.slides.length;s>o;o++){var l=m.slides.eq(o),c=m.slidesSizesGrid[o],p=l[0].swiperSlideOffset,d=(a-p-c/2)/c*m.params.coverflow.modifier,u=r()?n*d:0,h=r()?0:n*d,f=-i*Math.abs(d),g=r()?0:m.params.coverflow.stretch*d,v=r()?m.params.coverflow.stretch*d:0;Math.abs(v)<.001&&(v=0),Math.abs(g)<.001&&(g=0),Math.abs(f)<.001&&(f=0),Math.abs(u)<.001&&(u=0),Math.abs(h)<.001&&(h=0);var b="translate3d("+v+"px,"+g+"px,"+f+"px)  rotateX("+h+"deg) rotateY("+u+"deg)";if(l.transform(b),l[0].style.zIndex=-Math.abs(Math.round(d))+1,m.params.coverflow.slideShadows){var w=r()?l.find(".swiper-slide-shadow-left"):l.find(".swiper-slide-shadow-top"),y=r()?l.find(".swiper-slide-shadow-right"):l.find(".swiper-slide-shadow-bottom");0===w.length&&(w=t('<div class="swiper-slide-shadow-'+(r()?"left":"top")+'"></div>'),l.append(w)),0===y.length&&(y=t('<div class="swiper-slide-shadow-'+(r()?"right":"bottom")+'"></div>'),l.append(y)),w.length&&(w[0].style.opacity=d>0?d:0),y.length&&(y[0].style.opacity=-d>0?-d:0)}}if(m.browser.ie){var C=m.wrapper[0].style;C.perspectiveOrigin=a+"px 50%"}},setTransition:function(e){m.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},m.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,a){if("undefined"!=typeof e&&("undefined"==typeof a&&(a=!0),0!==m.slides.length)){var n=m.slides.eq(e),r=n.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!n.hasClass("swiper-lazy")||n.hasClass("swiper-lazy-loaded")||n.hasClass("swiper-lazy-loading")||r.add(n[0]),0!==r.length&&r.each(function(){var e=t(this);e.addClass("swiper-lazy-loading");var r=e.attr("data-background"),i=e.attr("data-src");m.loadImage(e[0],i||r,!1,function(){if(r?(e.css("background-image","url("+r+")"),e.removeAttr("data-background")):(e.attr("src",i),e.removeAttr("data-src")),e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),n.find(".swiper-lazy-preloader, .preloader").remove(),m.params.loop&&a){var t=n.attr("data-swiper-slide-index");if(n.hasClass(m.params.slideDuplicateClass)){var o=m.wrapper.children('[data-swiper-slide-index="'+t+'"]:not(.'+m.params.slideDuplicateClass+")");m.lazy.loadImageInSlide(o.index(),!1)}else{var s=m.wrapper.children("."+m.params.slideDuplicateClass+'[data-swiper-slide-index="'+t+'"]');m.lazy.loadImageInSlide(s.index(),!1)}}m.emit("onLazyImageReady",m,n[0],e[0])}),m.emit("onLazyImageLoad",m,n[0],e[0])})}},load:function(){var e;if(m.params.watchSlidesVisibility)m.wrapper.children("."+m.params.slideVisibleClass).each(function(){
m.lazy.loadImageInSlide(t(this).index())});else if(m.params.slidesPerView>1)for(e=m.activeIndex;e<m.activeIndex+m.params.slidesPerView;e++)m.slides[e]&&m.lazy.loadImageInSlide(e);else m.lazy.loadImageInSlide(m.activeIndex);if(m.params.lazyLoadingInPrevNext)if(m.params.slidesPerView>1){for(e=m.activeIndex+m.params.slidesPerView;e<m.activeIndex+m.params.slidesPerView+m.params.slidesPerView;e++)m.slides[e]&&m.lazy.loadImageInSlide(e);for(e=m.activeIndex-m.params.slidesPerView;e<m.activeIndex;e++)m.slides[e]&&m.lazy.loadImageInSlide(e)}else{var a=m.wrapper.children("."+m.params.slideNextClass);a.length>0&&m.lazy.loadImageInSlide(a.index());var n=m.wrapper.children("."+m.params.slidePrevClass);n.length>0&&m.lazy.loadImageInSlide(n.index())}},onTransitionStart:function(){m.params.lazyLoading&&(m.params.lazyLoadingOnTransitionStart||!m.params.lazyLoadingOnTransitionStart&&!m.lazy.initialImageLoaded)&&m.lazy.load()},onTransitionEnd:function(){m.params.lazyLoading&&!m.params.lazyLoadingOnTransitionStart&&m.lazy.load()}},m.scrollbar={set:function(){if(m.params.scrollbar){var e=m.scrollbar;e.track=t(m.params.scrollbar),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=t('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=r()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=m.size/m.virtualSize,e.moveDivider=e.divider*(e.trackSize/m.size),e.dragSize=e.trackSize*e.divider,r()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.divider>=1?e.track[0].style.display="none":e.track[0].style.display="",m.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(m.params.scrollbar){var e,t=m.scrollbar,a=(m.translate||0,t.dragSize);e=(t.trackSize-t.dragSize)*m.progress,m.rtl&&r()?(e=-e,e>0?(a=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(a=t.trackSize+e)):0>e?(a=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(a=t.trackSize-e),r()?(m.support.transforms3d?t.drag.transform("translate3d("+e+"px, 0, 0)"):t.drag.transform("translateX("+e+"px)"),t.drag[0].style.width=a+"px"):(m.support.transforms3d?t.drag.transform("translate3d(0px, "+e+"px, 0)"):t.drag.transform("translateY("+e+"px)"),t.drag[0].style.height=a+"px"),m.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){m.params.scrollbar&&m.scrollbar.drag.transition(e)}},m.controller={LinearSpline:function(e,t){this.x=e,this.y=t,this.lastIndex=e.length-1;var a,n;this.x.length;this.interpolate=function(e){return e?(n=r(this.x,e),a=n-1,(e-this.x[a])*(this.y[n]-this.y[a])/(this.x[n]-this.x[a])+this.y[a]):0};var r=function(){var e,t,a;return function(n,r){for(t=-1,e=n.length;e-t>1;)n[a=e+t>>1]<=r?t=a:e=a;return e}}()},getInterpolateFunction:function(e){m.controller.spline||(m.controller.spline=m.params.loop?new m.controller.LinearSpline(m.slidesGrid,e.slidesGrid):new m.controller.LinearSpline(m.snapGrid,e.snapGrid))},setTranslate:function(e,t){function a(t){e=t.rtl&&"horizontal"===t.params.direction?-m.translate:m.translate,"slide"===m.params.controlBy&&(m.controller.getInterpolateFunction(t),r=-m.controller.spline.interpolate(-e)),r&&"container"!==m.params.controlBy||(n=(t.maxTranslate()-t.minTranslate())/(m.maxTranslate()-m.minTranslate()),r=(e-m.minTranslate())*n+t.minTranslate()),m.params.controlInverse&&(r=t.maxTranslate()-r),t.updateProgress(r),t.setWrapperTranslate(r,!1,m),t.updateActiveIndex()}var n,r,i=m.params.control;if(m.isArray(i))for(var o=0;o<i.length;o++)i[o]!==t&&i[o]instanceof Swiper&&a(i[o]);else i instanceof Swiper&&t!==i&&a(i)},setTransition:function(e,t){function a(t){t.setWrapperTransition(e,m),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){r&&(t.params.loop&&"slide"===m.params.controlBy&&t.fixLoop(),t.onTransitionEnd())}))}var n,r=m.params.control;if(m.isArray(r))for(n=0;n<r.length;n++)r[n]!==t&&r[n]instanceof Swiper&&a(r[n]);else r instanceof Swiper&&t!==r&&a(r)}},m.parallax={setTranslate:function(){m.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){c(this,m.progress)}),m.slides.each(function(){var e=t(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=Math.min(Math.max(e[0].progress,-1),1);c(this,t)})})},setTransition:function(e){"undefined"==typeof e&&(e=m.params.speed),m.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var a=t(this),n=parseInt(a.attr("data-swiper-parallax-duration"),10)||e;0===e&&(n=0),a.transition(n)})}},m._plugins=[];for(var L in m.plugins){var O=m.plugins[L](m,m.params[L]);O&&m._plugins.push(O)}return m.callPlugins=function(e){for(var t=0;t<m._plugins.length;t++)e in m._plugins[t]&&m._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},m.emitterEventListeners={},m.emit=function(e){m.params[e]&&m.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(m.emitterEventListeners[e])for(t=0;t<m.emitterEventListeners[e].length;t++)m.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);m.callPlugins&&m.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},m.on=function(e,t){return e=p(e),m.emitterEventListeners[e]||(m.emitterEventListeners[e]=[]),m.emitterEventListeners[e].push(t),m},m.off=function(e,t){var a;if(e=p(e),"undefined"==typeof t)return m.emitterEventListeners[e]=[],m;if(m.emitterEventListeners[e]&&0!==m.emitterEventListeners[e].length){for(a=0;a<m.emitterEventListeners[e].length;a++)m.emitterEventListeners[e][a]===t&&m.emitterEventListeners[e].splice(a,1);return m}},m.once=function(e,t){e=p(e);var a=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),m.off(e,a)};return m.on(e,a),m},m.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(t(e.target).is(m.params.nextButton)?(m.onClickNext(e),m.isEnd?m.a11y.notify(m.params.lastSlideMessage):m.a11y.notify(m.params.nextSlideMessage)):t(e.target).is(m.params.prevButton)&&(m.onClickPrev(e),m.isBeginning?m.a11y.notify(m.params.firstSlideMessage):m.a11y.notify(m.params.prevSlideMessage)),t(e.target).is("."+m.params.bulletClass)&&t(e.target)[0].click())},liveRegion:t('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=m.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){if(m.params.nextButton){var e=t(m.params.nextButton);m.a11y.makeFocusable(e),m.a11y.addRole(e,"button"),m.a11y.addLabel(e,m.params.nextSlideMessage)}if(m.params.prevButton){var a=t(m.params.prevButton);m.a11y.makeFocusable(a),m.a11y.addRole(a,"button"),m.a11y.addLabel(a,m.params.prevSlideMessage)}t(m.container).append(m.a11y.liveRegion)},initPagination:function(){m.params.pagination&&m.params.paginationClickable&&m.bullets&&m.bullets.length&&m.bullets.each(function(){var e=t(this);m.a11y.makeFocusable(e),m.a11y.addRole(e,"button"),m.a11y.addLabel(e,m.params.paginationBulletMessage.replace(/{{index}}/,e.index()+1))})},destroy:function(){m.a11y.liveRegion&&m.a11y.liveRegion.length>0&&m.a11y.liveRegion.remove()}},m.init=function(){m.params.loop&&m.createLoop(),m.updateContainerSize(),m.updateSlidesSize(),m.updatePagination(),m.params.scrollbar&&m.scrollbar&&m.scrollbar.set(),"slide"!==m.params.effect&&m.effects[m.params.effect]&&(m.params.loop||m.updateProgress(),m.effects[m.params.effect].setTranslate()),m.params.loop?m.slideTo(m.params.initialSlide+m.loopedSlides,0,m.params.runCallbacksOnInit):(m.slideTo(m.params.initialSlide,0,m.params.runCallbacksOnInit),0===m.params.initialSlide&&(m.parallax&&m.params.parallax&&m.parallax.setTranslate(),m.lazy&&m.params.lazyLoading&&(m.lazy.load(),m.lazy.initialImageLoaded=!0))),m.attachEvents(),m.params.observer&&m.support.observer&&m.initObservers(),m.params.preloadImages&&!m.params.lazyLoading&&m.preloadImages(),m.params.autoplay&&m.startAutoplay(),m.params.keyboardControl&&m.enableKeyboardControl&&m.enableKeyboardControl(),m.params.mousewheelControl&&m.enableMousewheelControl&&m.enableMousewheelControl(),m.params.hashnav&&m.hashnav&&m.hashnav.init(),m.params.a11y&&m.a11y&&m.a11y.init(),m.emit("onInit",m)},m.cleanupStyles=function(){m.container.removeClass(m.classNames.join(" ")).removeAttr("style"),m.wrapper.removeAttr("style"),m.slides&&m.slides.length&&m.slides.removeClass([m.params.slideVisibleClass,m.params.slideActiveClass,m.params.slideNextClass,m.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),m.paginationContainer&&m.paginationContainer.length&&m.paginationContainer.removeClass(m.params.paginationHiddenClass),m.bullets&&m.bullets.length&&m.bullets.removeClass(m.params.bulletActiveClass),m.params.prevButton&&t(m.params.prevButton).removeClass(m.params.buttonDisabledClass),m.params.nextButton&&t(m.params.nextButton).removeClass(m.params.buttonDisabledClass),m.params.scrollbar&&m.scrollbar&&(m.scrollbar.track&&m.scrollbar.track.length&&m.scrollbar.track.removeAttr("style"),m.scrollbar.drag&&m.scrollbar.drag.length&&m.scrollbar.drag.removeAttr("style"))},m.destroy=function(e,t){m.detachEvents(),m.stopAutoplay(),m.params.loop&&m.destroyLoop(),t&&m.cleanupStyles(),m.disconnectObservers(),m.params.keyboardControl&&m.disableKeyboardControl&&m.disableKeyboardControl(),m.params.mousewheelControl&&m.disableMousewheelControl&&m.disableMousewheelControl(),m.params.a11y&&m.a11y&&m.a11y.destroy(),m.emit("onDestroy"),e!==!1&&(m=null)},m.init(),m}},Swiper.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),a=e.match(/(iPad).*OS\s([\d_]+)/),n=e.match(/(iPod)(.*OS\s([\d_]+))?/),r=!a&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:a||r||n,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),a=0;a<t.length;a++)if(t[a]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}}}();